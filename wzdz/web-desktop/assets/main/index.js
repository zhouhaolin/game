System.register("chunks:///_virtual/AICom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./AIOrderCom.ts","./BuffCom.ts"],(function(t){"use strict";var e,r,n,o,a,s,i,c,u,h;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator,s=t.Animation,i=t.Vec3},function(t){c=t.ComBase},function(t){u=t.AIOrderCom},function(t){h=t.BuffCom}],execute:function(){var m;o._RF.push({},"4bcf5rQl1NKCKlKeExD90vB","AICom",void 0);var p=a.ccclass;a.property,t("AICom",p("AICom")(m=function(t){function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).runCom=void 0,e.seekCom=void 0,e.attackCom=void 0,e.charProp=void 0,e}e(o,t);var a=o.prototype;return a.init=function(t,e,r,n){this.runCom=e,this.seekCom=r,this.attackCom=n,this.charProp=t,this.charProp.watch("state",this,"onStateChange"),this.onStateChange(this.charProp)},a.onStateChange=function(t){var e,r;"run"==t.state&&(null==(e=this.node.getComponent(s))||e.play("run"));""==t.state&&(this.node.getChildByName("m_role").setPosition(new i(0,0,0)),null==(r=this.node.getComponent(s))||r.stop())},a.loop=function(){var t=r(n().mark((function t(e){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.getComponent(h).checkRunBuff(e)){t.next=3;break}return this.seekCom.resetTarget(),t.abrupt("return");case 3:if(!this.getComponent(u).checkRunOrder(e,this.charProp.charType)){t.next=6;break}return this.seekCom.resetTarget(),t.abrupt("return");case 6:if(null==(r=this.seekCom.getSeekEnemy())||!r.activeInHierarchy){t.next=19;break}if(!this.attackCom.isAttackDis(r)){t.next=15;break}return t.next=11,this.attackCom.attackTarget(r);case 11:return this.seekCom.resetTarget(),t.abrupt("return");case 15:return this.runCom.runToTarget(e,r),t.abrupt("return");case 17:t.next=20;break;case 19:this.attackCom.noTarget(r);case 20:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o}(c))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/AIOrderCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./SysMgr.ts","./GameSys.ts","./GameObjMgrCom.ts","./AICom.ts","./OrderCom0.ts"],(function(r){"use strict";var e,t,n,o,i,s,c,u,a,d,f,O;return{setters:[function(r){e=r.inheritsLoose,t=r.createForOfIteratorHelperLoose},function(r){n=r.cclegacy,o=r._decorator,i=r.Vec3},function(r){s=r.ComBase},function(r){c=r.Defines},function(r){u=r.SysMgr},function(r){a=r.GameSys},function(r){d=r.GameObjMgrCom},function(r){f=r.AICom},function(r){O=r.OrderCom0}],execute:function(){var h,m;n._RF.push({},"677ecj1ArZGTaip9ig3EECA","AIOrderCom",void 0);var g=o.ccclass;o.property,r("AIOrderCom",g("AIOrderCom")(((m=function(r){function n(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))||this).objMgr=void 0,e.finishOrder=new Set,e}e(n,r);var o=n.prototype;return o.init=function(){this.objMgr=u.getSys(a).getCom(d)},o.checkRunOrder=function(r,e){var o=!1,i=n.roleOrderArr;e==c.CHAR_ENEEMY&&(i=n.enemyOrderArr);for(var s,u=t(i);!(s=u()).done;){var a=s.value,d=this.objMgr.getOrderSetByType(a);null!=d&&(0!=d.size&&this.checkOneOrderSet(d)&&(o=o||this.runOrder(a,r)))}return o},o.checkOneOrderSet=function(r){for(var e,n=t(r);!(e=n()).done;){var o=e.value;if(!this.finishOrder.has(o))return!0}return!1},o.runOrder=function(r,e){if(r==n.ORDER_0)for(var o,s=this.objMgr.getOrderSetByType(r),c=t(s);!(o=c()).done;){var u=o.value;if(!this.finishOrder.has(u)){if(!u.getComponent(O).isRun)continue;return this.getComponent(f).runCom.runToTarget(e,u),i.distance(this.node.position,u.position)<10&&this.finishOrder.add(u),!0}}return!1},n}(s)).ORDER_0=0,m.ORDER_1=1,m.roleOrderArr=[m.ORDER_0],m.enemyOrderArr=[m.ORDER_1],h=m))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimPropBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts"],(function(r){"use strict";var e,t,n,o;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy,n=r._decorator},function(r){o=r.PropBase}],execute:function(){var s;t._RF.push({},"c50f8jWkIVAqZVcuurSdkSF","AnimPropBase",void 0);var c=n.ccclass;n.property,r("AnimPropBase",c("AnimPropBase")(s=function(r){function t(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))||this).state="idle",e}return e(t,r),t}(o))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/AreaCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(t){"use strict";var e,o,a,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,a=t._decorator,r=t.Label},function(t){n=t.ComBase}],execute:function(){var c;o._RF.push({},"ffb65j3TWBHd7sSKX6pgLQG","AreaCom",void 0);var i=a.ccclass;a.property,t("AreaCom",i("AreaCom")(c=function(t){function o(){for(var e,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))||this).attackDis=3,e}return e(o,t),o.prototype.init=function(t){this.node.getChildByName("m_AreaLabel").getComponent(r).fontSize=2.3*t.attackDis,this.attackDis=t.attackDis},o}(n))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/AttackCom0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./IntervalMgr.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./AudioSys.ts","./GameSys.ts","./PoolSys.ts","./TweenAction.ts","./FireMgrCom.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,o,i,n,s,a,r,c,u,p,h,m,f,d,l,y,g;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator,a=t.Vec3,r=t.Vec2},function(t){c=t.ComBase},function(t){u=t.IntervalMgr},function(t){p=t.ResourcesPathDefine},function(t){h=t.SysMgr},function(t){m=t.AudioSys},function(t){f=t.GameSys},function(t){d=t.PoolSys},function(t){l=t.TweenAction},function(t){y=t.FireMgrCom},function(t){g=t.GameObjMgrCom}],execute:function(){var w;n._RF.push({},"d0c47/vSb9O86c6Hb5ljSDe","AttackCom0",void 0);var v=s.ccclass;s.property,t("AttackCom0",v("AttackCom0")(w=function(t){function n(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).attackDis=3,e.attackRate=1,e.fireSpeed=100,e.damage=5,e.soundType=0,e.fireType=0,e.charProp=void 0,e.m_weapon=void 0,e.m_weaponPos=void 0,e.objMgr=void 0,e.gameSys=void 0,e.poolSys=void 0,e.audioSys=void 0,e}e(n,t);var s=n.prototype;return s.init=function(t){this.damage=t.damage,this.attackRate=t.attackRate,this.attackDis=t.attackDis,this.fireSpeed=t.fireSpeed,this.soundType=t.soundType,this.fireType=t.fireType,this.charProp=t,this.m_weapon=this.node.getChildByName("m_role").getChildByName("m_weapon"),this.m_weaponPos=this.m_weapon.getChildByName("m_weaponPos"),this.gameSys=h.getSys(f),this.poolSys=h.getSys(d),this.audioSys=h.getSys(m),this.objMgr=this.gameSys.getCom(g)},s.noTarget=function(){},s.isAttackDis=function(t){return a.distance(t.position,this.node.position)<=this.attackDis},s.attackTarget=function(){var t=o(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.charProp.setData({state:""}),new a(e.position).subtract(this.node.position).normalize(),this.lookAtObj(e),t.next=6,this.startAttack(e);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.lookAtObj=function(t){var e=t.position.x-this.node.position.x,o=t.position.y-this.node.position.y,i=new r(e,o);if(i.equals(r.ZERO))this.m_weapon.angle=0;else{var n=i.signAngle(new r(0,1))/Math.PI*180;this.m_weapon.angle=-n}},s.startAttack=function(){var t=o(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.checkInterval(this,this.attackRate)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.startFire(e);case 4:this.showRecoilForce();case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.startFire=function(){var t=o(i().mark((function t(e){var o,n,s,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=p.SOUND_MAP.get(this.soundType),this.audioSys.playAudio(o[0],o[1]),t.next=4,this.poolSys.createNode(p.FIRE_ROOT_PATH+"/fire"+this.fireType);case 4:(n=t.sent).parent=this.objMgr.getParentNode(),n.setWorldPosition(this.m_weaponPos.worldPosition),s=a.distance(this.node.position,e.position),r=s/this.fireSpeed,this.gameSys.getCom(y).attackOneTarget({fire:n,time:r,target:e,damage:this.damage});case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.showRecoilForce=function(){var t=new a(this.m_weaponPos.position);t.subtract3f(0,2,0);var e=new a(this.m_weaponPos.position),o=this.attackRate/8;o>.2&&(o=.2),l.createStart().moveTo(this.m_weaponPos,this.m_weaponPos.position,t,o,null).moveTo(this.m_weaponPos,t,e,o,null)},n}(c))||w);n._RF.pop()}}}));

System.register("chunks:///_virtual/AttackCom1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(t){"use strict";var n,r,e,o,c,a;return{setters:[function(t){n=t.inheritsLoose,r=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator},function(t){a=t.ComBase}],execute:function(){var i;o._RF.push({},"95596U3To1GcIO6k+lb4h0c","AttackCom1",void 0);var u=c.ccclass;c.property,t("AttackCom1",u("AttackCom1")(i=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var c=o.prototype;return c.init=function(t){},c.noTarget=function(){},c.isAttackDis=function(t){return!1},c.attackTarget=function(){var t=r(e().mark((function t(n){return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o}(a))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/AttackCom2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./IntervalMgr.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./AudioSys.ts","./GameSys.ts","./PoolSys.ts","./TweenAction.ts","./FireMgrCom.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,o,i,n,s,a,r,c,u,p,h,m,f,d,y,g,l,w;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator,a=t.Vec3,r=t.Vec2},function(t){c=t.ComBase},function(t){u=t.Defines},function(t){p=t.IntervalMgr},function(t){h=t.ResourcesPathDefine},function(t){m=t.SysMgr},function(t){f=t.AudioSys},function(t){d=t.GameSys},function(t){y=t.PoolSys},function(t){g=t.TweenAction},function(t){l=t.FireMgrCom},function(t){w=t.GameObjMgrCom}],execute:function(){var v;n._RF.push({},"b88baCncwxOH4PcKStnm/dU","AttackCom2",void 0);var S=s.ccclass;s.property,t("AttackCom2",S("AttackCom2")(v=function(t){function n(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).attackDis=3,e.attackRate=1,e.fireSpeed=100,e.damage=5,e.damageArea=3,e.soundType=0,e.fireType=0,e.charProp=void 0,e.m_weapon=void 0,e.m_weaponPos=void 0,e.gameSys=void 0,e.objMgr=void 0,e.poolSys=void 0,e.audioSys=void 0,e}e(n,t);var s=n.prototype;return s.init=function(t){this.damageArea=t.damageArea,this.damage=t.damage,this.attackRate=t.attackRate,this.attackDis=t.attackDis,this.fireSpeed=t.fireSpeed,this.soundType=t.soundType,this.fireType=t.fireType,this.charProp=t,this.m_weapon=this.node.getChildByName("m_role").getChildByName("m_weapon"),this.m_weaponPos=this.m_weapon.getChildByName("m_weaponPos"),this.gameSys=m.getSys(d),this.audioSys=m.getSys(f),this.objMgr=this.gameSys.getCom(w),this.poolSys=m.getSys(y)},s.noTarget=function(){},s.isAttackDis=function(t){return a.distance(t.position,this.node.position)<=this.attackDis},s.attackTarget=function(){var t=o(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.charProp.setData({state:""}),new a(e.position).subtract(this.node.position).normalize(),this.lookAtObj(e),t.next=6,this.startAttack(e);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.lookAtObj=function(t){var e=t.position.x-this.node.position.x,o=t.position.y-this.node.position.y,i=new r(e,o);if(i.equals(r.ZERO))this.m_weapon.angle=0;else{var n=i.signAngle(new r(0,1))/Math.PI*180;this.m_weapon.angle=-n}},s.startAttack=function(){var t=o(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p.checkInterval(this,this.attackRate)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.startFire(e);case 4:this.showRecoilForce();case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.startFire=function(){var t=o(i().mark((function t(e){var o,n,s,r,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.gameSys){t.next=2;break}return t.abrupt("return");case 2:return o=h.SOUND_MAP.get(this.soundType),this.audioSys.playAudio(o[0],o[1]),t.next=6,this.poolSys.createNode(h.FIRE_ROOT_PATH+"/fire"+this.fireType);case 6:(n=t.sent).parent=this.objMgr.getParentNode(),n.setWorldPosition(this.m_weaponPos.worldPosition),s=a.distance(this.node.position,e.position),r=s/this.fireSpeed,c=u.CHAR_ROLE,this.charProp.charType==u.CHAR_ROLE&&(c=u.CHAR_ENEEMY),this.gameSys.getCom(l).attackOnePos({fire:n,time:r,pos:new a(e.position),damage:this.damage,damageArea:this.damageArea,beAttackCharType:c});case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.showRecoilForce=function(){var t=new a(this.m_weaponPos.position);t.subtract3f(0,2,0);var e=new a(this.m_weaponPos.position),o=this.attackRate/8;o>.2&&(o=.2),g.createStart().moveTo(this.m_weaponPos,this.m_weaponPos.position,t,o,null).moveTo(this.m_weaponPos,t,e,o,null)},n}(c))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/AttackCom3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./IntervalMgr.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./AudioSys.ts","./GameSys.ts","./PoolSys.ts","./GameRandomUtils.ts","./TweenAction.ts","./FireMgrCom.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,o,s,i,n,a,r,c,u,p,h,m,d,f,y,l,g,w,R;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,n=t._decorator,a=t.Vec3,r=t.Vec2},function(t){c=t.ComBase},function(t){u=t.Defines},function(t){p=t.IntervalMgr},function(t){h=t.ResourcesPathDefine},function(t){m=t.SysMgr},function(t){d=t.AudioSys},function(t){f=t.GameSys},function(t){y=t.PoolSys},function(t){l=t.GameRandomUtils},function(t){g=t.TweenAction},function(t){w=t.FireMgrCom},function(t){R=t.GameObjMgrCom}],execute:function(){var P;i._RF.push({},"24c328PtdBIV66UR/n1dlHT","AttackCom3",void 0);var A=n.ccclass;n.property,t("AttackCom3",A("AttackCom3")(P=function(t){function i(){for(var e,o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).attackDis=3,e.attackRate=1,e.fireSpeed=100,e.damage=5,e.damageArea=3,e.soundType=0,e.fireType=0,e.charProp=void 0,e.m_weapon=void 0,e.m_weaponPos=void 0,e.gameSys=void 0,e.objMgr=void 0,e.poolSys=void 0,e.audioSys=void 0,e}e(i,t);var n=i.prototype;return n.init=function(t){this.damageArea=t.damageArea,this.damage=t.damage,this.attackRate=t.attackRate,this.attackDis=t.attackDis,this.fireSpeed=t.fireSpeed,this.soundType=t.soundType,this.fireType=t.fireType,this.charProp=t,this.m_weapon=this.node.getChildByName("m_role").getChildByName("m_weapon"),this.m_weaponPos=this.m_weapon.getChildByName("m_weaponPos"),this.gameSys=m.getSys(f),this.audioSys=m.getSys(d),this.objMgr=this.gameSys.getCom(R),this.poolSys=m.getSys(y)},n.noTarget=function(){},n.isAttackDis=function(t){return a.distance(t.position,this.node.position)<=this.attackDis},n.attackTarget=function(){var t=o(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.charProp.setData({state:""}),new a(e.position).subtract(this.node.position).normalize(),this.lookAtObj(e),t.next=6,this.startAttack(e);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.lookAtObj=function(t){var e=t.position.x-this.node.position.x,o=t.position.y-this.node.position.y,s=new r(e,o);if(s.equals(r.ZERO))this.m_weapon.angle=0;else{var i=s.signAngle(new r(0,1))/Math.PI*180;this.m_weapon.angle=-i}},n.startAttack=function(){var t=o(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p.checkInterval(this,this.attackRate)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.startFire(e);case 4:this.showRecoilForce();case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.startFire=function(){var t=o(s().mark((function t(e){var o,i,n,r,c,p,m,d,f,y,g;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new Array,i=new Array,n=a.distance(this.node.position,e.position),r=n/this.fireSpeed,c=u.CHAR_ROLE,this.charProp.charType==u.CHAR_ROLE&&(c=u.CHAR_ENEEMY),p=h.SOUND_MAP.get(this.soundType),m=this.objMgr.getParentNode(),this.audioSys.playAudio(p[0],p[1]),t.next=11,this.poolSys.createNode(h.FIRE_ROOT_PATH+"/fire"+this.fireType);case 11:return(d=t.sent).parent=m,d.setWorldPosition(this.m_weaponPos.worldPosition),o.push(d),i.push(new a(e.position).add3f(l.gameRandomNum(-50,0),l.gameRandomNum(-40,0),0)),this.audioSys.playAudio(p[0],p[1]),t.next=19,this.poolSys.createNode(h.FIRE_ROOT_PATH+"/fire"+this.fireType);case 19:return(f=t.sent).parent=m,f.setWorldPosition(this.m_weaponPos.worldPosition),o.push(f),i.push(new a(e.position).add3f(-l.gameRandomNum(50,0),l.gameRandomNum(40,0),0)),this.audioSys.playAudio(p[0],p[1]),t.next=27,this.poolSys.createNode(h.FIRE_ROOT_PATH+"/fire"+this.fireType);case 27:return(y=t.sent).parent=m,y.setWorldPosition(this.m_weaponPos.worldPosition),o.push(y),i.push(new a(e.position).add3f(l.gameRandomNum(50,0),-l.gameRandomNum(40,0),0)),this.audioSys.playAudio(p[0],p[1]),t.next=35,this.poolSys.createNode(h.FIRE_ROOT_PATH+"/fire"+this.fireType);case 35:(g=t.sent).parent=m,g.setWorldPosition(this.m_weaponPos.worldPosition),o.push(g),i.push(new a(e.position).add3f(-l.gameRandomNum(50,0),-l.gameRandomNum(40,0),0)),this.startRandomFire(o,r,i,c);case 41:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.startRandomFire=function(t,e,o,s){for(var i in t)this.gameSys.getCom(w).attackOnePos({fire:t[i],time:e,pos:o[i],damage:this.damage,damageArea:this.damageArea,beAttackCharType:s})},n.showRecoilForce=function(){var t=new a(this.m_weaponPos.position);t.subtract3f(0,2,0);var e=new a(this.m_weaponPos.position),o=this.attackRate/8;o>.2&&(o=.2),g.createStart().moveTo(this.m_weaponPos,this.m_weaponPos.position,t,o,null).moveTo(this.m_weaponPos,t,e,o,null)},i}(c))||P);i._RF.pop()}}}));

System.register("chunks:///_virtual/AttackCom4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./IntervalMgr.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./AudioSys.ts","./GameSys.ts","./PoolSys.ts","./TweenAction.ts","./FireMgrCom.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,o,i,n,s,a,r,c,u,p,h,m,f,d,y,g,l;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator,a=t.Vec3,r=t.Vec2},function(t){c=t.ComBase},function(t){u=t.IntervalMgr},function(t){p=t.ResourcesPathDefine},function(t){h=t.SysMgr},function(t){m=t.AudioSys},function(t){f=t.GameSys},function(t){d=t.PoolSys},function(t){y=t.TweenAction},function(t){g=t.FireMgrCom},function(t){l=t.GameObjMgrCom}],execute:function(){var w;n._RF.push({},"b315dUPN5JGyp0DpwgUtSN5","AttackCom4",void 0);var v=s.ccclass;s.property,t("AttackCom4",v("AttackCom4")(w=function(t){function n(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).attackDis=3,e.attackRate=1,e.fireSpeed=100,e.damage=5,e.soundType=0,e.fireType=0,e.charProp=void 0,e.m_weapon=void 0,e.m_weaponPos=void 0,e.gameSys=void 0,e.objMgr=void 0,e.poolSys=void 0,e.audioSys=void 0,e}e(n,t);var s=n.prototype;return s.init=function(t){this.damage=t.damage,this.attackRate=t.attackRate,this.attackDis=t.attackDis,this.fireSpeed=t.fireSpeed,this.soundType=t.soundType,this.fireType=t.fireType,this.charProp=t,this.m_weapon=this.node.getChildByName("m_role").getChildByName("m_weapon"),this.m_weaponPos=this.m_weapon.getChildByName("m_weaponPos"),this.gameSys=h.getSys(f),this.objMgr=this.gameSys.getCom(l),this.audioSys=h.getSys(m),this.poolSys=h.getSys(d)},s.noTarget=function(){},s.isAttackDis=function(t){return a.distance(t.position,this.node.position)<=this.attackDis},s.attackTarget=function(){var t=o(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.charProp.setData({state:""}),new a(e.position).subtract(this.node.position).normalize(),this.lookAtObj(e),t.next=6,this.startAttack(e);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.lookAtObj=function(t){var e=t.position.x-this.node.position.x,o=t.position.y-this.node.position.y,i=new r(e,o);if(i.equals(r.ZERO))this.m_weapon.angle=0;else{var n=i.signAngle(new r(0,1))/Math.PI*180;this.m_weapon.angle=-n}},s.startAttack=function(){var t=o(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.checkInterval(this,this.attackRate)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.startFire(e);case 4:this.showRecoilForce();case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.startFire=function(){var t=o(i().mark((function t(e){var o,n,s,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=p.SOUND_MAP.get(this.soundType),this.audioSys.playAudio(o[0],o[1]),t.next=4,this.poolSys.createNode(p.FIRE_ROOT_PATH+"/fire"+this.fireType);case 4:(n=t.sent).parent=this.objMgr.getParentNode(),n.setWorldPosition(this.m_weaponPos.worldPosition),s=a.distance(this.node.position,e.position),r=s/this.fireSpeed,this.gameSys.getCom(g).cueOneTarget({fire:n,time:r,target:e,damage:this.damage});case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.showRecoilForce=function(){var t=new a(this.m_weaponPos.position);t.subtract3f(0,2,0);var e=new a(this.m_weaponPos.position),o=this.attackRate/8;o>.2&&(o=.2),y.createStart().moveTo(this.m_weaponPos,this.m_weaponPos.position,t,o,null).moveTo(this.m_weaponPos,t,e,o,null)},n}(c))||w);n._RF.pop()}}}));

System.register("chunks:///_virtual/AttackCom5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./IntervalMgr.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./AudioSys.ts","./GameSys.ts","./BlockObjMgr.ts","./HPCom.ts"],(function(t){"use strict";var e,o,r,a,n,i,s,c,u,h,p,l,d,f,m,g,k,y;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,r=t.regeneratorRuntime,a=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,i=t._decorator,s=t.Label,c=t.Color,u=t.Vec3},function(t){h=t.ComBase},function(t){p=t.Defines},function(t){l=t.IntervalMgr},function(t){d=t.ResourcesPathDefine},function(t){f=t.SysMgr},function(t){m=t.AudioSys},function(t){g=t.GameSys},function(t){k=t.BlockObjMgr},function(t){y=t.HPCom}],execute:function(){var C;n._RF.push({},"60154vklXVFcrEnWDXt4oSD","AttackCom5",void 0);var v=i.ccclass;i.property,t("AttackCom5",v("AttackCom5")(C=function(t){function n(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).attackDis=3,e.attackRate=1,e.fireSpeed=100,e.damage=5,e.soundType=0,e.fireType=0,e.charProp=void 0,e.objMgr=void 0,e.m_AreaNode=void 0,e.normalColor=void 0,e.attackColor=void 0,e.audioSys=void 0,e}e(n,t);var i=n.prototype;return i.init=function(t){this.damage=t.damage,this.attackRate=t.attackRate,this.attackDis=t.attackDis,this.fireSpeed=t.fireSpeed,this.soundType=t.soundType,this.fireType=t.fireType,this.charProp=t,this.m_AreaNode=this.node.getChildByName("m_AreaNode"),this.m_AreaNode.getComponent(s).fontSize=2.3*t.attackDis,this.normalColor=new c(this.m_AreaNode.getComponent(s).color),this.attackColor=new c(this.normalColor.r,this.normalColor.g,this.normalColor.b,this.normalColor.a+70),this.objMgr=f.getSys(g).getCom(k),this.audioSys=f.getSys(m)},i.noTarget=function(){this.m_AreaNode.getComponent(s).color=this.normalColor},i.isAttackDis=function(t){return u.distance(t.position,this.node.position)<=this.attackDis?(this.m_AreaNode.getComponent(s).color=this.attackColor,!0):(this.m_AreaNode.getComponent(s).color=this.normalColor,!1)},i.attackTarget=function(){var t=o(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.charProp.setData({state:""}),t.next=3,this.startAttack(e);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.startAttack=function(){var t=o(r().mark((function t(e){var o,n,i,s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l.checkInterval(this,this.attackRate)){t.next=2;break}return t.abrupt("return");case 2:o=this.charProp.charType==p.CHAR_ENEEMY?this.objMgr.getRoleArr(this.node.position,this.attackDis):this.objMgr.getEnemyArr(this.node.position,this.attackDis),n=a(o);case 4:if((i=n()).done){t.next=12;break}if(e=i.value,!(u.distance(e.position,this.node.position)>this.attackDis)){t.next=9;break}return t.abrupt("continue",10);case 9:e.getComponent(y).downHP(this.damage);case 10:t.next=4;break;case 12:s=d.SOUND_MAP.get(this.soundType),this.audioSys.playAudio(s[0],s[1]);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n}(h))||C);n._RF.pop()}}}));

System.register("chunks:///_virtual/AttackCom6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./IntervalMgr.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./AudioSys.ts","./GameSys.ts","./BoomFactory1.ts","./AICom.ts"],(function(t){"use strict";var e,a,n,r,s,i,o,c,u,p,h,f,d,m;return{setters:[function(t){e=t.inheritsLoose,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator,i=t.Vec3},function(t){o=t.ComBase},function(t){c=t.IntervalMgr},function(t){u=t.ResourcesPathDefine},function(t){p=t.SysMgr},function(t){h=t.AudioSys},function(t){f=t.GameSys},function(t){d=t.BoomFactory1},function(t){m=t.AICom}],execute:function(){var y;r._RF.push({},"9babcs7kWNHEZ4vq8U/QcHi","AttackCom6",void 0);var g=s.ccclass;s.property,t("AttackCom6",g("AttackCom6")(y=function(t){function r(){for(var e,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).attackDis=3,e.attackRate=1,e.fireSpeed=100,e.damage=5,e.damageArea=5,e.soundType=0,e.fireType=0,e.charProp=void 0,e.m_weapon=void 0,e.m_weaponPos=void 0,e.gameSys=void 0,e.audioSys=void 0,e.haveAttackTarget=new Set,e}e(r,t);var s=r.prototype;return s.init=function(t){this.damage=t.damage,this.attackRate=t.attackRate,this.attackDis=t.attackDis,this.fireSpeed=t.fireSpeed,this.damageArea=t.damageArea,this.soundType=t.soundType,this.fireType=t.fireType,this.charProp=t,this.m_weapon=this.node.getChildByName("m_role").getChildByName("m_weapon"),this.m_weaponPos=this.m_weapon.getChildByName("m_weaponPos"),this.gameSys=p.getSys(f),this.audioSys=p.getSys(h)},s.noTarget=function(){},s.isAttackDis=function(t){return i.distance(t.position,this.node.position)<=this.attackDis},s.attackTarget=function(){var t=a(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.charProp.setData({state:""}),t.next=3,this.startAttack(e);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.startAttack=function(){var t=a(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.checkInterval(this,this.attackRate)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.startFire(e);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.startFire=function(){var t=a(n().mark((function t(e){var a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=u.SOUND_MAP.get(this.soundType),this.audioSys.playAudio(a[0],a[1]),d.create(this.node.position,this.damageArea),d.create(new i(e.position),this.damageArea),e.position=new i(this.node.position).add3f(0,-25,0),e.getComponent(m).seekCom.resetTarget();case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r}(o))||y);r._RF.pop()}}}));

System.register("chunks:///_virtual/AudioSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./GlobalVar.ts","./ResourceLoader.ts","./SysMgr.ts","./PoolSys.ts"],(function(t){"use strict";var e,n,r,o,a,s,i,u,c,p;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator},function(t){s=t.SysBase},function(t){i=t.GlobalVar},function(t){u=t.ResourceLoader},function(t){c=t.SysMgr},function(t){p=t.PoolSys}],execute:function(){var l;o._RF.push({},"23c12T+IYlMVbUGV46awuX2","AudioSys",void 0);var d=a.ccclass;a.property,t("AudioSys",d("AudioSys")(l=function(t){function o(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).audioMap=new Map,e.wxAudioMap=new Map,e.poolSys=void 0,e}e(o,t);var a=o.prototype;return a.onLoad=function(){this.poolSys=c.getSys(p)},a.playAudio=function(){var t=n(r().mark((function t(e,n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.isWX){t.next=5;break}return t.next=3,this.playWXAudio(e,n);case 3:t.next=7;break;case 5:return t.next=7,this.playNormalAudio(e,n);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),a.playWXAudio=function(){var t=n(r().mark((function t(e,n){var o,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.wxAudioMap.has(e)){t.next=5;break}return t.next=3,u.loadAsset(e);case 3:o=t.sent,this.wxAudioMap.set(e,o);case 5:o=this.wxAudioMap.get(e),(a=window.wx.createInnerAudioContext({useWebAudioImplement:!0})).src=o.nativeUrl,a.volume=null!=n?n:1,a.play();case 10:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),a.getWxAudio=function(t){},a.playNormalAudio=function(){var t=n(r().mark((function t(e,n){var o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.audioMap.has(e)){t.next=5;break}return t.next=3,u.loadAsset(e);case 3:o=t.sent,this.audioMap.set(e,o);case 5:this.audioMap.get(e).playOneShot(n);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),o}(s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/BlockObjMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,o,r,a,n,i,s,c;return{setters:[function(t){e=t.inheritsLoose,o=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,a=t._decorator},function(t){n=t.ComBase},function(t){i=t.SysMgr},function(t){s=t.GameSys},function(t){c=t.GameObjMgrCom}],execute:function(){var h;r._RF.push({},"5b9e0Hoy9NAEpBnCTFnHZGR","BlockObjMgr",void 0);var l=a.ccclass;a.property,t("BlockObjMgr",l("BlockObjMgr")(h=function(t){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).gameSys=void 0,e.objMgr=void 0,e.enemyMap=new Map,e.roleMap=new Map,e.blockAIDataMap=new Map,e.blockSize=50,e}e(r,t);var a=r.prototype;return a.init=function(){this.gameSys=i.getSys(s),this.objMgr=this.gameSys.getCom(c)},a.loop=function(t){this.enemyMap.clear(),this.roleMap.clear(),this.blockAIDataMap.clear();for(var e,r=this.objMgr.getAllEnemySet(),a=o(r);!(e=a()).done;){var n=(h=e.value).getPosition(),i=Math.round(n.x/this.blockSize).toString()+","+Math.round(n.y/this.blockSize).toString();this.enemyMap.has(i)||this.enemyMap.set(i,new Set),this.enemyMap.get(i).add(h)}r=this.objMgr.getAllRoleSet();for(var s,c=o(r);!(s=c()).done;){var h;n=(h=s.value).getPosition(),i=Math.round(n.x/this.blockSize).toString()+","+Math.round(n.y/this.blockSize).toString();this.roleMap.has(i)||this.roleMap.set(i,new Set),this.roleMap.get(i).add(h)}},a.setBlockAIData=function(t,e,o,r){var a=Math.round(t.x/this.blockSize).toString()+","+Math.round(t.y/this.blockSize).toString()+","+e+","+o;this.blockAIDataMap.set(a,r)},a.getBlockAIData=function(t,e,o){var r=Math.round(t.x/this.blockSize).toString()+","+Math.round(t.y/this.blockSize).toString()+","+e+","+o;return this.blockAIDataMap.get(r)},a.getBlockRoleSet=function(t){var e=Math.round(t.x/this.blockSize)+","+Math.round(t.y/this.blockSize);return this.roleMap.get(e)},a.getBlockEnemySet=function(t){var e=Math.round(t.x/this.blockSize)+","+Math.round(t.y/this.blockSize);return this.enemyMap.get(e)},a.getEnemyArr=function(t,e){for(var o=Math.round(e/this.blockSize),r=Math.round(t.x/this.blockSize),a=Math.round(t.y/this.blockSize),n=new Array,i=r-1-o;i<=r+1+o;i++)for(var s=a-1-o;s<=a+1+o;s++){var c=i+","+s;this.enemyMap.has(c)&&(n=n.concat(Array.from(this.enemyMap.get(c))))}return n},a.getRoleArr=function(t,e){for(var o=Math.round(e/this.blockSize),r=Math.round(t.x/this.blockSize),a=Math.round(t.y/this.blockSize),n=new Array,i=r-1-o;i<=r+1+o;i++)for(var s=a-1-o;s<=a+1+o;s++){var c=i+","+s;this.roleMap.has(c)&&(n=n.concat(Array.from(this.roleMap.get(c))))}return n},r}(n))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/BoomFactory0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./DestroySelf.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./AudioSys.ts","./GameSys.ts","./PoolSys.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,o,n,r,s,a,c,u,i,y,f,p,m,l,g;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator,a=t.Animation,c=t.Label},function(t){u=t.ComBase},function(t){i=t.DestroySelf},function(t){y=t.ResourcesPathDefine},function(t){f=t.SysMgr},function(t){p=t.AudioSys},function(t){m=t.GameSys},function(t){l=t.PoolSys},function(t){g=t.GameObjMgrCom}],execute:function(){var S;r._RF.push({},"3cf3ewbPYRLpr6CJy4F7hLT","BoomFactory0",void 0);var d=s.ccclass;s.property,t("BoomFactory0",d("BoomFactory0")(S=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.create=function(){var t=o(n().mark((function t(e,o){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 0,f.getSys(p).playAudio("audios/boom0.wav",.2),t.next=4,f.getSys(l).createNode(y.BOOM_ROOT_PATH+"/boom0");case 4:return(r=t.sent).parent=f.getSys(m).getCom(g).getParentNode(),r.position=e,r.getComponent(a).play(),null==r.getComponent(i)&&r.addComponent(i),r.getComponent(c).fontSize=2.3*o,t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e,o){return t.apply(this,arguments)}}(),r}(u))||S);r._RF.pop()}}}));

System.register("chunks:///_virtual/BoomFactory1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./DestroySelf.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./GameSys.ts","./PoolSys.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,o,n,r,s,c,a,u,i,f,m,p,y,l;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator,c=t.Animation,a=t.Label},function(t){u=t.ComBase},function(t){i=t.DestroySelf},function(t){f=t.ResourcesPathDefine},function(t){m=t.SysMgr},function(t){p=t.GameSys},function(t){y=t.PoolSys},function(t){l=t.GameObjMgrCom}],execute:function(){var g;r._RF.push({},"48691Tc/+xFuL0LNGPzooUF","BoomFactory1",void 0);var S=s.ccclass;s.property,t("BoomFactory1",S("BoomFactory1")(g=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.create=function(){var t=o(n().mark((function t(e,o){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1,t.next=3,m.getSys(y).createNode(f.BOOM_ROOT_PATH+"/boom1");case 3:return(r=t.sent).parent=m.getSys(p).getCom(l).getParentNode(),r.position=e,r.getComponent(c).play(),null==r.getComponent(i)&&r.addComponent(i),r.getComponent(a).fontSize=2.3*o,t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e,o){return t.apply(this,arguments)}}(),r}(u))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/BubbleTipDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(e){"use strict";var t,i,o,l;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e._decorator},function(e){l=e.DlgBase}],execute:function(){var n,r;i._RF.push({},"eddf5epjZ5DKboaSWTpy7uU","BubbleTipDlg",void 0);var s=o.ccclass;o.property,e("BubbleTipDlg",s("BubbleTipDlg")(((r=function(e){function i(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).m_BgSprite=void 0,t.m_TipLabel=void 0,t.m_MoveNode=void 0,t}return t(i,e),i.prototype.initDlg=function(e){this.m_BgSprite=this.node.getChildByName("m_MoveNode").getChildByName("m_BgSprite"),this.m_TipLabel=this.node.getChildByName("m_MoveNode").getChildByName("m_TipLabel"),this.m_MoveNode=this.node.getChildByName("m_MoveNode")},i}(l)).UI_PATH="BubbleTipDlg",n=r))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/BubbleTipDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Functor.ts","./SysMgr.ts","./DlgSys.ts","./BubbleTipDlg.ts"],(function(t){"use strict";var o,e,i,n,s,r,c,l,a,u,p,h,m,g;return{setters:[function(t){o=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator,r=t.Label,c=t.Color,l=t.tween,a=t.Sprite,u=t.Vec3},function(t){p=t.Functor},function(t){h=t.SysMgr},function(t){m=t.DlgSys},function(t){g=t.BubbleTipDlg}],execute:function(){var v,T;n._RF.push({},"2ca38hX8Q9Hu4wuFX2ljJrN","BubbleTipDlgCom",void 0);var f=s.ccclass;s.property,t("BubbleTipDlgCom",f("BubbleTipDlgCom")(((T=function(t){function n(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).data=void 0,o.nowPos=void 0,o.moveUp=30,o.stopTime=.5,o.moveTime=.35,o.colorChangeTime=.3,o}o(n,t),n.createTip=function(){var t=e(i().mark((function t(o){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.ins.getCom(m).createMulDlg(n,o);case 2:case"end":return t.stop()}}),t)})));return function(o){return t.apply(this,arguments)}}(),n.showTip=function(){if(!(n.msgArr.length<=0)){var t=n.msgArr.shift();h.ins.getCom(m).createMulDlg(n,t)}};var s=n.prototype;return s.initDlg=function(o){t.prototype.initDlg.call(this,o),this.m_TipLabel.getComponent(r).string=o;var e=this.m_TipLabel.getComponent(r),i=new c(e.color);l(i).delay(this.moveTime+this.stopTime).to(this.colorChangeTime,{a:0},{onUpdate:function(){e.color=i}}).start();var n=this.m_BgSprite.getComponent(a);i=new c(n.color),l(i).delay(this.moveTime+this.stopTime).to(this.colorChangeTime,{a:0},{onUpdate:function(){n.color=i}}).start(),this.nowPos=this.node.getPosition();var s=new u(this.nowPos.x,this.nowPos.y+this.moveUp,this.nowPos.z),h=new u(this.nowPos.x,this.nowPos.y+2*this.moveUp,this.nowPos.z);l(this.node).to(this.moveTime,{position:s}).delay(this.stopTime).to(this.moveTime,{position:h}).call(p.getFunc(this,"removeDlg")).start()},s.removeDlg=function(){this.node.destroy(),n.showTip()},n}(g)).msgArr=new Array,v=T))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/BuffCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts","./GameObjMgrCom.ts","./BuffCom0.ts"],(function(e){"use strict";var t,n,o,r,f,u,a,s,i,c,p;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,o=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){f=e.cclegacy,u=e._decorator},function(e){a=e.ComBase},function(e){s=e.SysMgr},function(e){i=e.GameSys},function(e){c=e.GameObjMgrCom},function(e){p=e.BuffCom0}],execute:function(){var h,m;f._RF.push({},"bec6bOToR9HUIDDJfWQlJU8","BuffCom",void 0);var v=u.ccclass;u.property,e("BuffCom",v("BuffCom")(((m=function(e){function f(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).charProp=void 0,t.objMgr=void 0,t.buffMap=new Map,t}t(f,e);var u=f.prototype;return u.init=function(e){this.charProp=e,this.objMgr=s.getSys(i).getCom(c)},u.checkRunBuff=function(e){for(var t,o=!1,r=n(this.buffMap.values());!(t=r()).done;)for(var u,a=t.value,s=n(a);!(u=s()).done;){var i=u.value;o=o||this.node.getComponent(f.buffFunc.get(i.buffType)).runBuff({dt:e})}return o},u.addBuff=function(){var e=o(r().mark((function e(t){var n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.buffMap.has(t)||this.buffMap.set(t,new Set),n=this.buffMap.get(t),o=this.node.addComponent(f.buffFunc.get(t)),e.next=5,o.init();case 5:n.add(o);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.removeBuff=function(e){if(this.buffMap.has(e.buffType)){var t=this.buffMap.get(e.buffType);t.has(e)&&(this.node.removeComponent(e),t.delete(e))}},f}(a)).BUFF_STOP=0,m.buffFunc=new Map([[0,p]]),h=m))||h);f._RF.pop()}}}));

System.register("chunks:///_virtual/BuffCom0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Functor.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./TweenAction.ts","./BuffCom.ts"],(function(e){"use strict";var t,n,o,r,u,f,s,c,i,a,p;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){r=e.cclegacy,u=e._decorator},function(e){f=e.ComBase},function(e){s=e.Functor},function(e){c=e.ResourceLoader},function(e){i=e.ResourcesPathDefine},function(e){a=e.TweenAction},function(e){p=e.BuffCom}],execute:function(){var h;r._RF.push({},"0fe86KC9g5CXq90nQGSBpI3","BuffCom0",void 0);var m=u.ccclass;u.property,e("BuffCom0",m("BuffCom0")(h=function(e){function r(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).lastTime=5,t.buffType=0,t.buffNode=void 0,t}t(r,e);var u=r.prototype;return u.init=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.insNode(i.BUFF_ROOT_PATH+"/buff0");case 2:this.buffNode=e.sent,this.buffNode.parent=this.node,a.createStart().delay(this.lastTime,s.getFunc(this,"removeBuff"));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.removeBuff=function(){this.buffNode.destroy(),this.node.getComponent(p).removeBuff(this)},u.runBuff=function(e){return!0},r}(f))||h);r._RF.pop()}}}));

System.register("chunks:///_virtual/CharProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts"],(function(r){"use strict";var e,t,a,n;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy,a=r._decorator},function(r){n=r.PropBase}],execute:function(){var o;t._RF.push({},"a8056LwbxdHIK+2r5+iA/Tz","CharProp",void 0);var c=a.ccclass;a.property,r("CharProp",c("CharProp")(o=function(r){function t(){for(var e,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=r.call.apply(r,[this].concat(a))||this).state="",e.runSpeed=20,e.findEnemyDis=110,e.attackDis=60,e.attackRate=1,e.fireSpeed=100,e.hp=100,e.maxHp=100,e.damage=5,e.charType=0,e.damageArea=3,e.soundType=0,e.fireType=0,e}return e(t,r),t}(n))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/ClickFunctor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioSys.ts","./Functor.ts","./SysMgr.ts"],(function(t){"use strict";var n,u,c,o,r,i;return{setters:[function(t){n=t.construct},function(t){u=t.cclegacy,c=t._decorator},function(t){o=t.AudioSys},function(t){r=t.Functor},function(t){i=t.SysMgr}],execute:function(){var s;u._RF.push({},"dfa5a4+QspO5bdD5+60ypwd","ClickFunctor",void 0);var e=c.ccclass;c.property,t("ClickFunctor",e("ClickFunctor")(s=function(){function t(t){this.functor=void 0,this.audioSys=void 0,this.functor=t,this.audioSys=i.getSys(o)}return t.prototype.runCbFunc=function(){var t;null!=this.functor&&(t=this.functor).runCbFunc.apply(t,arguments),this.audioSys.playAudio("audios/touch.wav")},t.getFunc=function(u,c){for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];var e=n(r,[u,c].concat(i)),a=new t(e);return a.runCbFunc.bind(a)},t}())||s);u._RF.pop()}}}));

System.register("chunks:///_virtual/CodeReoladTool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,c,n,s;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime,o=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,n=e._decorator,s=e.js}],execute:function(){var a,i;c._RF.push({},"79816BZ9EhLlJyEsLzSQley","CodeReoladTool",void 0);var l=n.ccclass,u=(n.property,"D:/Hotfix/"),p="D:/CocosProject/cocos-creator-framework/assets/script/";e("CodeReoladTool",l("CodeReoladTool")(((i=function(){function e(){}return e.init=function(){var e=this;try{require("fs").watch(p,{recursive:!0},(function(t,r){r.endsWith(".ts")&&e.fileSet.add(r)}))}catch(e){}},e.reload=function(){var e=t(r().mark((function e(){var t,c,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("----start reload---"),t=o(this.fileSet);!(c=t()).done;)n=c.value,this.reloadOneFile(p+n.replace("\\","/"));this.fileSet.clear(),console.log("----end reload---");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.reloadOneFile=function(){var e=t(r().mark((function e(t){var c,n,a,i,l,f,d,h,v,y;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("reload:"+t),t=t.replace("\\","/"),c=(c=t.split("/").pop()).split(".")[0],n=require("child_process"),a=n.execSync,e.prev=5,e.next=8,a('tsc --outDir "D:/Hotfix/" '+t,(function(e,t,r){}));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:this.dict.has(c)?i=this.dict.get(c):(i=s.getClassByName(c),this.dict.set(c,i)),l=u+t.replace(p,"").replace(".ts","")+".js",f=require(l),d=Reflect.ownKeys(f[c].prototype),h=o(d);case 17:if((v=h()).done){e.next=24;break}if(!(y=v.value).startsWith("__")&&!y.startsWith("constructor")){e.next=21;break}return e.abrupt("continue",22);case 21:i.prototype[y]=f[c].prototype[y];case 22:e.next=17;break;case 24:delete require.cache[require.resolve(l)];case 25:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),e}()).dict=new Map,i.fileSet=new Set,a=i))||a);c._RF.pop()}}}));

System.register("chunks:///_virtual/ComBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,o,n,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,r=e.Node,a=e.Component}],execute:function(){var p;o._RF.push({},"e5c0fuRUEVNDLLAr+uUBBW2","ComBase",void 0);var c=n.ccclass;n.property,e("ComBase",c("ComBase")(p=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).comMap=new Map,t}t(o,e);var n=o.prototype;return n.addCom=function(e){var t=new r;t.name=e.prototype.name,t.parent=this.node;var o=t.addComponent(e);return this.comMap.set(e.prototype.name,t),o},n.getCom=function(e){var t=this.comMap.get(e.prototype.name);return null!=t?t.getComponent(e):null},n.removeCom=function(e){var t=this.comMap.get(e.prototype.name);null!=t&&t.destroy(),this.comMap.delete(e.prototype.name)},o}(a))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/CommonSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./KeyCom.ts"],(function(o){"use strict";var t,n,s,e,c;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,s=o._decorator},function(o){e=o.SysBase},function(o){c=o.KeyCom}],execute:function(){var r;n._RF.push({},"0c849KixcBHq5O3yflpWRPS","CommonSys",void 0);var i=s.ccclass;s.property,o("CommonSys",i("CommonSys")(r=function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n.prototype.onLoad=function(){this.addCom(c)},n}(e))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConsoleTool.ts",["cc","./HttpUtils.ts"],(function(t){"use strict";var o,n,c;return{setters:[function(t){o=t.cclegacy,n=t._decorator},function(t){c=t.HttpUtils}],execute:function(){var e,s;o._RF.push({},"a321cuPRcRBDrsmwDLRNTo/","ConsoleTool",void 0);var r=n.ccclass;n.property,t("ConsoleTool",r("ConsoleTool")(((s=function(){function t(){}return t.sendMsg=function(o){var n=(new Date).getTime()+t.count;t.count++;var e={msg:o,time:n.toString()};c.httpPost("http://192.168.10.26:7777/AddData",JSON.stringify(e))},t}()).count=0,e=s))||e);o._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(e){"use strict";var t,E;return{setters:[function(e){t=e.cclegacy,E=e._decorator}],execute:function(){var c,r;t._RF.push({},"f0873d9ZtVFurkEVmhBwtT6","Defines",void 0);var s=E.ccclass;E.property,e("Defines",s("Defines")(((r=function(){}).CHAR_ROLE=0,r.CHAR_ENEEMY=1,r.USER_ID="user_id",r.LEVEL_DATA="level_data",r.GAMEOBJ_TYPE_ROLE=0,r.GAMEOBJ_TYPE_ENEMY=1,r.GAMEOBJ_TYPE_ORDER=2,c=r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/DelCB.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Functor.ts"],(function(e){"use strict";var o,t,n,c,r;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,c=e.Component},function(e){r=e.Functor}],execute:function(){var s,l;t._RF.push({},"5e1a0plSZVEUJ7R6EulV6p0","DelCB",void 0);var u=n.ccclass;n.property,e("DelCB",u("DelCB")(((l=function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.addCb=function(e,o,n){null==e[t.cbObjSet]&&(e[t.cbObjSet]=new Set),e[t.cbObjSet].has(o)||(e[t.cbObjSet].add(o),null!=e[t.onDestroyName]&&(e._onDestroyReplace=e.onDestroy.bind(o)),e[t.onDestroyName]=r.getFunc(this,"onDestroyFunc",e,o,n))},t.onDestroyFunc=function(e,o,n){r.getFunc(o,n,e)();var c=e[t.onDestroyReplaceName];console.log("BBBBBBBBB",c),null!=e._onDestroyReplace&&(console.log("AAAAAAAAAAAAAA"),e._onDestroyReplace())},t}(c)).cbObjSet="_cbObjSet",l.onDestroyName="onDestroy",l.onDestroyReplaceName="_onDestroyReplace",s=l))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/DestroyCB.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Functor.ts"],(function(e){"use strict";var t,o,n,r,s,c;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e._decorator,s=e.Component},function(e){c=e.Functor}],execute:function(){var u,a;n._RF.push({},"27148QO9yxDlZ8OUDAsVPg8","DestroyCB",void 0);var l=r.ccclass;r.property,e("DestroyCB",l("DestroyCB")(((a=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.addCb=function(e,t,o){null==e[n.cbObjSet]&&(e[n.cbObjSet]=new Set),e[n.cbObjSet].has(t)||(e[n.cbObjSet].add(t),null!=e.onDestroy&&null==e._onDestroyReplace?(e._onDestroyReplace=[],e._onDestroyReplace.push(e.onDestroy.bind(t)),e[n.onDestroyName]=c.getNotWatchDestroyFunc(this,"onDestroyFunc",e,t,o)):null==e._onDestroyReplace?(e._onDestroyReplace=[],e[n.onDestroyName]=c.getNotWatchDestroyFunc(this,"onDestroyFunc",e,t,o)):e._onDestroyReplace.push(c.getNotWatchDestroyFunc(t,o,e)))},n.onDestroyFunc=function(e,t,n){if(c.getNotWatchDestroyFunc(t,n,e)(),null!=e._onDestroyReplace)for(var r,s=o(e._onDestroyReplace);!(r=s()).done;){(0,r.value)()}},n}(s)).cbObjSet="_cbObjSet",a.onDestroyName="onDestroy",a.onDestroyReplaceName="_onDestroyReplace",u=a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/DestroySelf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolSys.ts","./SysMgr.ts"],(function(t){"use strict";var o,e,s,n,r,i,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,n=t.Animation,r=t.Component},function(t){i=t.PoolSys},function(t){c=t.SysMgr}],execute:function(){var u;e._RF.push({},"076aaa2G0dANoxO+A7+CMUE","DestroySelf",void 0);var l=s.ccclass;s.property,t("DestroySelf",l("DestroySelf")(u=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.destroySelf=function(){this.node.getComponent(n).stop(),c.getSys(i).destroyNode(this.node)},e}(r))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/DlgBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysMgr.ts","./DlgSys.ts","./ComBase.ts"],(function(t){"use strict";var s,e,n,o,c,r;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.SysMgr},function(t){c=t.DlgSys},function(t){r=t.ComBase}],execute:function(){var i,l;e._RF.push({},"f342bZgl1lPM7vFszGNiP2S","DlgBase",void 0);var u=n.ccclass;n.property,t("DlgBase",u("DlgBase")(((l=function(t){function e(){return t.call(this)||this}s(e,t);var n=e.prototype;return n.initDlg=function(t){},n.closeDlg=function(t){o.ins.getCom(c).closeDlg(t)},e}(r)).UI_PATH="",i=l))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/DlgMgrCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./GlobalVar.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts"],(function(t){"use strict";var e,r,n,o,a,s,i,u,c;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator},function(t){s=t.ComBase},function(t){i=t.GlobalVar},function(t){u=t.ResourceLoader},function(t){c=t.ResourcesPathDefine}],execute:function(){var l;o._RF.push({},"fbaf8WutaZDRat94AEKLvSY","DlgMgrCom",void 0);var p=a.ccclass;a.property,t("DlgMgrCom",p("DlgMgrCom")(l=function(t){function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).dlgMap=new Map,e.root=void 0,e}e(o,t);var a=o.prototype;return a.onLoad=function(){this.root=i.canvas.getChildByName("uiRoot"),this.root.setSiblingIndex(99999)},a.createMulDlg=function(){var t=r(n().mark((function t(e,r){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.insNode(c.UI_ROOT_PATH+"/"+e.UI_PATH);case 2:return(o=t.sent).addComponent(e).initDlg(r),o.parent=this.root,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),a.createDlg=function(){var t=r(n().mark((function t(e,r){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dlgMap.has(e.UI_PATH)){t.next=2;break}return t.abrupt("return",this.dlgMap.get(e.UI_PATH));case 2:return t.next=4,u.insNode(c.UI_ROOT_PATH+"/"+e.UI_PATH);case 4:return o=t.sent,this.dlgMap.set(e.UI_PATH,o),o.addComponent(e).initDlg(r),o.parent=this.root,t.abrupt("return",o);case 9:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),a.getDlg=function(t){return this.dlgMap.get(t.UI_PATH)},a.closeDlg=function(t){if(this.dlgMap.has(t.UI_PATH)){var e=this.dlgMap.get(t.UI_PATH);this.dlgMap.delete(t.UI_PATH),e.destroy()}},o}(s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/DlgSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./DlgMgrCom.ts"],(function(t){"use strict";var r,e,n,o,s,c,u;return{setters:[function(t){r=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator},function(t){c=t.SysBase},function(t){u=t.DlgMgrCom}],execute:function(){var i;o._RF.push({},"7d7cd4ZKb5FT6Zn/9A8qK7l","DlgSys",void 0);var a=s.ccclass;s.property,t("DlgSys",a("DlgSys")(i=function(t){function o(){return t.apply(this,arguments)||this}r(o,t);var s=o.prototype;return s.onLoad=function(){this.addCom(u)},s.createMulDlg=function(){var t=e(n().mark((function t(r,e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCom(u).createMulDlg(r,e));case 1:case"end":return t.stop()}}),t,this)})));return function(r,e){return t.apply(this,arguments)}}(),s.createDlg=function(){var t=e(n().mark((function t(r,e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCom(u).createDlg(r,e));case 1:case"end":return t.stop()}}),t,this)})));return function(r,e){return t.apply(this,arguments)}}(),s.getDlg=function(t){return this.getCom(u).getDlg(t)},s.closeDlg=function(t){this.getCom(u).closeDlg(t)},o}(c))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyData.ts",["cc"],(function(e){"use strict";var a,t;return{setters:[function(e){a=e.cclegacy,t=e._decorator}],execute:function(){var m,r;a._RF.push({},"56563RFx0REvLIC2GQJtSEp","EnemyData",void 0);var n=t.ccclass;t.property,e("EnemyData",n("EnemyData")(((r=function(){}).data=new Map([[0,{num:0,name:"墙",shortName:"墙",desc:"",runSpeed:0,attackDis:0,attackRate:0,fireSpeed:0,maxHp:150,damage:0,damageArea:0,runCom:1,seekCom:1,attackCom:1,soundType:0,fireType:0}],[1,{num:1,name:"小卒",shortName:"卒",desc:"",runSpeed:0,attackDis:180,attackRate:4,fireSpeed:300,maxHp:130,damage:120,damageArea:0,runCom:1,seekCom:0,attackCom:0,soundType:0,fireType:0}],[2,{num:2,name:"迫击炮",shortName:"迫",desc:"",runSpeed:0,attackDis:200,attackRate:10,fireSpeed:30,maxHp:160,damage:60,damageArea:55,runCom:1,seekCom:0,attackCom:2,soundType:4,fireType:1}],[3,{num:3,name:"轰炸机",shortName:"轰",desc:"",runSpeed:0,attackDis:500,attackRate:5,fireSpeed:450,maxHp:150,damage:5,damageArea:45,runCom:1,seekCom:0,attackCom:3,soundType:6,fireType:1}],[4,{num:4,name:"灭神兵器",shortName:"灭",desc:"",runSpeed:0,attackDis:135,attackRate:5,fireSpeed:500,maxHp:155,damage:1300,damageArea:0,runCom:1,seekCom:0,attackCom:0,soundType:7,fireType:3}],[5,{num:5,name:"喷火器",shortName:"火",desc:"",runSpeed:0,attackDis:80,attackRate:.2,fireSpeed:0,maxHp:230,damage:19,damageArea:0,runCom:1,seekCom:0,attackCom:5,soundType:5,fireType:0}],[6,{num:6,name:"转移阵",shortName:"转",desc:"",runSpeed:0,attackDis:300,attackRate:50,fireSpeed:0,maxHp:250,damage:0,damageArea:30,runCom:1,seekCom:0,attackCom:6,soundType:8,fireType:0}],[7,{num:7,name:"家",shortName:"家",desc:"",runSpeed:0,attackDis:0,attackRate:0,fireSpeed:0,maxHp:2e3,damage:0,damageArea:0,runCom:1,seekCom:1,attackCom:1,soundType:0,fireType:0}]]),m=r))||m);a._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./EnemyData.ts","./AreaCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,a,r,o,s,c,i,u,p,m,f,y;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){p=e.EnemyData},function(e){m=e.AreaCom},function(e){f=e.CharProp},function(e){y=e.FactoryCharInit}],execute:function(){var d;r._RF.push({},"0a993b5Dc9Hbol/ZPhqvSdD","EnemyFactory0",void 0);var h=o.ccclass;o.property,e("EnemyFactory0",h("EnemyFactory0")(d=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.createEnemy=function(){var e=n(a().mark((function e(t,n,r){var o,s,d,h,C;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!0),o=0,e.next=4,i.insNode(u.ENEMY_ROOT_PATH+"/enemy"+o);case 4:if((s=e.sent).parent=n,s.setPosition(t),d=p.data.get(o),(h=new f).setData({state:"",runSpeed:d.runSpeed,findEnemyDis:d.attackDis,attackDis:d.attackDis,attackRate:d.attackRate,fireSpeed:d.fireSpeed,hp:d.maxHp,maxHp:d.maxHp,damage:d.damage,damageArea:d.damageArea,soundType:d.soundType,fireType:d.fireType,charType:1}),C={runCom:d.runCom,seekCom:d.seekCom,attackCom:d.attackCom},r){e.next=14;break}return s.addComponent(m).init(h),e.abrupt("return",s);case 14:return y.initChar(h,s,C,c.GAMEOBJ_TYPE_ENEMY),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),r}(s))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./EnemyData.ts","./AreaCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,a,r,o,s,c,i,u,p,f,m,y;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){p=e.EnemyData},function(e){f=e.AreaCom},function(e){m=e.CharProp},function(e){y=e.FactoryCharInit}],execute:function(){var d;r._RF.push({},"fbeb2hiahhLdqpoo8v3/6gA","EnemyFactory1",void 0);var h=o.ccclass;o.property,e("EnemyFactory1",h("EnemyFactory1")(d=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.createEnemy=function(){var e=n(a().mark((function e(t,n,r){var o,s,d,h,C;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!0),o=1,e.next=4,i.insNode(u.ENEMY_ROOT_PATH+"/enemy"+o);case 4:if((s=e.sent).parent=n,s.setPosition(t),d=p.data.get(o),(h=new m).setData({state:"",runSpeed:d.runSpeed,findEnemyDis:d.attackDis,attackDis:d.attackDis,attackRate:d.attackRate,fireSpeed:d.fireSpeed,hp:d.maxHp,maxHp:d.maxHp,damage:d.damage,damageArea:d.damageArea,soundType:d.soundType,fireType:d.fireType,charType:1}),C={runCom:d.runCom,seekCom:d.seekCom,attackCom:d.attackCom},r){e.next=14;break}return s.addComponent(f).init(h),e.abrupt("return",s);case 14:return y.initChar(h,s,C,c.GAMEOBJ_TYPE_ENEMY),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),r}(s))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./EnemyData.ts","./AreaCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,a,r,o,s,c,i,u,p,m,f,y;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){p=e.EnemyData},function(e){m=e.AreaCom},function(e){f=e.CharProp},function(e){y=e.FactoryCharInit}],execute:function(){var d;r._RF.push({},"805383OdgdF05APaEsLhJ+8","EnemyFactory2",void 0);var h=o.ccclass;o.property,e("EnemyFactory2",h("EnemyFactory2")(d=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r.createEnemy=function(){var e=n(a().mark((function e(t,n,r){var o,s,d,h,C;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!0),o=2,e.next=4,i.insNode(u.ENEMY_ROOT_PATH+"/enemy"+o);case 4:if((s=e.sent).parent=n,s.setPosition(t),d=p.data.get(o),(h=new f).setData({state:"",runSpeed:d.runSpeed,findEnemyDis:d.attackDis,attackDis:d.attackDis,attackRate:d.attackRate,fireSpeed:d.fireSpeed,hp:d.maxHp,maxHp:d.maxHp,damage:d.damage,damageArea:d.damageArea,soundType:d.soundType,fireType:d.fireType,charType:1}),C={runCom:d.runCom,seekCom:d.seekCom,attackCom:d.attackCom},r){e.next=14;break}return s.addComponent(m).init(h),e.abrupt("return",s);case 14:return y.initChar(h,s,C,c.GAMEOBJ_TYPE_ENEMY),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),r}(s))||d);r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./EnemyData.ts","./AreaCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,r,a,o,s,c,i,u,p,m,f,y;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){p=e.EnemyData},function(e){m=e.AreaCom},function(e){f=e.CharProp},function(e){y=e.FactoryCharInit}],execute:function(){var d;a._RF.push({},"03405i81RNACbV/5OORqq1m","EnemyFactory3",void 0);var C=o.ccclass;o.property,e("EnemyFactory3",C("EnemyFactory3")(d=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createEnemy=function(){var e=n(r().mark((function e(t,n,a){var o,s,d,C,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=!0),o=3,e.next=4,i.insNode(u.ENEMY_ROOT_PATH+"/enemy"+o);case 4:if((s=e.sent).parent=n,s.setPosition(t),d=p.data.get(o),(C=new f).setData({state:"",runSpeed:d.runSpeed,findEnemyDis:d.attackDis,attackDis:d.attackDis,attackRate:d.attackRate,fireSpeed:d.fireSpeed,hp:d.maxHp,maxHp:d.maxHp,damage:d.damage,damageArea:d.damageArea,soundType:d.soundType,fireType:d.fireType,charType:1}),h={runCom:d.runCom,seekCom:d.seekCom,attackCom:d.attackCom},a){e.next=14;break}return s.addComponent(m).init(C),e.abrupt("return",s);case 14:return y.initChar(C,s,h,c.GAMEOBJ_TYPE_ENEMY),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),a}(s))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./EnemyData.ts","./AreaCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,r,a,o,s,c,i,u,p,m,f,y;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){p=e.EnemyData},function(e){m=e.AreaCom},function(e){f=e.CharProp},function(e){y=e.FactoryCharInit}],execute:function(){var d;a._RF.push({},"31bc31U4utEb4CEUPnb9vqI","EnemyFactory4",void 0);var C=o.ccclass;o.property,e("EnemyFactory4",C("EnemyFactory4")(d=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createEnemy=function(){var e=n(r().mark((function e(t,n,a){var o,s,d,C,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=!0),o=4,e.next=4,i.insNode(u.ENEMY_ROOT_PATH+"/enemy"+o);case 4:if((s=e.sent).parent=n,s.setPosition(t),d=p.data.get(o),(C=new f).setData({state:"",runSpeed:d.runSpeed,findEnemyDis:d.attackDis,attackDis:d.attackDis,attackRate:d.attackRate,fireSpeed:d.fireSpeed,hp:d.maxHp,maxHp:d.maxHp,damage:d.damage,damageArea:d.damageArea,soundType:d.soundType,fireType:d.fireType,charType:1}),h={runCom:d.runCom,seekCom:d.seekCom,attackCom:d.attackCom},a){e.next=14;break}return s.addComponent(m).init(C),e.abrupt("return",s);case 14:return y.initChar(C,s,h,c.GAMEOBJ_TYPE_ENEMY),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),a}(s))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./EnemyData.ts","./AreaCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,r,a,o,s,c,i,u,p,m,f,y;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){p=e.EnemyData},function(e){m=e.AreaCom},function(e){f=e.CharProp},function(e){y=e.FactoryCharInit}],execute:function(){var d;a._RF.push({},"26f7cuCHhhJPZepmUIDMTVJ","EnemyFactory5",void 0);var h=o.ccclass;o.property,e("EnemyFactory5",h("EnemyFactory5")(d=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createEnemy=function(){var e=n(r().mark((function e(t,n,a){var o,s,d,h,C;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=!0),o=5,e.next=4,i.insNode(u.ENEMY_ROOT_PATH+"/enemy"+o);case 4:if((s=e.sent).parent=n,s.setPosition(t),d=p.data.get(o),(h=new f).setData({state:"",runSpeed:d.runSpeed,findEnemyDis:d.attackDis,attackDis:d.attackDis,attackRate:d.attackRate,fireSpeed:d.fireSpeed,hp:d.maxHp,maxHp:d.maxHp,damage:d.damage,damageArea:d.damageArea,soundType:d.soundType,fireType:d.fireType,charType:1}),C={runCom:d.runCom,seekCom:d.seekCom,attackCom:d.attackCom},a){e.next=14;break}return s.addComponent(m).init(h),e.abrupt("return",s);case 14:return y.initChar(h,s,C,c.GAMEOBJ_TYPE_ENEMY),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),a}(s))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory6.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./EnemyData.ts","./AreaCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,r,a,o,s,c,i,u,p,m,f,y;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){p=e.EnemyData},function(e){m=e.AreaCom},function(e){f=e.CharProp},function(e){y=e.FactoryCharInit}],execute:function(){var d;a._RF.push({},"80703W5ONpL8rr8v+hWOUu9","EnemyFactory6",void 0);var h=o.ccclass;o.property,e("EnemyFactory6",h("EnemyFactory6")(d=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createEnemy=function(){var e=n(r().mark((function e(t,n,a){var o,s,d,h,C;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=!0),o=6,e.next=4,i.insNode(u.ENEMY_ROOT_PATH+"/enemy"+o);case 4:if((s=e.sent).parent=n,s.setPosition(t),d=p.data.get(o),(h=new f).setData({state:"",runSpeed:d.runSpeed,findEnemyDis:d.attackDis,attackDis:d.attackDis,attackRate:d.attackRate,fireSpeed:d.fireSpeed,hp:d.maxHp,maxHp:d.maxHp,damage:d.damage,damageArea:d.damageArea,soundType:d.soundType,fireType:d.fireType,charType:1}),C={runCom:d.runCom,seekCom:d.seekCom,attackCom:d.attackCom},a){e.next=14;break}return s.addComponent(m).init(h),e.abrupt("return",s);case 14:return y.initChar(h,s,C,c.GAMEOBJ_TYPE_ENEMY),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),a}(s))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory7.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./EnemyData.ts","./AreaCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,r,a,o,s,c,i,u,p,f,m,y;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){p=e.EnemyData},function(e){f=e.AreaCom},function(e){m=e.CharProp},function(e){y=e.FactoryCharInit}],execute:function(){var d;a._RF.push({},"04f96iwj99FyIM9wtrAiTIO","EnemyFactory7",void 0);var h=o.ccclass;o.property,e("EnemyFactory7",h("EnemyFactory7")(d=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createEnemy=function(){var e=n(r().mark((function e(t,n,a){var o,s,d,h,C;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=!0),o=7,e.next=4,i.insNode(u.ENEMY_ROOT_PATH+"/master");case 4:if((s=e.sent).parent=n,s.setPosition(t),d=p.data.get(o),(h=new m).setData({state:"",runSpeed:d.runSpeed,findEnemyDis:d.attackDis,attackDis:d.attackDis,attackRate:d.attackRate,fireSpeed:d.fireSpeed,hp:d.maxHp,maxHp:d.maxHp,damage:d.damage,damageArea:d.damageArea,soundType:d.soundType,fireType:d.fireType,charType:1}),C={runCom:d.runCom,seekCom:d.seekCom,attackCom:d.attackCom},a){e.next=14;break}return s.addComponent(f).init(h),e.abrupt("return",s);case 14:return y.initChar(h,s,C,c.GAMEOBJ_TYPE_ENEMY),e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),a}(s))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/EnemySetDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var e,i,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){o=t.DlgBase}],execute:function(){var s,a;i._RF.push({},"928b4Ijzq9McrTgh4/TO2Tq","EnemySetDlg",void 0);var m=n.ccclass;n.property,t("EnemySetDlg",m("EnemySetDlg")(((a=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).m_SaveBtn=void 0,e.m_WarNode=void 0,e.m_ExitBtn=void 0,e.m_BgNode=void 0,e.m_EndPos=void 0,e.m_StartPos=void 0,e.m_PlayBtn=void 0,e}return e(i,t),i.prototype.initDlg=function(t){this.m_EndPos=this.node.getChildByName("m_EndPos"),this.m_StartPos=this.node.getChildByName("m_StartPos"),this.m_SaveBtn=this.node.getChildByName("m_SaveBtn"),this.m_WarNode=this.node.getChildByName("m_WarNode"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn"),this.m_PlayBtn=this.node.getChildByName("m_PlayBtn"),this.m_BgNode=this.node.getChildByName("m_BgNode")},i}(o)).UI_PATH="EnemySetDlg",s=a))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/EnemySetDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./Functor.ts","./GlobalVar.ts","./IntervalMgr.ts","./SysMgr.ts","./GameWarInitCom.ts","./GameDataNet.ts","./AudioSys.ts","./DlgSys.ts","./HeroSys.ts","./StorageUtils.ts","./EnemySetDlg.ts","./BubbleTipDlgCom.ts","./InterruptDlgCom.ts"],(function(t){"use strict";var e,i,n,o,s,a,r,c,h,u,l,g,p,y,d,m,x,f,v,S,k,B,b,w,P,C,M,I;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime,o=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,a=t._decorator,r=t.Vec2,c=t.UITransform,h=t.view,u=t.Vec3,l=t.NodeEventType,g=t.Sprite,p=t.Color,y=t.Button},function(t){d=t.ClickFunctor},function(t){m=t.Functor},function(t){x=t.GlobalVar},function(t){f=t.IntervalMgr},function(t){v=t.SysMgr},function(t){S=t.GameWarInitCom},function(t){k=t.GameDataNet},function(t){B=t.AudioSys},function(t){b=t.DlgSys},function(t){w=t.HeroSys},function(t){P=t.StorageUtils},function(t){C=t.EnemySetDlg},function(t){M=t.BubbleTipDlgCom},function(t){I=t.InterruptDlgCom}],execute:function(){var T;s._RF.push({},"0c626kdJwdC+odB9ZNumOC+","EnemySetDlgCom",void 0);var D=a.ccclass;a.property,t("EnemySetDlgCom",D("EnemySetDlgCom")(T=function(t){function s(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).data=void 0,e.objMap=new Map,e.warBlockSizeX=7,e.warBlockSizeY=14,e.warSizeX=0,e.warSizeY=0,e.blockWidth=0,e.targetIndex=-1,e.heroProp=void 0,e.audioSys=void 0,e.isMyWar=!0,e.targetUserId="",e.level=-1,e}e(s,t);var a=s.prototype;return a.initDlg=function(){var e=i(n().mark((function e(i){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.prototype.initDlg.call(this,i),this.isMyWar=i.isMyWar,this.targetUserId=i.targetUserId,this.level=i.level,this.addCom(S).init(),this.audioSys=v.getSys(B),this.m_ExitBtn.on("click",d.getFunc(this,"onExitClick"),this),this.m_PlayBtn.on("click",d.getFunc(this,"onPlayClick"),this),this.isMyWar?(this.m_SaveBtn.on("click",d.getFunc(this,"onSaveClick"),this),this.m_BgNode.on(l.TOUCH_START,m.getFunc(this,"onTouchStart"),this),this.m_BgNode.on(l.TOUCH_MOVE,m.getFunc(this,"onTouchMove"),this),this.m_BgNode.on(l.TOUCH_END,m.getFunc(this,"onTouchEnd"),this),this.m_BgNode.on(l.TOUCH_CANCEL,m.getFunc(this,"onTouchCancel"),this)):(this.m_BgNode.on(l.TOUCH_START,m.getFunc(this,"onTouchStart"),this),this.m_SaveBtn.getComponent(g).color=p.GRAY,this.m_SaveBtn.getComponent(y).enabled=!1),e.next=11,this.init(i.gameData);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.init=function(){var t=i(n().mark((function t(e){var i,s,a,c;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getCom(S).initCreateEnemy(this.m_WarNode,e);case 2:for(this.heroProp=v.getSys(w).heroProp,this.warSizeX=this.m_EndPos.position.x-this.m_StartPos.position.x,this.warSizeY=this.m_EndPos.position.y-this.m_StartPos.position.y,this.blockWidth=this.warSizeX/this.warBlockSizeX,i=this.m_WarNode.children,s=o(i);!(a=s()).done;)c=a.value,this.objMap.set(this.getMapIndexByPos(new r(c.position.x,c.position.y)),c);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.addEnemy=function(){var t=i(n().mark((function t(e){var i,o,s,a;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=0,o=0;case 2:if(!(o<this.warBlockSizeX*this.warBlockSizeY)){t.next=9;break}if(this.objMap.has(o)){t.next=6;break}return i=o,t.abrupt("break",9);case 6:o++,t.next=2;break;case 9:return s=this.getPosByBlockPos(this.getBlockPosByMapIndex(i)),t.next=12,this.getCom(S).createOneEnemy(e,s,this.m_WarNode);case 12:(a=t.sent).name=e.toString(),this.objMap.set(i,a);case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.delEnemy=function(){var t=this.objMap.get(this.targetIndex);null!=t&&(t.destroy(),this.objMap.delete(this.targetIndex),this.targetIndex=-1)},a.saveEnemyJson=function(){var t=Object.create(null);this.objMap.forEach((function(e,i){t["child"+i]={typeName:e.name,x:e.position.x,y:e.position.y}}));var e=JSON.stringify(t),i=P.getFileData("D:/CocosProject/wzdz/wzdz/assets/resources/gameData/max.txt"),n=Number(i);P.saveFileDataTxt("D:/CocosProject/wzdz/wzdz/assets/resources/gameData/level/"+i+".json",e),n+=1,P.saveFileDataTxt("D:/CocosProject/wzdz/wzdz/assets/resources/gameData/max.txt",n.toString())},a.getMapIndexByBlockPos=function(t){return t.x+t.y*this.warBlockSizeX},a.getMapIndexByPos=function(t){var e=this.getBlockPosByPos(t);return e.x+e.y*this.warBlockSizeX},a.getBlockPosByMapIndex=function(t){return new r(t%this.warBlockSizeX,0|t/this.warBlockSizeX)},a.getBlockPosByPos=function(t){var e=0|(t.x-this.m_StartPos.position.x)/this.blockWidth,i=0|(t.y-this.m_StartPos.position.y)/this.blockWidth;return i<0?i=0:i>=this.warBlockSizeY&&(i=this.warBlockSizeY-1),e<0?e=0:e>=this.warBlockSizeX&&(e=this.warBlockSizeX-1),new r(e,i)},a.getPosByBlockPos=function(t){return new r(t.x*this.blockWidth+this.m_StartPos.position.x+this.blockWidth/2,t.y*this.blockWidth+this.m_StartPos.position.y+this.blockWidth/2)},a.onTouchStart=function(t){if(null!=t.getTouches()&&1==t.getTouches().length){var e=x.canvas.getComponent(c).contentSize,i=h.getCanvasSize(),n=t.getLocation(),o=new r(e.x*n.x/i.x-e.x/2,e.y*n.y/i.y-e.y/2),s=this.objMap.get(this.targetIndex);null!=s&&this.setTargetArea(s,!1),this.targetIndex=this.getMapIndexByPos(o);var a=this.objMap.get(this.targetIndex);null!=a&&(this.audioSys.playAudio("audios/arrive.wav",.5),this.setTargetArea(a,!0))}},a.onTouchMove=function(t){if(null!=t.getTouches()&&1==t.getTouches().length&&-1!=this.targetIndex){var e=this.objMap.get(this.targetIndex);if(null!=e){var i=x.canvas.getComponent(c).contentSize,n=h.getCanvasSize(),o=t.getLocation(),s=new r(i.x*o.x/n.x-i.x/2,i.y*o.y/n.y-i.y/2);o=this.getPosByBlockPos(this.getBlockPosByPos(s)),e.position=new u(o.x,o.y,0)}}},a.onTouchCancel=function(t){this.onTouchEnd(t)},a.onTouchEnd=function(t){if(null!=t.getTouches()&&1==t.getTouches().length&&-1!=this.targetIndex){var e=this.objMap.get(this.targetIndex);if(null!=e){var i=x.canvas.getComponent(c).contentSize,n=h.getCanvasSize(),o=t.getLocation(),s=new r(i.x*o.x/n.x-i.x/2,i.y*o.y/n.y-i.y/2),a=this.getBlockPosByPos(s);o=this.getPosByBlockPos(a);var l=this.getMapIndexByBlockPos(a);if(this.objMap.has(l)){var g=this.objMap.get(l),p=this.getBlockPosByMapIndex(this.targetIndex),y=this.getPosByBlockPos(p);g.position=new u(y.x,y.y,0),e.position=new u(o.x,o.y,0),this.objMap.set(this.targetIndex,g),this.objMap.set(l,e)}else e.position=new u(o.x,o.y,0),this.objMap.delete(this.targetIndex),this.objMap.set(l,e);this.targetIndex=l,this.audioSys.playAudio("audios/arrive.wav",.5)}}},a.setTargetArea=function(t,e){null!=t.getChildByName("m_AreaLabel")&&(t.getChildByName("m_AreaLabel").active=e)},a.onExitClick=function(){this.closeDlg(s)},a.onPlayClick=function(){var t=i(n().mark((function t(){var e,i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object.create(null),this.objMap.forEach((function(t,i){e["child"+i]={typeName:t.name,x:t.position.x,y:t.position.y}})),i=JSON.stringify(e),t.next=6,v.ins.enterGame({targetUserId:this.targetUserId,gameData:JSON.parse(i),isMyWar:this.isMyWar,level:this.level,isRecord:!1,recordData:""});case 6:this.isMyWar||this.closeDlg(s);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onSaveClick=function(){var t=i(n().mark((function t(){var e,i,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isMyWar){t.next=2;break}return t.abrupt("return");case 2:if(f.checkInterval(this,1)){t.next=5;break}return M.createTip("点击频率过快"),t.abrupt("return");case 5:if(e=Object.create(null),this.objMap.forEach((function(t,i){e["child"+i]={typeName:t.name,x:t.position.x,y:t.position.y}})),i=JSON.stringify(e),"0"==this.heroProp.userId){t.next=25;break}return v.getSys(b).createDlg(I,"上传中..."),t.next=13,k.saveUserData(this.heroProp.userId,i);case 13:if("success"!=t.sent){t.next=21;break}return t.next=17,k.getUserData(this.heroProp.userId);case 17:null!=(o=t.sent)&&(this.heroProp.setData({id:o[0],userId:o[1],gameData:o[2],userName:o[4],level:o[5],isNetData:!0}),M.createTip("上传成功")),t.next=22;break;case 21:M.createTip("上传失败");case 22:v.getSys(b).closeDlg(I),t.next=26;break;case 25:M.createTip("上传失败");case 26:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s}(C))||T);s._RF.pop()}}}));

System.register("chunks:///_virtual/EventDefine.ts",["cc"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy,c=e._decorator}],execute:function(){var n,r;t._RF.push({},"76d3fMKGVtEbb2Ex44JRrfX","EventDefine",void 0);var i=c.ccclass;c.property,e("EventDefine",i("EventDefine")(((r=function(){}).CREATE_ORDER="createOrder",r.CLICK_SCREEN="clickScreen",r.SELECT_OPERATION="selectOperation",n=r))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/EventProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts","./DestroyCB.ts"],(function(e){"use strict";var t,r,n,a,s,o,u;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){o=e.PropBase},function(e){u=e.DestroyCB}],execute:function(){var c,i;a._RF.push({},"179ecV128lM47X8AeO8MJui","EventProp",void 0);var p=s.ccclass;s.property,e("EventProp",p("EventProp")(((i=function(){function e(){this.funcMap=new Map}var a=e.prototype;return a.watch=function(e,t,r){this.funcMap.has(e)||this.funcMap.set(e,new Map);var n=this.funcMap.get(e);n.has(t)||n.set(t,new Array),n.get(t).push(r),null==t[o.propName]&&(t[o.propName]=new Set),t[o.propName].add(this),u.addCb(t,this,"onObjDestroy")},a.onObjDestroy=function(e){for(var r,n=e[o.propName],a=t(n);!(r=a()).done;){r.value.removeWatch(e)}},a.setData=function(){var e=r(n().mark((function e(t,r){var a,s,o,u,c,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:a=new Array,e.t0=n().keys(t);case 4:if((e.t1=e.t0()).done){e.next=13;break}if(s=e.t1.value,o=t[s],this[s]!=o){e.next=9;break}return e.abrupt("continue",4);case 9:this[s]=o,a.push(s),e.next=4;break;case 13:u=0,c=a;case 15:if(!(u<c.length)){e.next=22;break}return i=c[u],e.next=19,this.runCb(i,r);case 19:u++,e.next=15;break;case 22:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),a.removeWatch=function(e){this.funcMap.forEach((function(t,r){null!=t&&t.has(e)&&t.delete(e)}))},a.runCb=function(){var e=r(n().mark((function e(r,a){var s,o,u,c,i,p,f,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.funcMap.has(r)){e.next=2;break}return e.abrupt("return");case 2:s=this.funcMap.get(r),o=t(s.keys());case 4:if((u=o()).done){e.next=16;break}c=u.value,i=s.get(c),p=t(i);case 8:if((f=p()).done){e.next=14;break}return h=f.value,e.next=12,c[h](a);case 12:e.next=8;break;case 14:e.next=4;break;case 16:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),e}()).propName="_myProp",c=i))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/EventSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./EventDefine.ts","./EventProp.ts"],(function(t){"use strict";var e,n,r,o,s,c,i,a,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator},function(t){i=t.SysBase},function(t){a=t.EventDefine},function(t){u=t.EventProp}],execute:function(){var v;s._RF.push({},"6e568HXgBdKlIWTb0MgGCl7","EventSys",void 0);var p=c.ccclass;c.property,t("EventSys",p("EventSys")(v=function(t){function s(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).eventProp=void 0,e.eventList=[a.CREATE_ORDER,a.CLICK_SCREEN,a.SELECT_OPERATION],e}e(s,t);var c=s.prototype;return c.onLoad=function(){this.eventProp=new u;for(var t,e=n(this.eventList);!(t=e()).done;){var r=t.value;this.eventProp[r]=0}},c.watchEvent=function(t,e,n){this.eventProp.watch(t,e,n)},c.runEvent=function(){var t=r(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new Object)[e]=this.eventProp[e]+1,t.next=4,this.eventProp.setData(r,n);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s}(i))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/FactoryCharInit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./AICom.ts","./AIOrderCom.ts","./AttackCom0.ts","./AttackCom1.ts","./AttackCom2.ts","./AttackCom3.ts","./AttackCom4.ts","./AttackCom5.ts","./AttackCom6.ts","./BuffCom.ts","./HPCom.ts","./RunCom0.ts","./RunCom1.ts","./RunCom2.ts","./SeekCom0.ts","./SeekCom1.ts","./SeekCom2.ts","./GameObjCom.ts"],(function(t){"use strict";var o,n,a,c,e,C,m,i,u,s,r,f,k,p,d,A,h,M,l,g,v,y;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,a=t._decorator},function(t){c=t.ComBase},function(t){e=t.AICom},function(t){C=t.AIOrderCom},function(t){m=t.AttackCom0},function(t){i=t.AttackCom1},function(t){u=t.AttackCom2},function(t){s=t.AttackCom3},function(t){r=t.AttackCom4},function(t){f=t.AttackCom5},function(t){k=t.AttackCom6},function(t){p=t.BuffCom},function(t){d=t.HPCom},function(t){A=t.RunCom0},function(t){h=t.RunCom1},function(t){M=t.RunCom2},function(t){l=t.SeekCom0},function(t){g=t.SeekCom1},function(t){v=t.SeekCom2},function(t){y=t.GameObjCom}],execute:function(){var I,R;n._RF.push({},"ec314hfgD5Nfok0o4geJO/5","FactoryCharInit",void 0);var S=a.ccclass;a.property,t("FactoryCharInit",S("FactoryCharInit")(((R=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.initChar=function(t,o,a,c){o.addComponent(y).init(c),o.addComponent(p).init(t);var m=o.addComponent(n.runComMap.get(a.runCom));m.init(t);var i=o.addComponent(n.seekComMap.get(a.seekCom));i.init(t);var u=o.addComponent(n.attackComMap.get(a.attackCom));u.init(t),o.addComponent(d).init(t),o.addComponent(C).init(),o.addComponent(e).init(t,m,i,u)},n}(c)).runComMap=new Map([[0,A],[1,h],[2,M]]),R.seekComMap=new Map([[0,l],[1,g],[2,v]]),R.attackComMap=new Map([[0,m],[1,i],[2,u],[3,s],[4,r],[5,f],[6,k]]),I=R))||I);n._RF.pop()}}}));

System.register("chunks:///_virtual/FireMgrCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./Functor.ts","./SysMgr.ts","./GameSys.ts","./PoolSys.ts","./TweenAction.ts","./BlockObjMgr.ts","./HPCom.ts","./BoomFactory0.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,o,r,n,i,s,a,c,g,u,f,m,p,y,h,l,d,M;return{setters:[function(t){e=t.inheritsLoose,o=t.asyncToGenerator,r=t.regeneratorRuntime,n=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,s=t._decorator,a=t.Vec3},function(t){c=t.ComBase},function(t){g=t.Defines},function(t){u=t.Functor},function(t){f=t.SysMgr},function(t){m=t.GameSys},function(t){p=t.PoolSys},function(t){y=t.TweenAction},function(t){h=t.BlockObjMgr},function(t){l=t.HPCom},function(t){d=t.BoomFactory0},function(t){M=t.GameObjMgrCom}],execute:function(){var C;i._RF.push({},"157008Xs0FAGb+ubLLOPdsg","FireMgrCom",void 0);var S=s.ccclass;s.property,t("FireMgrCom",S("FireMgrCom")(C=function(t){function i(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).gameObjMgr=void 0,e.objMgr=void 0,e.poolSys=void 0,e}e(i,t);var s=i.prototype;return s.init=function(){this.gameObjMgr=f.getSys(m).getCom(M),this.objMgr=f.getSys(m).getCom(h),this.poolSys=f.getSys(p)},s.attackOneTarget=function(t){y.createStart().moveTo(t.fire,t.fire.position,t.target.position,t.time,u.getFunc(this,"targetBeAttack",t.target,t.fire,t.damage))},s.attackOnePos=function(t){y.createStart().moveTo(t.fire,t.fire.position,t.pos,t.time,u.getFunc(this,"posBeAttack",t.pos,t.fire,t.damage,t.damageArea,t.beAttackCharType))},s.cueOneTarget=function(t){y.createStart().moveTo(t.fire,t.fire.position,t.target.position,t.time,u.getFunc(this,"targetBeCue",t.target,t.fire,t.damage))},s.targetBeCue=function(t,e,o){this.poolSys.destroyNode(e),this.gameObjMgr.checkTargetExist(t)&&t.getComponent(l).addHP(o)},s.targetBeAttack=function(t,e,o){this.poolSys.destroyNode(e),this.gameObjMgr.checkTargetExist(t)&&t.getComponent(l).downHP(o)},s.posBeAttack=function(){var t=o(r().mark((function t(e,o,i,s,c){var u,f,m,p;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.poolSys.destroyNode(o),u=null,u=c==g.CHAR_ENEEMY?this.objMgr.getEnemyArr(e,s):this.objMgr.getRoleArr(e,s),f=n(u);!(m=f()).done;)p=m.value,this.gameObjMgr.checkTargetExist(p)&&a.distance(p.position,e)<s&&p.getComponent(l).downHP(i);d.create(e,s);case 5:case"end":return t.stop()}}),t,this)})));return function(e,o,r,n,i){return t.apply(this,arguments)}}(),i}(c))||C);i._RF.pop()}}}));

System.register("chunks:///_virtual/Functor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DestroyCB.ts"],(function(t){"use strict";var n,r,o,c;return{setters:[function(t){n=t.construct},function(t){r=t.cclegacy,o=t._decorator},function(t){c=t.DestroyCB}],execute:function(){var e;r._RF.push({},"73817TM5PxA75tPEv4ELPto","Functor",void 0);var s=o.ccclass;o.property,t("Functor",s("Functor")(e=function(){function t(t,n){this.obj=void 0,this.funcName=void 0,this.arg=void 0,this.isDestroy=!1,this.obj=t,this.funcName=n;for(var r=arguments.length,o=new Array(r>2?r-2:0),c=2;c<r;c++)o[c-2]=arguments[c];this.arg=o}var r=t.prototype;return r.onObjDestroy=function(t){this.isDestroy=!0},r.runCbFunc=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==this.obj||null==this.obj[this.funcName]||this.isDestroy||(t=this.obj)[this.funcName].apply(t,this.arg.concat(r))},t.getFunc=function(r,o){for(var e=arguments.length,s=new Array(e>2?e-2:0),u=2;u<e;u++)s[u-2]=arguments[u];var i=n(t,[r,o].concat(s));return c.addCb(r,i,"onObjDestroy"),i.runCbFunc.bind(i)},t.getNotWatchDestroyFunc=function(r,o){for(var c=arguments.length,e=new Array(c>2?c-2:0),s=2;s<c;s++)e[s-2]=arguments[s];var u=n(t,[r,o].concat(e));return u.runCbFunc.bind(u)},t}())||e);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameDataNet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./HttpUtils.ts"],(function(e){"use strict";var t,r,n,a,s,u,c;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){u=e.ComBase},function(e){c=e.HttpUtils}],execute:function(){var o;a._RF.push({},"09effyCA9dD8YPfst7uae+Y","GameDataNet",void 0);var i=s.ccclass;s.property,e("GameDataNet",i("GameDataNet")(o=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.getUserData=function(){var e=r(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={userId:t},e.t0=JSON,e.next=4,c.post("https://service-n5alp2ek-1257251181.gz.apigw.tencentcs.com/release/getUserData",JSON.stringify(r));case 4:if(e.t1=e.sent,null==(a=e.t0.parse.call(e.t0,e.t1))||1!=a.errorCode){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.getListData=function(){var e=r(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,c.post("https://service-9kywn1fy-1257251181.gz.apigw.tencentcs.com/release/getListData","");case 3:if(e.t1=e.sent,null==(t=e.t0.parse.call(e.t0,e.t1))||1!=t.errorCode){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.getLevelListData=function(){var e=r(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,c.post("https://service-5meteodq-1257251181.gz.apigw.tencentcs.com/release/helloworld-1677498172949","");case 3:if(e.t1=e.sent,null==(t=e.t0.parse.call(e.t0,e.t1))||1!=t.errorCode){e.next=7;break}return e.abrupt("return",null);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a.getOpenIdByCode=function(){var e=r(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={code:t},e.t0=JSON,e.next=4,c.post("https://service-kzlk4hik-1257251181.gz.apigw.tencentcs.com/release/helloworld-1677330438818",JSON.stringify(r));case 4:if(e.t1=e.sent,null==(a=e.t0.parse.call(e.t0,e.t1))||1!=a.errorCode){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.saveUserData=function(){var e=r(n().mark((function e(t,r,a,s){var u,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=null),void 0===s&&(s=null),u={userId:t,gameData:r,userName:a,headUrl:s},e.t0=JSON,e.next=6,c.post("https://service-1rb9r30g-1257251181.gz.apigw.tencentcs.com/release/saveUserData",JSON.stringify(u));case 6:if(e.t1=e.sent,null==(o=e.t0.parse.call(e.t0,e.t1))||1!=o.errorCode){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),a.addUserLose=function(){var e=r(n().mark((function e(t,r){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={userId:t,record:r},e.t0=JSON,e.next=4,c.post("https://service-6owiki7g-1257251181.gz.apigw.tencentcs.com/release/addUserLoseCount",JSON.stringify(a));case 4:if(e.t1=e.sent,null==(s=e.t0.parse.call(e.t0,e.t1))||1!=s.errorCode){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),a.setUserLevel=function(){var e=r(n().mark((function e(t,r){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={userId:t,level:r},e.t0=JSON,e.next=4,c.post("https://service-dym8a9os-1257251181.gz.apigw.tencentcs.com/release/setUserLevel",JSON.stringify(a));case 4:if(e.t1=e.sent,null==(s=e.t0.parse.call(e.t0,e.t1))||1!=s.errorCode){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),a}(u))||o);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(e){"use strict";var t,i,o,n;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e._decorator},function(e){n=e.DlgBase}],execute:function(){var m,l;i._RF.push({},"3f5552rQ1lIyolU4N7r/u/P","GameDlg",void 0);var r=o.ccclass;o.property,e("GameDlg",r("GameDlg")(((l=function(e){function i(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).m_RoleSprite=void 0,t.m_BackBtn=void 0,t.m_RoleBtn0=void 0,t.m_RoleBtn1=void 0,t.m_RoleBtn2=void 0,t.m_RoleBtn3=void 0,t.m_RoleBtn4=void 0,t.m_OrderBtn0=void 0,t.m_OrderBtn1=void 0,t.m_OrderBtn2=void 0,t.m_TimeLabel=void 0,t.m_EnergyLabel=void 0,t.m_WarBgSprite=void 0,t.m_EndPos=void 0,t.m_StartPos=void 0,t}return t(i,e),i.prototype.initDlg=function(e){this.m_EndPos=this.node.getChildByName("m_EndPos"),this.m_StartPos=this.node.getChildByName("m_StartPos"),this.m_RoleSprite=this.node.getChildByName("m_RoleSprite"),this.m_BackBtn=this.node.getChildByName("m_BackBtn"),this.m_RoleBtn0=this.node.getChildByName("m_RoleBtn0"),this.m_RoleBtn1=this.node.getChildByName("m_RoleBtn1"),this.m_RoleBtn2=this.node.getChildByName("m_RoleBtn2"),this.m_RoleBtn3=this.node.getChildByName("m_RoleBtn3"),this.m_RoleBtn4=this.node.getChildByName("m_RoleBtn4"),this.m_OrderBtn0=this.node.getChildByName("m_OrderBtn0"),this.m_OrderBtn1=this.node.getChildByName("m_OrderBtn1"),this.m_OrderBtn2=this.node.getChildByName("m_OrderBtn2"),this.m_TimeLabel=this.node.getChildByName("m_TimeLabel"),this.m_EnergyLabel=this.node.getChildByName("m_EnergyLabel"),this.m_WarBgSprite=this.node.getChildByName("m_WarBgSprite")},i}(n)).UI_PATH="GameDlg",m=l))||m);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./EventDefine.ts","./Functor.ts","./GlobalVar.ts","./IntervalMgr.ts","./SysMgr.ts","./RoleFactory0.ts","./RoleFactory1.ts","./RoleFactory2.ts","./RoleFactory3.ts","./RoleFactory4.ts","./GameObjMgrCom.ts","./OrderMgrCom.ts","./AudioSys.ts","./EventSys.ts","./GameSys.ts","./TimeSys.ts","./GameDlg.ts","./BubbleTipDlgCom.ts"],(function(t){"use strict";var e,n,r,i,o,s,a,c,h,u,g,l,p,m,S,f,y,R,C,T,v,d,k,_,O,b,w,E,D,x,A,B,F;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,a=t.Color,c=t.NodeEventType,h=t.Sprite,u=t.Label,g=t.UITransform,l=t.view,p=t.Vec2,m=t.Vec3},function(t){S=t.ClickFunctor},function(t){f=t.EventDefine},function(t){y=t.Functor},function(t){R=t.GlobalVar},function(t){C=t.IntervalMgr},function(t){T=t.SysMgr},function(t){v=t.RoleFactory0},function(t){d=t.RoleFactory1},function(t){k=t.RoleFactory2},function(t){_=t.RoleFactory3},function(t){O=t.RoleFactory4},function(t){b=t.GameObjMgrCom},function(t){w=t.OrderMgrCom},function(t){E=t.AudioSys},function(t){D=t.EventSys},function(t){x=t.GameSys},function(t){A=t.TimeSys},function(t){B=t.GameDlg},function(t){F=t.BubbleTipDlgCom}],execute:function(){var P,M;o._RF.push({},"fd498TLD/9BBK/gR0iVefuO","GameDlgCom",void 0);var G=s.ccclass;s.property,t("GameDlgCom",G("GameDlgCom")(((M=function(t){function o(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).data=void 0,e.objMgr=void 0,e.nowSelectOperation=0,e.gameProp=void 0,e.gameSys=void 0,e.audioSys=void 0,e.eventSys=void 0,e.normalColor=new a(81,218,207,255),e.selectColor=new a(223,228,112,255),e.btnSpriteArr=new Array,e.isStart=!1,e.gameTime=1,e.isRecord=!1,e}e(o,t);var s=o.prototype;return s.initDlg=function(e){t.prototype.initDlg.call(this,e),this.m_BackBtn.on("click",S.getFunc(this,"onBackClick"),this),this.isRecord=e.isRecord,this.isRecord||(this.m_RoleBtn0.on("click",S.getFunc(this,"onSelectClick",0),this),this.m_RoleBtn1.on("click",S.getFunc(this,"onSelectClick",1),this),this.m_RoleBtn2.on("click",S.getFunc(this,"onSelectClick",2),this),this.m_RoleBtn3.on("click",S.getFunc(this,"onSelectClick",3),this),this.m_RoleBtn4.on("click",S.getFunc(this,"onSelectClick",4),this),this.m_OrderBtn0.on("click",S.getFunc(this,"onSelectClick",o.ORDER_START),this),this.m_OrderBtn1.on("click",S.getFunc(this,"onSelectClick",o.ORDER_START+1),this),this.m_OrderBtn2.on("click",S.getFunc(this,"onSelectClick",o.ORDER_START+2),this),this.m_RoleSprite.on(c.TOUCH_START,y.getFunc(this,"onTouchStart"),this),this.m_RoleSprite.on(c.TOUCH_MOVE,y.getFunc(this,"onTouchStart"),this),this.m_WarBgSprite.on(c.TOUCH_START,y.getFunc(this,"onWarBgTouchStart"),this)),this.btnSpriteArr.push(this.m_RoleBtn0.getComponent(h)),this.btnSpriteArr.push(this.m_RoleBtn1.getComponent(h)),this.btnSpriteArr.push(this.m_RoleBtn2.getComponent(h)),this.btnSpriteArr.push(this.m_RoleBtn3.getComponent(h)),this.btnSpriteArr.push(this.m_RoleBtn4.getComponent(h)),this.btnSpriteArr.push(this.m_OrderBtn0.getComponent(h)),this.btnSpriteArr.push(this.m_OrderBtn1.getComponent(h)),this.btnSpriteArr.push(this.m_OrderBtn2.getComponent(h));var n=T.getSys(x);this.gameProp=n.gameProp,this.objMgr=n.getCom(b),this.gameSys=T.getSys(x),this.audioSys=T.getSys(E),this.gameTime=this.gameProp.gameTime,this.gameProp.watch("energy",this,"onEnergyChange"),this.gameProp.watch("isStart",this,"onStartChange"),this.gameProp.watch("isBegin",this,"onBeginChange"),this.onSelectClick(this.nowSelectOperation),this.refreshDlg(this.gameProp),this.eventSys=T.getSys(D),this.eventSys.watchEvent(f.CREATE_ORDER,this,"createOrder"),this.eventSys.watchEvent(f.CLICK_SCREEN,this,"onClickScreen"),this.eventSys.watchEvent(f.SELECT_OPERATION,this,"selectOperation"),n.startGame(e)},s.refreshDlg=function(t){this.onEnergyChange(t),this.onStartChange(t),this.timeCountDown()},s.onStartChange=function(t){this.isStart=t.isStart,T.getSys(A).removeTimer(this,"timeCountDown")},s.onBeginChange=function(t){t.isBegin&&T.getSys(A).addTimer(this,"timeCountDown",1,!0)},s.timeCountDown=function(){if(this.gameTime-=1,this.gameTime<0)return this.gameProp.setData({isSucc:!1}),void this.gameProp.setData({isStart:!1});var t=parseInt((this.gameTime/60).toString()),e=t<10?"0"+t:t+"",n=parseInt((this.gameTime%60).toString()),r=n<10?"0"+n:n+"";this.m_TimeLabel.getComponent(u).string=e+":"+r,this.gameProp.setData({gameTime:this.gameTime})},s.onEnergyChange=function(t){this.m_EnergyLabel.getComponent(u).string="能量："+t.energy.toString()},s.onSelectClick=function(t){this.isStart&&this.gameSys.addFrameAction(f.SELECT_OPERATION,t)},s.onBackClick=function(){var t=r(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.ins.exitGame();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.touchCheck=function(t){return!!this.isStart&&(null!=t.getTouches()&&(1==t.getTouches().length&&!!C.checkInterval(this,.1)))},s.onTouchStart=function(){var t=r(i().mark((function t(e){var n,r,o,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.touchCheck(e)){t.next=2;break}return t.abrupt("return");case 2:if(n=R.canvas.getComponent(g).contentSize,r=l.getCanvasSize(),o=e.getLocation(),!((s=new p(n.x*o.x/r.x-n.x/2,n.y*o.y/r.y-n.y/2)).x<this.m_StartPos.position.x)){t.next=8;break}return t.abrupt("return");case 8:if(!(s.x>this.m_EndPos.position.x)){t.next=10;break}return t.abrupt("return");case 10:if(!(s.y<this.m_StartPos.position.y)){t.next=12;break}return t.abrupt("return");case 12:if(!(s.y>this.m_EndPos.position.y)){t.next=14;break}return t.abrupt("return");case 14:this.gameSys.addFrameAction(f.CLICK_SCREEN,s);case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.onWarBgTouchStart=function(){var t=r(i().mark((function t(e){var n,r,s,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.touchCheck(e)){t.next=2;break}return t.abrupt("return");case 2:if(!(this.nowSelectOperation<o.ORDER_START)){t.next=4;break}return t.abrupt("return");case 4:n=R.canvas.getComponent(g).contentSize,r=l.getCanvasSize(),s=e.getLocation(),a=new p(n.x*s.x/r.x-n.x/2,n.y*s.y/r.y-n.y/2),this.gameSys.addFrameAction(f.CREATE_ORDER,a);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.selectOperation=function(t){this.nowSelectOperation=t;for(var e,r=n(this.btnSpriteArr);!(e=r()).done;){e.value.color=this.normalColor}this.btnSpriteArr[t].color=this.selectColor},s.onClickScreen=function(){var t=r(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.nowSelectOperation<o.ORDER_START)){t.next=5;break}return t.next=3,this.createRole(e);case 3:t.next=7;break;case 5:return t.next=7,this.createOrder(e);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.createOrder=function(){var t=r(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gameProp.setData({isBegin:!0}),n=o.energyMap.get(this.nowSelectOperation),!((r=this.gameProp.energy-n)<0)){t.next=6;break}return F.createTip("能量不足"),t.abrupt("return");case 6:return this.gameProp.setData({energy:r}),t.next=9,this.gameSys.getCom(w).runOrder(this.nowSelectOperation-o.ORDER_START,e);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.createRole=function(){var t=r(i().mark((function t(e){var n,r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.audioSys.playAudio("audios/arrive.wav",.5),this.gameProp.setData({isBegin:!0}),n=o.energyMap.get(this.nowSelectOperation),!((r=this.gameProp.energy-n)<0)){t.next=7;break}return F.createTip("能量不足"),t.abrupt("return");case 7:return this.gameProp.setData({energy:r}),t.next=10,o.roleFactoryMap.get(this.nowSelectOperation).createRole(new m(e.x,e.y,0));case 10:s=t.sent,this.objMgr.addRole(s);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o}(B)).ORDER_START=5,M.roleFactoryMap=new Map([[0,v],[1,d],[2,k],[3,_],[4,O]]),M.energyMap=new Map([[0,1],[1,3],[2,2],[3,6],[4,4],[M.ORDER_START,4],[M.ORDER_START+1,10],[M.ORDER_START+2,14]]),P=M))||P);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameObjCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(o){"use strict";var t,e,n,r;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator},function(o){r=o.ComBase}],execute:function(){var c;e._RF.push({},"f8a1b6uYXNPN6GBqBoowpA1","GameObjCom",void 0);var s=n.ccclass;n.property,o("GameObjCom",s("GameObjCom")(c=function(o){function e(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.call.apply(o,[this].concat(n))||this).objType=0,t}return t(e,o),e.prototype.init=function(o){this.objType=o},e}(r))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameObjMgrCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameDlgCom.ts","./DlgSys.ts","./GameSys.ts","./OrderDataCom.ts"],(function(e){"use strict";var t,r,n,o,s,a,i,u,c,d,l,h,m;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime,o=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,i=e.Node},function(e){u=e.ComBase},function(e){c=e.SysMgr},function(e){d=e.GameDlgCom},function(e){l=e.DlgSys},function(e){h=e.GameSys},function(e){m=e.OrderDataCom}],execute:function(){var p;s._RF.push({},"d6be77L3JVHLLTgFEi4QS8Q","GameObjMgrCom",void 0);var y=a.ccclass;a.property,e("GameObjMgrCom",y("GameObjMgrCom")(p=function(e){function s(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).gameSys=void 0,t.parentNode=void 0,t.roleSet=new Set,t.enemySet=new Set,t.orderMap=new Map,t.masterNode=void 0,t.destroySet=new Set,t}t(s,e);var a=s.prototype;return a.init=function(){this.gameSys=c.getSys(h),this.parentNode=new i,this.parentNode.name="warNode",this.parentNode.setParent(c.getSys(l).getDlg(d)),this.roleSet.clear(),this.enemySet.clear(),this.orderMap.clear()},a.loop=function(){var e=r(n().mark((function e(t){var r,s,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=o(this.destroySet);!(s=r()).done;)a=s.value,this._destroyObj(a);this.destroySet.clear();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.setEnemySet=function(e){this.enemySet=e},a.setMasterNode=function(e){this.masterNode=e},a.addRole=function(e){this.roleSet.add(e)},a.getParentNode=function(){return this.parentNode},a.getMasterNode=function(){return this.masterNode},a.getAllRoleSet=function(){return this.roleSet},a.getAllEnemySet=function(){return this.enemySet},a.getOrderSetByType=function(e){return this.orderMap.has(e)?this.orderMap.get(e):null},a.addOrder=function(e){this.orderMap.has(e.getComponent(m).type)||this.orderMap.set(e.getComponent(m).type,new Set),this.orderMap.get(e.getComponent(m).type).add(e)},a.onDestroy=function(){},a.checkTargetExist=function(e){if(null==e)return!1;if(!e.activeInHierarchy)return!1;if(e==this.masterNode)return!0;if(this.roleSet.has(e))return!0;if(this.enemySet.has(e))return!0;if(null!=e.getComponent(m)&&this.orderMap.get(e.getComponent(m).type).has(e))return!0;return!1},a.destroyObj=function(e){this.destroySet.add(e)},a._destroyObj=function(e){if(null!=e){if(this.roleSet.has(e))this.roleSet.delete(e);else if(this.enemySet.has(e))this.enemySet.delete(e);else if(null!=e.getComponent(m)){var t=this.orderMap.get(e.getComponent(m).type);null!=t&&t.delete(e)}this.masterNode==e&&(this.masterNode=null,this.gameSys.gameProp.setData({isSucc:!0}),this.gameSys.gameProp.setData({isStart:!1})),e.destroy()}},s}(u))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/GameProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts"],(function(e){"use strict";var r,t,a,s;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator},function(e){s=e.PropBase}],execute:function(){var o;t._RF.push({},"fd655Zs8J9B2qpuXUsx2lLl","GameProp",void 0);var c=a.ccclass;a.property,e("GameProp",c("GameProp")(o=function(e){function t(){for(var r,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(r=e.call.apply(e,[this].concat(a))||this).energy=100,r.isStart=!1,r.isBegin=!1,r.startData={isMyWar:!0,gameData:null,targetUserId:"",level:-1,isRecord:!1,recordData:""},r.isSucc=!1,r.gameTime=241,r}return r(t,e),t}(s))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameRandomUtils.ts",["cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy,n=e._decorator}],execute:function(){var i,o;t._RF.push({},"6e469nDp7JA+5AlvMHecifF","GameRandomUtils",void 0);var s=n.ccclass;n.property,e("GameRandomUtils",s("GameRandomUtils")(((o=function(){function e(){}return e.init=function(t){e.seed=t},e.gameRandomNum=function(e,t){return this.seed=(9301*this.seed+49297)%233280,e+this.seed/233280*(t-e)},e.gameRandomBool=function(){return e.gameRandomNum(0,2)>1},e}()).seed=void 0,i=o))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./SysMgr.ts","./FireMgrCom.ts","./AICom.ts","./GameProp.ts","./DlgSys.ts","./GameTestCom.ts","./GameWarInitCom.ts","./GameObjMgrCom.ts","./OrderMgrCom.ts","./GameDataNet.ts","./ResultDlgCom.ts","./BlockObjMgr.ts","./StorageUtils.ts","./Defines.ts","./HeroSys.ts","./PreLoad.ts","./GameRandomUtils.ts","./EventSys.ts","./Misc.ts","./TimeSys.ts","./TweenAction.ts"],(function(t){"use strict";var e,r,a,n,s,i,o,c,u,m,p,h,l,f,g,d,v,x,b,y,S,C,D,k,P,M,G,T;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,a=t.regeneratorRuntime,n=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,i=t._decorator},function(t){o=t.SysBase},function(t){c=t.SysMgr},function(t){u=t.FireMgrCom},function(t){m=t.AICom},function(t){p=t.GameProp},function(t){h=t.DlgSys},function(t){l=t.GameTestCom},function(t){f=t.GameWarInitCom},function(t){g=t.GameObjMgrCom},function(t){d=t.OrderMgrCom},function(t){v=t.GameDataNet},function(t){x=t.ResultDlgCom},function(t){b=t.BlockObjMgr},function(t){y=t.StorageUtils},function(t){S=t.Defines},function(t){C=t.HeroSys},function(t){D=t.PreLoad},function(t){k=t.GameRandomUtils},function(t){P=t.EventSys},function(t){M=t.Misc},function(t){G=t.TimeSys},function(t){T=t.TweenAction}],execute:function(){var A;s._RF.push({},"7bbdamNSyhFeLZ+1OVUJeT3","GameSys",void 0);var w=i.ccclass;i.property,t("GameSys",w("GameSys")(A=function(t){function s(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).gameProp=void 0,e.heroProp=void 0,e.isTest=!1,e.iFrame=0,e.eventMap=new Map,e.loopTime=.01,e}e(s,t);var i=s.prototype;return i.onLoad=function(){this.heroProp=c.getSys(C).heroProp,this.addCom(g),this.addCom(b),this.addCom(u),this.addCom(l),this.addCom(f),this.addCom(d),this.gameProp=new p,this.gameProp.watch("isStart",this,"endGame")},i.init=function(){this.getCom(g).init(),this.getCom(b).init(),this.getCom(u).init(),this.getCom(l).init(),this.getCom(f).init(),this.getCom(d).init()},i.startGame=function(){var t=r(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.getSys(G).addTimer(this,"loop",this.loopTime,!0),k.init(888),this.iFrame=0,this.gameProp.setData({energy:100}),this.gameProp.setData({startData:e}),this.init(),this.isTest){t.next=11;break}return t.next=9,this.getCom(f).initCreateEnemy(this.getCom(g).parentNode,e.gameData);case 9:t.next=13;break;case 11:return t.next=13,this.getCom(l).createEnemy();case 13:if(this.isTest){t.next=18;break}return t.next=16,this.getCom(f).createRole();case 16:t.next=20;break;case 18:return t.next=20,this.getCom(l).createRole();case 20:return t.next=22,D.preloadNode();case 22:this.gameProp.setData({isStart:!0}),this.gameProp.startData.isRecord&&(r=JSON.parse(this.gameProp.startData.recordData),this.eventMap=M.objToMap(r));case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.endGame=function(){var t=r(a().mark((function t(e){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isStart){t.next=2;break}return t.abrupt("return");case 2:return console.log("endGame "+e.isSucc+" "+e.startData.targetUserId),t.next=5,c.getSys(h).createDlg(x);case 5:if(e.isSucc){t.next=7;break}return t.abrupt("return");case 7:if(""==e.startData.targetUserId){t.next=12;break}return t.next=10,v.addUserLose(e.startData.targetUserId,M.mapToString(this.eventMap));case 10:t.next=33;break;case 12:if(!e.startData.isMyWar){t.next=15;break}t.next=33;break;case 15:if(!e.startData.isRecord){t.next=18;break}t.next=33;break;case 18:if(-1!=e.startData.level){t.next=20;break}return t.abrupt("return");case 20:if(e.startData.level==this.heroProp.level){t.next=22;break}return t.abrupt("return");case 22:if(!this.heroProp.isNetData){t.next=28;break}return t.next=25,v.setUserLevel(this.heroProp.userId,this.heroProp.level+1);case 25:this.heroProp.setData({level:this.heroProp.level+1}),t.next=33;break;case 28:if(e.startData.level==parseInt(y.getData(S.LEVEL_DATA,"0"))){t.next=30;break}return t.abrupt("return");case 30:r=parseInt(y.getData(S.LEVEL_DATA,"0")),y.saveData(S.LEVEL_DATA,(r+1).toString()),this.heroProp.setData({level:this.heroProp.level+1});case 33:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.addFrameAction=function(t,e){var r=(this.iFrame+1).toString();this.eventMap.has(r)||this.eventMap.set(r,new Array),this.eventMap.get(r).push({actionName:t,data:e})},i.runAction=function(){var t=r(a().mark((function t(){var e,r,s,i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.iFrame.toString(),this.eventMap.has(e)){t.next=3;break}return t.abrupt("return");case 3:r=this.eventMap.get(e),s=n(r);case 5:if((i=s()).done){t.next=11;break}return o=i.value,t.next=9,c.getSys(P).runEvent(o.actionName,o.data);case 9:t.next=5;break;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.loop=function(){var t=r(a().mark((function t(){var e,r,s,i,o,c,u,p;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gameProp.isStart){t.next=2;break}return t.abrupt("return");case 2:return this.iFrame++,t.next=5,this.runAction();case 5:e=this.loopTime,this.getCom(b).loop(e),r=this.getCom(g),T.loop(e),s=r.getAllRoleSet(),i=n(s);case 11:if((o=i()).done){t.next=17;break}return c=o.value,t.next=15,c.getComponent(m).loop(e);case 15:t.next=11;break;case 17:s=r.getAllEnemySet(),u=n(s);case 19:if((p=u()).done){t.next=25;break}return c=p.value,t.next=23,c.getComponent(m).loop(e);case 23:t.next=19;break;case 25:return t.next=27,r.loop(e);case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s}(o))||A);s._RF.pop()}}}));

System.register("chunks:///_virtual/GameTestCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts","./EnemyFactory0.ts","./RoleFactory0.ts","./RoleFactory1.ts","./GameObjMgrCom.ts"],(function(e){"use strict";var t,r,n,o,a,s,c,i,u,l,d,m,f;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,s=e.Vec3},function(e){c=e.ComBase},function(e){i=e.SysMgr},function(e){u=e.GameSys},function(e){l=e.EnemyFactory0},function(e){d=e.RoleFactory0},function(e){m=e.RoleFactory1},function(e){f=e.GameObjMgrCom}],execute:function(){var g;o._RF.push({},"49e20aCi3ZKe4CtFFgG8RnT","GameTestCom",void 0);var y=a.ccclass;a.property,e("GameTestCom",y("GameTestCom")(g=function(e){function o(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).objMgr=void 0,t}t(o,e);var a=o.prototype;return a.init=function(){this.objMgr=i.getSys(u).getCom(f)},a.createRole=function(){var e=r(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.createRole(new s(-150,-60,0));case 2:return t=e.sent,this.objMgr.roleSet.add(t),e.next=6,d.createRole(new s(-150,-60,0));case 6:return t=e.sent,this.objMgr.roleSet.add(t),e.next=10,m.createRole(new s(100,-10,0));case 10:return t=e.sent,this.objMgr.roleSet.add(t),e.next=14,d.createRole(new s(100,-35,0));case 14:return t=e.sent,this.objMgr.roleSet.add(t),e.next=18,d.createRole(new s(100,-65,0));case 18:return t=e.sent,this.objMgr.roleSet.add(t),e.next=22,d.createRole(new s(100,-85,0));case 22:return t=e.sent,this.objMgr.roleSet.add(t),e.next=26,d.createRole(new s(120,-85,0));case 26:return t=e.sent,this.objMgr.roleSet.add(t),e.next=30,d.createRole(new s(110,-105,0));case 30:return t=e.sent,this.objMgr.roleSet.add(t),e.next=34,d.createRole(new s(-50,-105,0));case 34:t=e.sent,this.objMgr.roleSet.add(t);case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.createEnemy=function(){var e=r(n().mark((function e(){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.createEnemy(new s(-50,-60,0));case 2:t=e.sent,this.objMgr.getAllEnemySet().add(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o}(c))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameWarInitCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./GameSys.ts","./HeroSys.ts","./EnemyFactory0.ts","./EnemyFactory1.ts","./EnemyFactory2.ts","./EnemyFactory3.ts","./EnemyFactory4.ts","./EnemyFactory5.ts","./EnemyFactory6.ts","./EnemyFactory7.ts","./GameObjMgrCom.ts"],(function(e){"use strict";var t,n,r,a,o,s,c,u,i,y,m,f,p,l,h,g,v,E,F,x,b;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator,s=e.Vec3},function(e){c=e.ComBase},function(e){u=e.ResourceLoader},function(e){i=e.ResourcesPathDefine},function(e){y=e.SysMgr},function(e){m=e.GameSys},function(e){f=e.HeroSys},function(e){p=e.EnemyFactory0},function(e){l=e.EnemyFactory1},function(e){h=e.EnemyFactory2},function(e){g=e.EnemyFactory3},function(e){v=e.EnemyFactory4},function(e){E=e.EnemyFactory5},function(e){F=e.EnemyFactory6},function(e){x=e.EnemyFactory7},function(e){b=e.GameObjMgrCom}],execute:function(){var d,M;a._RF.push({},"553afGFCP1D762GSsI19Cpq","GameWarInitCom",void 0);var w=o.ccclass;o.property,e("GameWarInitCom",w("GameWarInitCom")(((M=function(e){function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).heroProp=void 0,t.objMgr=void 0,t}t(a,e);var o=a.prototype;return o.init=function(){var e;this.heroProp=y.getSys(f).heroProp,this.objMgr=null==(e=y.getSys(m))?void 0:e.getCom(b)},o.createRole=function(){var e=n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.createOneEnemy=function(){var e=n(r().mark((function e(t,n,o){var c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.enemyFactoryMap.get(t).createEnemy(new s(n.x,n.y,0),o,!1);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),o.initCreateEnemy=function(){var e=n(r().mark((function e(t,n){var o,c,u,i,y,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n){e.next=4;break}return e.next=3,this.getGameData();case 3:n=e.sent;case 4:c=new Set,e.t0=r().keys(n);case 6:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,"master"!=(i=n[u]).typeName){e.next=16;break}return e.next=12,x.createEnemy(new s(i.x,i.y,0),t,null!=this.objMgr);case 12:y=e.sent,null==(m=this.objMgr)||m.setMasterNode(y),e.next=19;break;case 16:return e.next=18,a.enemyFactoryMap.get(Number(i.typeName)).createEnemy(new s(i.x,i.y,0),t,null!=this.objMgr);case 18:y=e.sent;case 19:y.name=i.typeName,c.add(y),e.next=6;break;case 23:null==(o=this.objMgr)||o.setEnemySet(c);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),o.getGameData=function(){var e=n(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,""==this.heroProp.gameData){e.next=5;break}t=JSON.parse(this.heroProp.gameData),e.next=9;break;case 5:return e.next=7,u.loadAsset(i.GAME_DATA_ROOT_PATH+"/default.json");case 7:n=e.sent,t=n.json;case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a}(c)).enemyFactoryMap=new Map([[0,p],[1,l],[2,h],[3,g],[4,v],[5,E],[6,F]]),d=M))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalVar.ts",["cc"],(function(a){"use strict";var r,c;return{setters:[function(a){r=a.cclegacy,c=a._decorator}],execute:function(){var e,t;r._RF.push({},"ea983HVLKNDd5AaXujzCM2E","GlobalVar",void 0);var o=c.ccclass;c.property,a("GlobalVar",o("GlobalVar")(((t=function(){}).isTest=!1,t.isWX=!1,t.canvas=void 0,t.gamePanel=void 0,e=t))||e);r._RF.pop()}}}));

System.register("chunks:///_virtual/HeroProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts"],(function(r){"use strict";var e,t,o,a;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy,o=r._decorator},function(r){a=r.PropBase}],execute:function(){var c;t._RF.push({},"651acAm/OtF/7HhPiZaeGHA","HeroProp",void 0);var n=o.ccclass;o.property,r("HeroProp",n("HeroProp")(c=function(r){function t(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=r.call.apply(r,[this].concat(o))||this).id="0",e.userId="0",e.gameData="",e.userName="",e.level=0,e.isNetData=!1,e.headUrl="",e}return e(t,r),t}(a))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/HeroSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./Defines.ts","./GlobalVar.ts","./HeroProp.ts","./Misc.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./BubbleTipDlgCom.ts","./GameDataNet.ts","./WXTool.ts","./StorageUtils.ts"],(function(e){"use strict";var t,r,n,a,s,i,o,u,c,l,p,f,h,D,d,v;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){i=e.SysBase},function(e){o=e.Defines},function(e){u=e.GlobalVar},function(e){c=e.HeroProp},function(e){l=e.Misc},function(e){p=e.ResourceLoader},function(e){f=e.ResourcesPathDefine},function(e){h=e.BubbleTipDlgCom},function(e){D=e.GameDataNet},function(e){d=e.WXTool},function(e){v=e.StorageUtils}],execute:function(){var x;a._RF.push({},"0e761d9ocFBZJbJYSNZ2TRI","HeroSys",void 0);var g=s.ccclass;s.property,e("HeroSys",g("HeroSys")(x=function(e){function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).heroProp=void 0,t.isWxInit=!1,t.isInit=!1,t}t(a,e);var s=a.prototype;return s.onLoad=function(){this.heroProp=new c},s.enterMain=function(){var e=r(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.isWX){e.next=5;break}return e.next=3,this.initHeroData();case 3:e.next=6;break;case 5:d.initHeroWXData();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.initHeroWXData=function(){var e=r(n().mark((function e(t){var r,a,s,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isWxInit){e.next=2;break}return e.abrupt("return");case 2:return this.isWxInit=!0,e.next=5,D.getOpenIdByCode(t.code);case 5:if(null!=(r=e.sent)&&""!=r.openid){e.next=10;break}return e.next=9,this.initHeroData();case 9:return e.abrupt("return");case 10:return a="wx_id_"+r.openid,e.next=13,this.getUserData(a,t.userName,t.headUrl);case 13:null!=(s=e.sent)?(this.heroProp.setData({id:s[0],userId:s[1],gameData:s[2],userName:s[4],level:s[5],isNetData:!0,headUrl:s[8]}),h.createTip("网络连接成功")):(i=parseInt(v.getData(o.LEVEL_DATA,"0")),this.heroProp.setData({id:"",userId:"0",userName:"无网络",level:i,isNetData:!1,headUrl:""}),h.createTip("单机模式下，记录可能会丢失"));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.initHeroData=function(){var e=r(n().mark((function e(){var t,r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInit){e.next=2;break}return e.abrupt("return");case 2:return this.isInit=!0,""==(t=v.getData(o.USER_ID,""))&&(t="local_id_"+l.guid(),v.saveData(o.USER_ID,t)),e.next=7,this.getUserData(t);case 7:null!=(r=e.sent)?(this.heroProp.setData({id:r[0],userId:r[1],gameData:r[2],userName:r[4],level:r[5],isNetData:!0,headUrl:""}),h.createTip("网络连接成功")):(a=parseInt(v.getData(o.LEVEL_DATA,"0")),this.heroProp.setData({id:"",userId:"0",userName:"无网络",level:a,isNetData:!1,headUrl:""}),h.createTip("单机模式下，记录可能会丢失"));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.getUserData=function(){var e=r(n().mark((function e(t,r,a){var s,i,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=null),void 0===a&&(a=null),e.next=4,D.getUserData(t);case 4:if(null!=(s=e.sent)){e.next=14;break}return e.next=8,p.loadAsset(f.GAME_DATA_ROOT_PATH+"/default.json");case 8:return i=e.sent,o=i.json,e.next=12,D.saveUserData(t,JSON.stringify(o),r,a);case 12:e.next=15;break;case 14:return e.abrupt("return",s);case 15:return e.next=17,D.getUserData(t);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),a}(i))||x);a._RF.pop()}}}));

System.register("chunks:///_virtual/HPCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var o,r,e,s,i,h,a,n;return{setters:[function(t){o=t.inheritsLoose},function(t){r=t.cclegacy,e=t._decorator,s=t.ProgressBar},function(t){i=t.ComBase},function(t){h=t.SysMgr},function(t){a=t.GameSys},function(t){n=t.GameObjMgrCom}],execute:function(){var c;r._RF.push({},"1120biFLvdLObRtYa6W1pbo","HPCom",void 0);var p=e.ccclass;e.property,t("HPCom",p("HPCom")(c=function(t){function r(){for(var o,r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];return(o=t.call.apply(t,[this].concat(e))||this).m_HP=void 0,o.charProp=void 0,o.objMgr=void 0,o.m_HPNode=void 0,o}o(r,t);var e=r.prototype;return e.init=function(t){this.m_HP=this.node.getChildByName("m_HPNode").getChildByName("m_HP"),this.charProp=t,this.charProp.watch("hp",this,"refreshHP"),this.objMgr=h.getSys(a).getCom(n),this.m_HPNode=this.node.getChildByName("m_HPNode"),this.refreshHP(t)},e.downHP=function(t){var o=this.charProp.hp-t;o<0&&(o=0),this.charProp.setData({hp:o})},e.addHP=function(t){var o=this.charProp.hp+t;o>this.charProp.maxHp&&(o=this.charProp.maxHp),this.charProp.setData({hp:o})},e.refreshHP=function(t){this.m_HP.getComponent(s).progress=t.hp/t.maxHp,0==t.hp&&this.objMgr.destroyObj(this.node),t.hp==t.maxHp?this.m_HPNode.active=!1:this.m_HPNode.active=!0},r}(i))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/HttpUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,a,u;return{setters:[function(t){e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){n=t.cclegacy,a=t._decorator,u=t.loader}],execute:function(){var s;n._RF.push({},"6f6dc/1bvNGs74CX01uwe8d","HttpUtils",void 0);var o=a.ccclass;a.property,t("HttpUtils",o("HttpUtils")(s=function(){function t(){}return t.httpPost=function(){var n=e(r().mark((function e(n,a,u){var s,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===u&&(u=3),o=0;case 2:if(!(o<u)){e.next=11;break}return e.next=5,t.post(n,a);case 5:if("error"==(s=e.sent)){e.next=8;break}return e.abrupt("return",s);case 8:o++,e.next=2;break;case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,e,r){return n.apply(this,arguments)}}(),t.httpGet=function(){var n=e(r().mark((function e(n,a){var u,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=3),s=0;case 2:if(!(s<a)){e.next=11;break}return e.next=5,t.get(n);case 5:if("error"==(u=e.sent)){e.next=8;break}return e.abrupt("return",u);case 8:s++,e.next=2;break;case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,e){return n.apply(this,arguments)}}(),t.download=function(){var n=e(r().mark((function e(n,a){var u,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=3),s=0;case 2:if(!(s<a)){e.next=11;break}return e.next=5,t.down(n);case 5:if("error"==(u=e.sent)){e.next=8;break}return e.abrupt("return",u);case 8:s++,e.next=2;break;case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,e){return n.apply(this,arguments)}}(),t.post=function(){var t=e(r().mark((function t(e,n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var a=u.getXMLHttpRequest(),s=!1,o=setTimeout((function(){s=!0,a.abort(),t("error")}),5e3);a.onreadystatechange=function(){if(4===a.readyState&&a.status>=200&&a.status<300){var e=a.responseText;if(s)return;clearTimeout(o),t(e)}},a.open("POST",e,!0),a.timeout=5e3,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),t.get=function(){var t=e(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=u.getXMLHttpRequest(),a=!1,s=setTimeout((function(){a=!0,n.abort(),t("error")}),5e3);n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<300){var e=n.responseText;if(a)return;clearTimeout(s),t(e)}},n.open("GET",e,!0),n.timeout=5e3,n.send()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.down=function(){var t=e(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=u.getXMLHttpRequest(),a=!1,s=setTimeout((function(){a=!0,n.abort(),t("error")}),5e3);n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<300){var e=n.response;if(a)return;var r=new Uint8Array(e);clearTimeout(s),t(r)}},n.responseType="arraybuffer",n.open("GET",e,!0),n.timeout=5e3,n.send()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}())||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/InterruptDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var e,r,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator},function(t){i=t.DlgBase}],execute:function(){var c,l;r._RF.push({},"7ffc2R+DWJH5p8wIDyiDZJ/","InterruptDlg",void 0);var o=n.ccclass;n.property,t("InterruptDlg",o("InterruptDlg")(((l=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).m_TipLabel=void 0,e}return e(r,t),r.prototype.initDlg=function(t){this.m_TipLabel=this.node.getChildByName("m_TipLabel")},r}(i)).UI_PATH="InterruptDlg",c=l))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/InterruptDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InterruptDlg.ts"],(function(t){"use strict";var r,n,e,o,i;return{setters:[function(t){r=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,o=t.Label},function(t){i=t.InterruptDlg}],execute:function(){var c;n._RF.push({},"69a217j2zZCRotBAaYSPC9q","InterruptDlgCom",void 0);var l=e.ccclass;e.property,t("InterruptDlgCom",l("InterruptDlgCom")(c=function(t){function n(){for(var r,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(r=t.call.apply(t,[this].concat(e))||this).data=void 0,r}return r(n,t),n.prototype.initDlg=function(r){t.prototype.initDlg.call(this,r),this.m_TipLabel.getComponent(o).string=r},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/IntervalMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(e){"use strict";var n,t,r,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){o=e.ComBase}],execute:function(){var a,c;t._RF.push({},"120e9sCZWdBv46ax62cNhOB","IntervalMgr",void 0);var i=r.ccclass;r.property,e("IntervalMgr",i("IntervalMgr")(((c=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.checkInterval=function(e,n){if(!t.objMap.has(e))return t.objMap.set(e,t.nowTime),!0;var r=t.objMap.get(e);return t.nowTime-r>n&&(t.objMap.set(e,t.nowTime),!0)},t.loop=function(e){t.nowTime+=e},t}(o)).objMap=new Map,c.nowTime=0,a=c))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/KeyCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./EnemySetDlgCom.ts","./DlgSys.ts","./HeroSys.ts","./TimeSys.ts","./CodeReoladTool.ts","./GlobalVar.ts","./SysMgr.ts"],(function(t){"use strict";var e,n,r,o,c,s,i,a,u,p,f,y,l,h,d,m,v,k;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,c=t._decorator,s=t.input,i=t.Input,a=t.KeyCode,u=t.game,p=t.loader},function(t){f=t.ComBase},function(t){y=t.EnemySetDlgCom},function(t){l=t.DlgSys},function(t){h=t.HeroSys},function(t){d=t.TimeSys},function(t){m=t.CodeReoladTool},function(t){v=t.GlobalVar},function(t){k=t.SysMgr}],execute:function(){var w;o._RF.push({},"25fbfj2Nq5DEoXtBRToBEhY","KeyCom",void 0);var E=c.ccclass;c.property,t("KeyCom",E("KeyCom")(w=function(t){function o(){for(var e,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))||this).ctrlDown=!1,e.funcDict=new Map([[a.KEY_D,o.prototype.reload],[a.KEY_F,o.prototype.test],[a.KEY_R,o.prototype.restart],[a.F1,o.prototype.testFunc],[a.KEY_P,o.prototype.printMomory],[a.NUM_0,o.prototype.click0],[a.NUM_1,o.prototype.click1],[a.NUM_2,o.prototype.click2],[a.NUM_3,o.prototype.click3],[a.NUM_4,o.prototype.click4],[a.NUM_5,o.prototype.click5],[a.NUM_6,o.prototype.click6],[a.NUM_7,o.prototype.click7],[a.DELETE,o.prototype.delEnemy],[a.F2,o.prototype.saveLevel]]),e}e(o,t);var c=o.prototype;return c.onLoad=function(){s.on(i.EventType.KEY_DOWN,this.onKeyDown,this),s.on(i.EventType.KEY_UP,this.onKeyUp,this)},c.click0=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(0);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.click1=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(1);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.click2=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(2);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.click3=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(3);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.click4=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(4);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.click5=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(5);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.click6=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(6);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.click7=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(7);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.addEnemy=function(t){v.isTest&&k.getSys(l).getDlg(y).getComponent(y).addEnemy(t)},c.delEnemy=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.isTest&&k.getSys(l).getDlg(y).getComponent(y).delEnemy();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.saveLevel=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:k.getSys(h).heroProp.setData({level:100});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.onKeyDown=function(){var t=n(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.keyCode==a.CTRL_LEFT&&(this.ctrlDown=!0),!this.funcDict.has(e.keyCode)){t.next=4;break}return t.next=4,this.funcDict.get(e.keyCode).bind(this)(this.ctrlDown);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.onKeyUp=function(t){t.keyCode==a.CTRL_LEFT&&(this.ctrlDown=!1)},c.reload=function(){var t=n(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.isTest){t.next=2;break}return t.abrupt("return");case 2:if(!e){t.next=5;break}return t.next=5,m.reload();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.testFunc=function(){var t=n(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.isTest){t.next=2;break}return t.abrupt("return");case 2:k.getSys(l).getDlg(y).getComponent(y).saveEnemyJson();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.test=function(){var t=n(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.isTest){t.next=2;break}return t.abrupt("return");case 2:console.log("DDDDDD",k.getSys(d).timeMap);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.restart=function(){var t=n(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.isTest){t.next=2;break}return t.abrupt("return");case 2:setTimeout((function(){u.restart()}),1e3);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.printMomory=function(){var t=n(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v.isTest){t.next=2;break}return t.abrupt("return");case 2:console.log("cache=",Object.keys(p._cache).length);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o}(f))||w);o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var e,i,l,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,l=t._decorator},function(t){n=t.DlgBase}],execute:function(){var o,r;i._RF.push({},"a08f0tZu1xPipOfctdQCnzL","LevelDlg",void 0);var c=l.ccclass;l.property,t("LevelDlg",c("LevelDlg")(((r=function(t){function i(){for(var e,i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return(e=t.call.apply(t,[this].concat(l))||this).m_ScrollView=void 0,e.m_ExitBtn=void 0,e}return e(i,t),i.prototype.initDlg=function(t){this.m_ScrollView=this.node.getChildByName("m_ScrollView"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn")},i}(n)).UI_PATH="LevelDlg",o=r))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./DlgSys.ts","./HeroSys.ts","./LevelDlg.ts","./EnemySetDlgCom.ts"],(function(e){"use strict";var t,n,r,o,s,c,i,l,a,u,g,p,f,m,h,v,y,D;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,c=e.Label,i=e.Sprite,l=e.Color,a=e.Button,u=e.ScrollView},function(e){g=e.ClickFunctor},function(e){p=e.ResourceLoader},function(e){f=e.ResourcesPathDefine},function(e){m=e.SysMgr},function(e){h=e.DlgSys},function(e){v=e.HeroSys},function(e){y=e.LevelDlg},function(e){D=e.EnemySetDlgCom}],execute:function(){var C;o._RF.push({},"1996cqzCSVBsb0jY+MBkiFH","LevelDlgCom",void 0);var S=s.ccclass;s.property,e("LevelDlgCom",S("LevelDlgCom")(C=function(e){function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).data=void 0,t.levelNum=9,t}t(o,e);var s=o.prototype;return s.initDlg=function(){var t=n(r().mark((function t(n){var o,s,h,y,D,C;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.initDlg.call(this,n),this.m_ExitBtn.on("click",g.getFunc(this,"onExitClick"),this),t.next=4,p.loadAsset(f.GAME_DATA_ROOT_PATH+"/max.txt");case 4:o=t.sent,this.levelNum=Number(o),s=this.m_ScrollView.getComponent(u).content,h=m.getSys(v).heroProp,y=h.level,D=0;case 10:if(!(D<this.levelNum)){t.next=21;break}return t.next=13,p.insNode(f.UI_ITEM_ROOT_PATH+"/LevelItem");case 13:(C=t.sent).parent=s,C.getChildByName("Label").getComponent(c).string=(D+1).toString(),D>y&&(C.getComponent(i).color=l.GRAY,C.getComponent(a).interactable=!1),C.on("click",g.getFunc(this,"onItemClick",D),this);case 18:D++,t.next=10;break;case 21:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.onExitClick=function(){this.closeDlg(o)},s.onItemClick=function(){var e=n(r().mark((function e(t){var n,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.closeDlg(o),e.next=3,p.loadAsset(f.GAME_DATA_ROOT_PATH+"/level/"+t+".json");case 3:null!=(n=e.sent)&&(s=n.json,m.getSys(h).createDlg(D,{isMyWar:!1,gameData:s,targetUserId:"",level:t}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o}(y))||C);o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Main.ts","./AnimPropBase.ts","./ComBase.ts","./DlgBase.ts","./PropBase.ts","./ResourcesObjBase.ts","./SysBase.ts","./ClickFunctor.ts","./Defines.ts","./DelCB.ts","./DestroyCB.ts","./DestroySelf.ts","./EventDefine.ts","./EventProp.ts","./Functor.ts","./GlobalVar.ts","./HeroProp.ts","./IntervalMgr.ts","./Misc.ts","./PreLoad.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./KeyCom.ts","./SpriteCom.ts","./EnemyData.ts","./RoleData.ts","./BubbleTipDlgCom.ts","./EnemySetDlgCom.ts","./GameDlgCom.ts","./InterruptDlgCom.ts","./LevelDlgCom.ts","./MainDlgCom.ts","./RankDlgCom.ts","./ResultDlgCom.ts","./TipDlgCom.ts","./UserWarDlgCom.ts","./DlgMgrCom.ts","./BubbleTipDlg.ts","./EnemySetDlg.ts","./GameDlg.ts","./InterruptDlg.ts","./LevelDlg.ts","./MainDlg.ts","./RankDlg.ts","./ResultDlg.ts","./TipDlg.ts","./UserWarDlg.ts","./BlockObjMgr.ts","./FireMgrCom.ts","./GameObjCom.ts","./GameObjMgrCom.ts","./GameTestCom.ts","./GameWarInitCom.ts","./OrderMgrCom.ts","./AICom.ts","./AIOrderCom.ts","./AreaCom.ts","./BuffCom.ts","./HPCom.ts","./AttackCom0.ts","./AttackCom1.ts","./AttackCom2.ts","./AttackCom3.ts","./AttackCom4.ts","./AttackCom5.ts","./AttackCom6.ts","./BuffCom0.ts","./OrderCom0.ts","./OrderDataCom.ts","./RunCom0.ts","./RunCom1.ts","./RunCom2.ts","./SeekCom0.ts","./SeekCom1.ts","./SeekCom2.ts","./FactoryCharInit.ts","./BoomFactory0.ts","./BoomFactory1.ts","./EnemyFactory0.ts","./EnemyFactory1.ts","./EnemyFactory2.ts","./EnemyFactory3.ts","./EnemyFactory4.ts","./EnemyFactory5.ts","./EnemyFactory6.ts","./EnemyFactory7.ts","./OrderFactory0.ts","./OrderFactory1.ts","./OrderFactory2.ts","./RoleFactory0.ts","./RoleFactory1.ts","./RoleFactory2.ts","./RoleFactory3.ts","./RoleFactory4.ts","./CharProp.ts","./GameProp.ts","./GameDataNet.ts","./AudioSys.ts","./CommonSys.ts","./DlgSys.ts","./EventSys.ts","./GameSys.ts","./HeroSys.ts","./PoolSys.ts","./TimeSys.ts","./CodeReoladTool.ts","./PrintTool.ts","./WXTool.ts","./ConsoleTool.ts","./GameRandomUtils.ts","./HttpUtils.ts","./RandomUtils.ts","./StorageUtils.ts","./TweenAction.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalVar.ts","./SysMgr.ts"],(function(n){"use strict";var t,e,r,i,a,s,o,c,u;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){i=n.cclegacy,a=n._decorator,s=n.Node,o=n.Component},function(n){c=n.GlobalVar},function(n){u=n.SysMgr}],execute:function(){var p;i._RF.push({},"2e617VEnaVGepVfbv7GJLQZ","Main",void 0);var l=a.ccclass;a.property,n("Main",l("Main")(p=function(n){function i(){return n.apply(this,arguments)||this}t(i,n);var a=i.prototype;return a.start=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.initGlobalVar(),this.initSys();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.initGlobalVar=function(){c.isTest=!1,window.wx?(c.isTest=!1,c.isWX=!0):c.isWX=!1,c.canvas=this.node,c.gamePanel=new s,c.gamePanel.name="gamePanel",c.gamePanel.parent=this.node},a.initSys=function(){var n=e(r().mark((function n(){var t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new s).name=u.name,t.parent=this.node,u.ins=t.addComponent(u),n.next=6,u.ins.init();case 6:return n.next=8,u.ins.enter();case 8:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),i}(o))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/MainDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(e){"use strict";var t,n,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator},function(e){a=e.DlgBase}],execute:function(){var o,s;n._RF.push({},"c076d/yWgNMKJqwqPf6hAdb","MainDlg",void 0);var m=i.ccclass;i.property,e("MainDlg",m("MainDlg")(((s=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).m_EnemySetBtn=void 0,t.m_LevelBtn=void 0,t.m_UserNameLabel=void 0,t.m_UserWarBtn=void 0,t.m_WXBtn=void 0,t.m_IconSprite=void 0,t.m_RankBtn=void 0,t}return t(n,e),n.prototype.initDlg=function(e){this.m_EnemySetBtn=this.node.getChildByName("m_EnemySetBtn"),this.m_LevelBtn=this.node.getChildByName("m_LevelBtn"),this.m_UserNameLabel=this.node.getChildByName("m_UserNameLabel"),this.m_UserWarBtn=this.node.getChildByName("m_UserWarBtn"),this.m_WXBtn=this.node.getChildByName("m_WXBtn"),this.m_IconSprite=this.node.getChildByName("m_IconItem").getChildByName("m_IconSprite"),this.m_RankBtn=this.node.getChildByName("m_RankBtn")},n}(a)).UI_PATH="MainDlg",o=s))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/MainDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./GlobalVar.ts","./SysMgr.ts","./DlgSys.ts","./HeroSys.ts","./WXTool.ts","./MainDlg.ts","./BubbleTipDlgCom.ts","./EnemySetDlgCom.ts","./LevelDlgCom.ts","./RankDlgCom.ts","./UserWarDlgCom.ts"],(function(t){"use strict";var e,n,r,i,o,s,c,a,l,u,h,g,f,m,p,C,k,y,D,v,S,d;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,o=t._decorator,s=t.Label,c=t.assetManager,a=t.SpriteFrame,l=t.Texture2D,u=t.Sprite},function(t){h=t.ClickFunctor},function(t){g=t.GlobalVar},function(t){f=t.SysMgr},function(t){m=t.DlgSys},function(t){p=t.HeroSys},function(t){C=t.WXTool},function(t){k=t.MainDlg},function(t){y=t.BubbleTipDlgCom},function(t){D=t.EnemySetDlgCom},function(t){v=t.LevelDlgCom},function(t){S=t.RankDlgCom},function(t){d=t.UserWarDlgCom}],execute:function(){var b;i._RF.push({},"b645bikM2RP8Zj+xF0rGxzH","MainDlgCom",void 0);var M=o.ccclass;o.property,t("MainDlgCom",M("MainDlgCom")(b=function(t){function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).data=void 0,e.heroProp=void 0,e}e(i,t);var o=i.prototype;return o.initDlg=function(){var e=n(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.prototype.initDlg.call(this,n),this.m_EnemySetBtn.on("click",h.getFunc(this,"onEnemySetClick"),this),this.m_LevelBtn.on("click",h.getFunc(this,"onLevelClick"),this),this.m_UserWarBtn.on("click",h.getFunc(this,"onUserWarClick"),this),this.m_RankBtn.on("click",h.getFunc(this,"onRankClick"),this),this.m_WXBtn.on("click",h.getFunc(this,"onWXClick"),this),this.heroProp=f.ins.getCom(p).heroProp,this.heroProp.watch("userName",this,"refreshUserName"),this.heroProp.watch("headUrl",this,"refreshIcon"),this.refreshUserName(this.heroProp),this.refreshIcon(this.heroProp),e.next=13,f.getSys(p).enterMain();case 13:this.m_WXBtn.active=g.isWX;case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.refreshUserName=function(t){this.m_UserNameLabel.getComponent(s).string=t.userName},o.refreshIcon=function(){var t=n(r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=e.headUrl){t.next=2;break}return t.abrupt("return");case 2:n=this,c.loadRemote(e.headUrl,{ext:".png"},(function(t,e){var r=new a,i=new l;i.image=e,r.texture=i,n.m_IconSprite.getComponent(u).spriteFrame=r}));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.onUserWarClick=function(){f.getSys(m).createDlg(d)},o.onLevelClick=function(){f.getSys(m).createDlg(v)},o.onRankClick=function(){f.getSys(m).createDlg(S)},o.onWXClick=function(){C.share()},o.onEnemySetClick=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getSys(m).createDlg(D,{isMyWar:!0,gameData:null,targetUserId:"",level:-1});case 2:y.createTip("拖动文字可以编辑场景让好友挑战");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i}(k))||b);i._RF.pop()}}}));

System.register("chunks:///_virtual/Misc.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var t,e,n;return{setters:[function(r){t=r.createForOfIteratorHelperLoose},function(r){e=r.cclegacy,n=r._decorator}],execute:function(){var x;e._RF.push({},"30d0crY3B1Au6ZX0fdKgjis","Misc",void 0);var o=n.ccclass;n.property,r("Misc",o("Misc")(x=function(){function r(){}return r.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var t=16*Math.random()|0;return("x"==r?t:3&t|8).toString(16)}))},r.mapToString=function(r){for(var e,n={},x=t(r.keys());!(e=x()).done;){var o=e.value;n[o]=r.get(o)}return JSON.stringify(n)},r.objToMap=function(r){var t=new Map;for(var e in r){var n=r[e];t.set(e,n)}return t},r}())||x);e._RF.pop()}}}));

System.register("chunks:///_virtual/OrderCom0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Functor.ts","./SysMgr.ts","./GameSys.ts","./TweenAction.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,o,r,n,s,c,i,u,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){n=t.ComBase},function(t){s=t.Functor},function(t){c=t.SysMgr},function(t){i=t.GameSys},function(t){u=t.TweenAction},function(t){a=t.GameObjMgrCom}],execute:function(){var f;o._RF.push({},"a267eh96mxJC7UkSuFIe/m/","OrderCom0",void 0);var l=r.ccclass;r.property,t("OrderCom0",l("OrderCom0")(f=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).objMgr=void 0,e.isRun=!0,e}e(o,t);var r=o.prototype;return r.init=function(t){this.objMgr=c.getSys(i).getCom(a),u.createStart().delay(t,s.getFunc(this,"destroySelf"))},r.destroySelf=function(){null!=this.objMgr&&this.objMgr.destroyObj(this.node)},o}(n))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/OrderDataCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts"],(function(t){"use strict";var e,r,o,s,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator},function(t){s=t.ComBase},function(t){n=t.SysMgr},function(t){a=t.GameSys}],execute:function(){var c;r._RF.push({},"334a3mVL0FFS4DLHWLZ+R9u","OrderDataCom",void 0);var i=o.ccclass;o.property,t("OrderDataCom",i("OrderDataCom")(c=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).gameSys=void 0,e.type=0,e}return e(r,t),r.prototype.init=function(t){this.gameSys=n.getSys(a),this.type=t},r}(s))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/OrderFactory0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./GameSys.ts","./OrderCom0.ts","./OrderDataCom.ts","./GameObjCom.ts","./GameObjMgrCom.ts"],(function(e){"use strict";var t,r,n,o,s,a,c,i,u,f,d,m,p,O,y,C;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime,o=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator},function(e){c=e.ComBase},function(e){i=e.Defines},function(e){u=e.ResourceLoader},function(e){f=e.ResourcesPathDefine},function(e){d=e.SysMgr},function(e){m=e.GameSys},function(e){p=e.OrderCom0},function(e){O=e.OrderDataCom},function(e){y=e.GameObjCom},function(e){C=e.GameObjMgrCom}],execute:function(){var l;s._RF.push({},"12c128y2f9J3Kfy3hzUxaex","OrderFactory0",void 0);var g=a.ccclass;a.property,e("OrderFactory0",g("OrderFactory0")(l=function(e){function s(){return e.apply(this,arguments)||this}return t(s,e),s.createOrder=function(){var e=r(n().mark((function e(t){var r,s,a,c,l,g;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=0,s=d.getSys(m).getCom(C),null!=(a=s.getOrderSetByType(r)))for(c=o(a);!(l=c()).done;)(g=l.value).getComponent(p).isRun=!1;return e.next=6,u.insNode(f.ORDER_ROOT_PATH+"/order"+r);case 6:return(g=e.sent).parent=s.getParentNode(),g.setPosition(t),g.addComponent(y).init(i.GAMEOBJ_TYPE_ORDER),g.addComponent(O).init(r),g.addComponent(p).init(10),e.abrupt("return",g);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s}(c))||l);s._RF.pop()}}}));

System.register("chunks:///_virtual/OrderFactory1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts","./GameRandomUtils.ts","./GameObjMgrCom.ts","./RoleFactory0.ts"],(function(e){"use strict";var r,t,n,o,a,c,s,u,i,m,f,d;return{setters:[function(e){r=e.inheritsLoose,t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,c=e.Vec3},function(e){s=e.ComBase},function(e){u=e.SysMgr},function(e){i=e.GameSys},function(e){m=e.GameRandomUtils},function(e){f=e.GameObjMgrCom},function(e){d=e.RoleFactory0}],execute:function(){var l;o._RF.push({},"6ed58oDE5JCsoK7yiSsKrVb","OrderFactory1",void 0);var y=a.ccclass;a.property,e("OrderFactory1",y("OrderFactory1")(l=function(e){function o(){return e.apply(this,arguments)||this}return r(o,e),o.createOrder=function(){var e=t(n().mark((function e(r){var t,o,a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u.getSys(i).getCom(f),o=0;case 2:if(!(o<3)){e.next=11;break}return a=new c(r).add3f(m.gameRandomNum(-30,30),m.gameRandomNum(-30,30),0),e.next=6,d.createRole(a);case 6:s=e.sent,t.addRole(s);case 8:o++,e.next=2;break;case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),o}(s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/OrderFactory2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts","./BlockObjMgr.ts","./BuffCom.ts","./BoomFactory1.ts"],(function(r){"use strict";var e,t,n,o,c,a,s,u,i,f,p,y,l;return{setters:[function(r){e=r.inheritsLoose,t=r.asyncToGenerator,n=r.regeneratorRuntime,o=r.createForOfIteratorHelperLoose},function(r){c=r.cclegacy,a=r._decorator,s=r.Vec3},function(r){u=r.ComBase},function(r){i=r.SysMgr},function(r){f=r.GameSys},function(r){p=r.BlockObjMgr},function(r){y=r.BuffCom},function(r){l=r.BoomFactory1}],execute:function(){var d;c._RF.push({},"0d442sUrXRBbrU2ot9DhlZO","OrderFactory2",void 0);var m=a.ccclass;a.property,r("OrderFactory2",m("OrderFactory2")(d=function(r){function c(){return r.apply(this,arguments)||this}return e(c,r),c.createOrder=function(){var r=t(n().mark((function r(e){var t,c,a,u,d,m;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t=60,c=i.getSys(f).getCom(p),l.create(e,t),a=c.getEnemyArr(e,t),u=o(a);case 5:if((d=u()).done){r.next=12;break}if(m=d.value,!(s.distance(m.position,e)<t)){r.next=10;break}return r.next=10,m.getComponent(y).addBuff(y.BUFF_STOP);case 10:r.next=5;break;case 12:return r.abrupt("return",null);case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),c}(u))||d);c._RF.pop()}}}));

System.register("chunks:///_virtual/OrderMgrCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./AudioSys.ts","./GameSys.ts","./OrderFactory0.ts","./OrderFactory1.ts","./OrderFactory2.ts","./GameObjMgrCom.ts"],(function(r){"use strict";var t,e,n,o,s,c,u,a,i,d,p,y,f,h;return{setters:[function(r){t=r.inheritsLoose,e=r.asyncToGenerator,n=r.regeneratorRuntime},function(r){o=r.cclegacy,s=r._decorator,c=r.Vec3},function(r){u=r.ComBase},function(r){a=r.SysMgr},function(r){i=r.AudioSys},function(r){d=r.GameSys},function(r){p=r.OrderFactory0},function(r){y=r.OrderFactory1},function(r){f=r.OrderFactory2},function(r){h=r.GameObjMgrCom}],execute:function(){var l,m;o._RF.push({},"7fb0dd8OGJOFolrqyNhNCcI","OrderMgrCom",void 0);var v=s.ccclass;s.property,r("OrderMgrCom",v("OrderMgrCom")(((m=function(r){function o(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=r.call.apply(r,[this].concat(n))||this).objMgr=void 0,t.audioSys=void 0,t}t(o,r);var s=o.prototype;return s.init=function(){this.audioSys=a.getSys(i),this.objMgr=a.getSys(d).getCom(h)},s.runOrder=function(){var r=e(n().mark((function r(t,e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.orderFunc.get(t).bind(this)({orderType:t,startPos:e});case 2:case"end":return r.stop()}}),r,this)})));return function(t,e){return r.apply(this,arguments)}}(),s.orderFunc0=function(){var r=e(n().mark((function r(t){var e,o;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.audioSys.playAudio("audios/order.mp3"),e=t.startPos,r.next=4,p.createOrder(new c(e.x,e.y,0));case 4:o=r.sent,this.objMgr.addOrder(o);case 6:case"end":return r.stop()}}),r,this)})));return function(t){return r.apply(this,arguments)}}(),s.orderFunc1=function(){var r=e(n().mark((function r(t){var e;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.audioSys.playAudio("audios/order.mp3"),e=t.startPos,r.next=4,y.createOrder(new c(e.x,e.y,0));case 4:case"end":return r.stop()}}),r,this)})));return function(t){return r.apply(this,arguments)}}(),s.orderFunc2=function(){var r=e(n().mark((function r(t){var e;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.audioSys.playAudio("audios/elec.wav"),e=t.startPos,r.next=4,f.createOrder(new c(e.x,e.y,0));case 4:case"end":return r.stop()}}),r,this)})));return function(t){return r.apply(this,arguments)}}(),o}(u)).orderFunc=new Map([[0,m.prototype.orderFunc0],[1,m.prototype.orderFunc1],[2,m.prototype.orderFunc2]]),l=m))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/PoolSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesObjBase.ts","./SysBase.ts","./DestroyCB.ts","./ResourceLoader.ts"],(function(e){"use strict";var o,t,r,s,n,a,i,c,u,l,d;return{setters:[function(e){o=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.Node},function(e){c=e.ResourcesObjBase},function(e){u=e.SysBase},function(e){l=e.DestroyCB},function(e){d=e.ResourceLoader}],execute:function(){var h,p;n._RF.push({},"165ae4y7dZM9JaLmmy+47tb","PoolSys",void 0);var b=a.ccclass;a.property,e("PoolSys",b("PoolSys")(((p=function(e){function n(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(o=e.call.apply(e,[this].concat(r))||this).objPool=new Map,o.poolNode=void 0,o}o(n,e);var a=n.prototype;return a.onLoad=function(){this.poolNode=new i,this.poolNode.name="poolNode",this.poolNode.active=!1},a.createNode=function(){var e=t(r().mark((function e(o){var t,a,i,u,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.objPool.has(o)||this.objPool.set(o,new Set),!((t=this.objPool.get(o)).size>0)){e.next=11;break}a=s(t);case 4:if((i=a()).done){e.next=11;break}return(u=i.value).active=!0,t.delete(u),e.abrupt("return",u);case 9:e.next=4;break;case 11:return e.next=13,d.insNode(o);case 13:return(u=e.sent)[n.objPath]=o,h=u.getComponent(c),l.addCb(h,this,"_destroyNode"),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,this)})));return function(o){return e.apply(this,arguments)}}(),a.destroyNode=function(e){e.active=!1,e.parent=this.poolNode;var o=e[n.objPath];this.objPool.has(o)||this.objPool.set(o,new Set),this.objPool.get(o).add(e)},a._destroyNode=function(e){var o=e.node,t=o[n.objPath];this.objPool.has(t)&&this.objPool.get(t).delete(o)},n}(u)).objPath="_obj_path",h=p))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/PreLoad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BubbleTipDlgCom.ts","./PoolSys.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts"],(function(e){"use strict";var r,n,t,o,a,s,O,c,_,u;return{setters:[function(e){r=e.asyncToGenerator,n=e.regeneratorRuntime,t=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,a=e._decorator},function(e){s=e.BubbleTipDlgCom},function(e){O=e.PoolSys},function(e){c=e.ResourceLoader},function(e){_=e.ResourcesPathDefine},function(e){u=e.SysMgr}],execute:function(){var T,R;o._RF.push({},"a5c4b63k+5Mm7FS+11Z2g9v","PreLoad",void 0);var i=a.ccclass;a.property,e("PreLoad",i("PreLoad")(((R=function(){function e(){}return e.preloadRes=function(){var o=r(n().mark((function r(){var o,a,s,O,u,T;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=t(e.resArr);case 1:if((a=o()).done){r.next=7;break}return s=a.value,r.next=5,c.loadAsset(s);case 5:r.next=1;break;case 7:O=t(_.SOUND_MAP.values());case 8:if((u=O()).done){r.next=14;break}return T=u.value,r.next=12,c.loadAsset(T[0]);case 12:r.next=8;break;case 14:case"end":return r.stop()}}),r)})));return function(){return o.apply(this,arguments)}}(),e.preloadNode=function(){var o=r(n().mark((function r(){var o,a,s,c,_,T,R,i,f,P;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=u.getSys(O),a=new Array,s=t(e.nodeMap.keys());case 3:if((c=s()).done){r.next=17;break}_=c.value,T=e.nodeMap.get(_),R=0;case 7:if(!(R<T)){r.next=15;break}return r.next=10,o.createNode(_);case 10:i=r.sent,a.push(i);case 12:R++,r.next=7;break;case 15:r.next=3;break;case 17:f=0,P=a;case 18:if(!(f<P.length)){r.next=25;break}return i=P[f],r.next=22,o.destroyNode(i);case 22:f++,r.next=18;break;case 25:case"end":return r.stop()}}),r)})));return function(){return o.apply(this,arguments)}}(),e}()).resArr=[_.UI_ROOT_PATH+"/"+s.UI_PATH,_.ENEMY_ROOT_PATH+"/enemy0",_.ENEMY_ROOT_PATH+"/enemy1",_.ENEMY_ROOT_PATH+"/enemy2",_.ENEMY_ROOT_PATH+"/enemy3",_.ENEMY_ROOT_PATH+"/enemy4",_.ENEMY_ROOT_PATH+"/enemy5",_.ENEMY_ROOT_PATH+"/enemy6",_.ROLE_ROOT_PATH+"/role0",_.ROLE_ROOT_PATH+"/role1",_.ROLE_ROOT_PATH+"/role2",_.ROLE_ROOT_PATH+"/role3",_.ROLE_ROOT_PATH+"/role4",_.FIRE_ROOT_PATH+"/fire0",_.FIRE_ROOT_PATH+"/fire1",_.FIRE_ROOT_PATH+"/fire2",_.BOOM_ROOT_PATH+"/boom0",_.BOOM_ROOT_PATH+"/boom1",_.ORDER_ROOT_PATH+"/order0","audios/touch.wav"],R.nodeMap=new Map([[_.FIRE_ROOT_PATH+"/fire0",30],[_.FIRE_ROOT_PATH+"/fire1",15],[_.FIRE_ROOT_PATH+"/fire2",10],[_.FIRE_ROOT_PATH+"/fire3",10],[_.FIRE_ROOT_PATH+"/fire4",10],[_.FIRE_ROOT_PATH+"/fire5",10]]),T=R))||T);o._RF.pop()}}}));

System.register("chunks:///_virtual/PrintTool.ts",["cc","./ConsoleTool.ts"],(function(o){"use strict";var n,t,c;return{setters:[function(o){n=o.cclegacy,t=o._decorator},function(o){c=o.ConsoleTool}],execute:function(){var r,l;n._RF.push({},"454e3odF7lAJ5jr2cmX7a22","PrintTool",void 0);var e=t.ccclass;t.property,o("PrintTool",e("PrintTool")(((l=function(){function o(){}return o.init=function(){o.logFunc=console.log,console.log=o.log},o.log=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];o.logFunc.apply(o,t),c.sendMsg(t.toString())},o}()).logFunc=void 0,r=l))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PropBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DestroyCB.ts"],(function(r){"use strict";var t,e,n,a,o,s;return{setters:[function(r){t=r.inheritsLoose,e=r.createForOfIteratorHelperLoose},function(r){n=r.cclegacy,a=r._decorator,o=r.Component},function(r){s=r.DestroyCB}],execute:function(){var c,u;n._RF.push({},"ebb9a+807NH/7mKaG24+TbN","PropBase",void 0);var p=a.ccclass;a.property,r("PropBase",p("PropBase")(((u=function(r){function n(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(t=r.call.apply(r,[this].concat(n))||this).funcMap=new Map,t}t(n,r);var a=n.prototype;return a.watch=function(r,t,e){this.funcMap.has(r)||this.funcMap.set(r,new Map);var a=this.funcMap.get(r);a.has(t)||a.set(t,new Array),a.get(t).push(e),null==t[n.propName]&&(t[n.propName]=new Set),t[n.propName].add(this),s.addCb(t,this,"onObjDestroy")},a.onObjDestroy=function(r){for(var t,a=r[n.propName],o=e(a);!(t=o()).done;){t.value.removeWatch(r)}},a.setData=function(r){if(null!=r){var t=new Array;for(var e in r){var n=r[e];this[e]!=n&&(this[e]=n,t.push(e))}for(var a=0,o=t;a<o.length;a++){var s=o[a];this.runCb(s)}}},a.removeWatch=function(r){this.funcMap.forEach((function(t,e){null!=t&&t.has(r)&&t.delete(r)}))},a.runCb=function(r){var t=this;this.funcMap.has(r)&&this.funcMap.get(r).forEach((function(r,n){if(null!=r)for(var a,o=e(r);!(a=o()).done;){n[a.value](t)}}))},n}(o)).propName="_myProp",c=u))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/RandomUtils.ts",["cc"],(function(n){"use strict";var r,t;return{setters:[function(n){r=n.cclegacy,t=n._decorator}],execute:function(){var o;r._RF.push({},"5067cxmhG5Dx5l+MDSClIvf","RandomUtils",void 0);var a=t.ccclass;t.property,n("RandomUtils",a("RandomUtils")(o=function(){function n(){}return n.randomNum=function(n,r){return Math.floor(Math.random()*(r-n)+n)},n.randomBoundary=function(r,t,o,a){return n.randomBool()?n.randomNum(r,t):n.randomNum(o,a)},n.randomString=function(n){return Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g,"").substr(0,n)},n.randomBool=function(){return 1==n.randomNum(0,2)},n}())||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/RankDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.DlgBase}],execute:function(){var r,l;e._RF.push({},"759b8VvoFtPcraDWJwy6ZYq","RankDlg",void 0);var c=i.ccclass;i.property,t("RankDlg",c("RankDlg")(((l=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_ScrollView=void 0,n.m_ExitBtn=void 0,n}return n(e,t),e.prototype.initDlg=function(t){this.m_ScrollView=this.node.getChildByName("m_ScrollView"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn")},e}(o)).UI_PATH="RankDlg",r=l))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/RankDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./GameDataNet.ts","./RankDlg.ts"],(function(e){"use strict";var t,n,r,a,i,o,s,c,l,u,p,g,m,f,h,d;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator,o=e.ScrollView,s=e.Label,c=e.assetManager,l=e.SpriteFrame,u=e.Texture2D,p=e.Sprite},function(e){g=e.ClickFunctor},function(e){m=e.ResourceLoader},function(e){f=e.ResourcesPathDefine},function(e){h=e.GameDataNet},function(e){d=e.RankDlg}],execute:function(){var v;a._RF.push({},"b734cRrv6VBbKWXTXvZ/sIt","RankDlgCom",void 0);var k=i.ccclass;i.property,e("RankDlgCom",k("RankDlgCom")(v=function(e){function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).data=void 0,t.heroProp=void 0,t.dataList=void 0,t.rankTexture=null,t.rankSpriteFrame=void 0,t}t(a,e);var i=a.prototype;return i.initDlg=function(){var t=n(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.initDlg.call(this,n),this.m_ExitBtn.on("click",g.getFunc(this,"onExitClick"),this),t.next=4,this.refreshDlg();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.onExitClick=function(){this.closeDlg(a)},i.refreshDlg=function(){var e=n(r().mark((function e(){var t,n,a,i,g;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getLevelListData();case 2:if(t=e.sent,this.dataList=t,(n=this.m_ScrollView.getComponent(o).content).destroyAllChildren(),null==t){e.next=14;break}a=r().mark((function e(){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=t[i],e.next=3,m.insNode(f.UI_ITEM_ROOT_PATH+"/UserRankItem");case 3:(a=e.sent).parent=n,a.getChildByName("m_UserNameLabel").getComponent(s).string=g[4],a.getChildByName("m_LevelLabel").getComponent(s).string=g[5],a.getChildByName("m_RankLabel").getComponent(s).string=(i+1).toString(),null!=g[8]&&""!=g[8]&&c.loadRemote(g[8],{ext:".png"},(function(e,t){var n=new l,r=new u;r.image=t,n.texture=r,a.getChildByName("m_IconItem").getChildByName("m_IconSprite").getComponent(p).spriteFrame=n}));case 9:case"end":return e.stop()}}),e)})),i=0;case 9:if(!(i<t.length)){e.next=14;break}return e.delegateYield(a(),"t0",11);case 11:i++,e.next=9;break;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a}(d))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesObjBase.ts","./DestroyCB.ts"],(function(e){"use strict";var t,s,r,a,n,o,u,c;return{setters:[function(e){t=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,n=e.loader,o=e.instantiate},function(e){u=e.ResourcesObjBase},function(e){c=e.DestroyCB}],execute:function(){var p,i;r._RF.push({},"e7c37+kiUBHgp+Bc9/Y2SWi","ResourceLoader",void 0);var f=a.ccclass;a.property,e("ResourceLoader",f("ResourceLoader")(((i=function(){function e(){}return e.loadAsset=function(){var r=t(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,s){var a=e.pathAssetMap.get(r);if(null!=a)return e.assetRefMap.set(r,e.assetRefMap.get(r)+1),t(a);n.loadRes(r,(function(s,a){return null==a||(a.addRef(),e.pathAssetMap.set(r,a),e.assetRefMap.set(r,1)),t(a)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}(),e.releaseAsses=function(t){if(e.assetRefMap.has(t)){var s=e.assetRefMap.get(t);if(s-=1,e.assetRefMap.set(t,s),0==s){var r=e.pathAssetMap.get(t);r.decRef(),e.pathAssetMap.delete(t),e.assetRefMap.delete(t),n.release(r)}}},e.insNode=function(){var r=t(s().mark((function t(r){var a,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAsset(r);case 2:return a=t.sent,t.next=5,new Promise((function(t,s){var p=o(a);e.objPathMap.set(p,r);var i=p.addComponent(u);return c.addCb(i,n,"_destroyNode"),t(p)}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}(),e._destroyNode=function(t){var s=t.node;if(e.objPathMap.has(s)){var r=e.objPathMap.get(s);e.objPathMap.delete(s),e.releaseAsses(r)}},e}()).pathAssetMap=new Map,i.objPathMap=new Map,i.assetRefMap=new Map,p=i))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesObjBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(e){"use strict";var s,r,t,c;return{setters:[function(e){s=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator},function(e){c=e.ComBase}],execute:function(){var o;r._RF.push({},"840f9AWNDlCiKGWXbp5peX0","ResourcesObjBase",void 0);var u=t.ccclass;t.property,e("ResourcesObjBase",u("ResourcesObjBase")(o=function(e){function r(){return e.apply(this,arguments)||this}return s(r,e),r}(c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesPathDefine.ts",["cc"],(function(a){"use strict";var e,t;return{setters:[function(a){e=a.cclegacy,t=a._decorator}],execute:function(){var s,c;e._RF.push({},"822c3O7TYRCXbpjuNSwbwLs","ResourcesPathDefine",void 0);var r=t.ccclass;t.property,a("ResourcesPathDefine",r("ResourcesPathDefine")(((c=function(){}).UI_ROOT_PATH="prefabs/ui",c.UI_ITEM_ROOT_PATH="prefabs/ui/item",c.ROLE_ROOT_PATH="prefabs/role",c.ENEMY_ROOT_PATH="prefabs/enemy",c.FIRE_ROOT_PATH="prefabs/fire",c.BOOM_ROOT_PATH="prefabs/boom",c.GAME_DATA_ROOT_PATH="gameData",c.ORDER_ROOT_PATH="prefabs/order",c.BUFF_ROOT_PATH="prefabs/buff",c.SOUND_MAP=new Map([[0,["audios/attack0.wav",.4]],[1,["audios/attack1.wav",.4]],[2,["audios/attack2.wav",.2]],[3,["audios/attack3.mp3",.7]],[4,["audios/attack4.wav",.6]],[5,["audios/attack5.wav",.15]],[6,["audios/attack6.wav",.1]],[7,["audios/attack7.wav",.2]],[8,["audios/attack8.wav",1.1]]]),s=c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ResultDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var e,i,s,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.DlgBase}],execute:function(){var l,a;i._RF.push({},"3be8cd3MKtOipPk975aMuGm","ResultDlg",void 0);var o=s.ccclass;s.property,t("ResultDlg",o("ResultDlg")(((a=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).m_ExitBtn=void 0,e.m_ResultLabel=void 0,e.m_TimeLabel=void 0,e.m_RestartBtn=void 0,e.m_ExitGameBtn=void 0,e}return e(i,t),i.prototype.initDlg=function(t){this.m_ExitBtn=this.node.getChildByName("m_ExitBtn"),this.m_ResultLabel=this.node.getChildByName("m_ResultLabel"),this.m_TimeLabel=this.node.getChildByName("m_TimeLabel"),this.m_RestartBtn=this.node.getChildByName("m_RestartBtn"),this.m_ExitGameBtn=this.node.getChildByName("m_ExitGameBtn")},i}(n)).UI_PATH="ResultDlg",l=a))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/ResultDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./SysMgr.ts","./GameSys.ts","./ResultDlg.ts"],(function(t){"use strict";var e,n,i,s,r,o,c,a,u,l;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t._decorator,o=t.Label},function(t){c=t.ClickFunctor},function(t){a=t.SysMgr},function(t){u=t.GameSys},function(t){l=t.ResultDlg}],execute:function(){var g;s._RF.push({},"051dbHH1lFHPKGsuuxhjmj6","ResultDlgCom",void 0);var m=r.ccclass;r.property,t("ResultDlgCom",m("ResultDlgCom")(g=function(t){function s(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).data=void 0,e.gameProp=void 0,e}e(s,t);var r=s.prototype;return r.initDlg=function(e){t.prototype.initDlg.call(this,e),this.gameProp=a.getSys(u).gameProp,this.m_ExitBtn.on("click",c.getFunc(this,"onExitClick"),this),this.m_RestartBtn.on("click",c.getFunc(this,"onRestartClick"),this),this.m_ExitGameBtn.on("click",c.getFunc(this,"onExitGameClick"),this),this.gameProp.isSucc?this.m_ResultLabel.getComponent(o).string="挑战胜利":this.m_ResultLabel.getComponent(o).string="挑战失败";var n=this.gameProp.gameTime,i=parseInt((n/60).toString()),s=i<10?"0"+i:i+"",r=parseInt((n%60).toString()),l=r<10?"0"+r:r+"";this.m_TimeLabel.getComponent(o).string="剩余时间 "+s+":"+l},r.onExitClick=function(){this.closeDlg(s)},r.onExitGameClick=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.ins.exitGame();case 2:this.closeDlg(s);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onRestartClick=function(){var t=n(i().mark((function t(){var e,n=this;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.gameProp.startData,t.next=3,a.ins.exitGame();case 3:setTimeout((function(){a.ins.enterGame(e),n.closeDlg(s)}),.1);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s}(l))||g);s._RF.pop()}}}));

System.register("chunks:///_virtual/RoleData.ts",["cc"],(function(e){"use strict";var a,t;return{setters:[function(e){a=e.cclegacy,t=e._decorator}],execute:function(){var m,n;a._RF.push({},"7acbeZ2FW1KuLvJ0oWJ+gp+","RoleData",void 0);var s=t.ccclass;t.property,e("RoleData",s("RoleData")(((n=function(){}).data=new Map([[0,{num:0,name:"士兵",shortName:"兵",desc:"",runSpeed:15,findEnemyDis:200,attackDis:60,attackRate:1.5,fireSpeed:200,maxHp:100,damage:25,runCom:0,seekCom:0,attackCom:0,soundType:0,fireType:0}],[1,{num:1,name:"勇士",shortName:"勇",desc:"",runSpeed:15,findEnemyDis:200,attackDis:40,attackRate:1.5,fireSpeed:200,maxHp:1600,damage:5,runCom:0,seekCom:0,attackCom:0,soundType:0,fireType:0}],[2,{num:2,name:"炮手",shortName:"电磁炮",desc:"",runSpeed:10,findEnemyDis:200,attackDis:120,attackRate:3,fireSpeed:250,maxHp:10,damage:50,runCom:0,seekCom:0,attackCom:0,soundType:2,fireType:4}],[3,{num:3,name:"神",shortName:"神",desc:"",runSpeed:10,findEnemyDis:200,attackDis:120,attackRate:7,fireSpeed:550,maxHp:1400,damage:45,runCom:0,seekCom:0,attackCom:0,soundType:1,fireType:5}],[4,{num:4,name:"医生",shortName:"医生",desc:"",runSpeed:30,findEnemyDis:0,attackDis:100,attackRate:.5,fireSpeed:250,maxHp:120,damage:20,runCom:0,seekCom:2,attackCom:4,soundType:3,fireType:2}]]),m=n))||m);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./RoleData.ts","./GameSys.ts","./GameObjMgrCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,r,n,a,o,s,c,i,u,f,p,m,y,d,R;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){f=e.SysMgr},function(e){p=e.RoleData},function(e){m=e.GameSys},function(e){y=e.GameObjMgrCom},function(e){d=e.CharProp},function(e){R=e.FactoryCharInit}],execute:function(){var l;a._RF.push({},"3b1abiyiVhIdJP9/pCrfv24","RoleFactory0",void 0);var h=o.ccclass;o.property,e("RoleFactory0",h("RoleFactory0")(l=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createRole=function(){var e=r(n().mark((function e(t){var r,a,o,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,e.next=3,i.insNode(u.ROLE_ROOT_PATH+"/role"+r);case 3:return(a=e.sent).parent=f.getSys(m).getCom(y).getParentNode(),a.setPosition(t),o=p.data.get(r),(s=new d).setData({state:"",runSpeed:o.runSpeed,findEnemyDis:o.findEnemyDis,attackDis:o.attackDis,attackRate:o.attackRate,fireSpeed:o.fireSpeed,hp:o.maxHp,maxHp:o.maxHp,damage:o.damage,soundType:o.soundType,fireType:o.fireType,charType:0}),l={runCom:o.runCom,seekCom:o.seekCom,attackCom:o.attackCom},R.initChar(s,a,l,c.GAMEOBJ_TYPE_ROLE),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}(s))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./RoleData.ts","./GameSys.ts","./GameObjMgrCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,r,a,o,s,c,i,u,p,f,m,y,d,R;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){p=e.SysMgr},function(e){f=e.RoleData},function(e){m=e.GameSys},function(e){y=e.GameObjMgrCom},function(e){d=e.CharProp},function(e){R=e.FactoryCharInit}],execute:function(){var l;a._RF.push({},"3d9d6deGY5EwZRtktkkGh7p","RoleFactory1",void 0);var h=o.ccclass;o.property,e("RoleFactory1",h("RoleFactory1")(l=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createRole=function(){var e=n(r().mark((function e(t){var n,a,o,s,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=1,e.next=3,i.insNode(u.ROLE_ROOT_PATH+"/role"+n);case 3:return(a=e.sent).parent=p.getSys(m).getCom(y).getParentNode(),a.setPosition(t),o=f.data.get(n),(s=new d).setData({state:"",runSpeed:o.runSpeed,findEnemyDis:o.findEnemyDis,attackDis:o.attackDis,attackRate:o.attackRate,fireSpeed:o.fireSpeed,hp:o.maxHp,maxHp:o.maxHp,damage:o.damage,soundType:o.soundType,fireType:o.fireType,charType:0}),l={runCom:o.runCom,seekCom:o.seekCom,attackCom:o.attackCom},R.initChar(s,a,l,c.GAMEOBJ_TYPE_ROLE),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}(s))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./RoleData.ts","./GameSys.ts","./GameObjMgrCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,r,n,a,o,s,c,i,u,f,p,m,y,R,d;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){f=e.SysMgr},function(e){p=e.RoleData},function(e){m=e.GameSys},function(e){y=e.GameObjMgrCom},function(e){R=e.CharProp},function(e){d=e.FactoryCharInit}],execute:function(){var l;a._RF.push({},"073abEmrvxJcJxNURjDSeCc","RoleFactory2",void 0);var C=o.ccclass;o.property,e("RoleFactory2",C("RoleFactory2")(l=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createRole=function(){var e=r(n().mark((function e(t){var r,a,o,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=2,e.next=3,i.insNode(u.ROLE_ROOT_PATH+"/role"+r);case 3:return(a=e.sent).parent=f.getSys(m).getCom(y).getParentNode(),a.setPosition(t),o=p.data.get(r),(s=new R).setData({state:"",runSpeed:o.runSpeed,findEnemyDis:o.findEnemyDis,attackDis:o.attackDis,attackRate:o.attackRate,fireSpeed:o.fireSpeed,hp:o.maxHp,maxHp:o.maxHp,damage:o.damage,soundType:o.soundType,fireType:o.fireType,charType:0}),l={runCom:o.runCom,seekCom:o.seekCom,attackCom:o.attackCom},d.initChar(s,a,l,c.GAMEOBJ_TYPE_ROLE),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}(s))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./RoleData.ts","./GameSys.ts","./GameObjMgrCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,n,r,a,o,s,c,i,u,f,p,m,y,d,R;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){f=e.SysMgr},function(e){p=e.RoleData},function(e){m=e.GameSys},function(e){y=e.GameObjMgrCom},function(e){d=e.CharProp},function(e){R=e.FactoryCharInit}],execute:function(){var l;a._RF.push({},"2ff45mHIq1H26FZcdtS1hYY","RoleFactory3",void 0);var h=o.ccclass;o.property,e("RoleFactory3",h("RoleFactory3")(l=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createRole=function(){var e=n(r().mark((function e(t){var n,a,o,s,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=3,e.next=3,i.insNode(u.ROLE_ROOT_PATH+"/role"+n);case 3:return(a=e.sent).parent=f.getSys(m).getCom(y).getParentNode(),a.setPosition(t),o=p.data.get(n),(s=new d).setData({state:"",runSpeed:o.runSpeed,findEnemyDis:o.findEnemyDis,attackDis:o.attackDis,attackRate:o.attackRate,fireSpeed:o.fireSpeed,hp:o.maxHp,maxHp:o.maxHp,damage:o.damage,soundType:o.soundType,fireType:o.fireType,charType:0}),l={runCom:o.runCom,seekCom:o.seekCom,attackCom:o.attackCom},R.initChar(s,a,l,c.GAMEOBJ_TYPE_ROLE),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}(s))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/RoleFactory4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./RoleData.ts","./GameSys.ts","./GameObjMgrCom.ts","./CharProp.ts","./FactoryCharInit.ts"],(function(e){"use strict";var t,r,n,a,o,s,c,i,u,f,p,m,y,d,R;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator},function(e){s=e.ComBase},function(e){c=e.Defines},function(e){i=e.ResourceLoader},function(e){u=e.ResourcesPathDefine},function(e){f=e.SysMgr},function(e){p=e.RoleData},function(e){m=e.GameSys},function(e){y=e.GameObjMgrCom},function(e){d=e.CharProp},function(e){R=e.FactoryCharInit}],execute:function(){var l;a._RF.push({},"363980NHc5HhIc7rxa9oHoj","RoleFactory4",void 0);var h=o.ccclass;o.property,e("RoleFactory4",h("RoleFactory4")(l=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.createRole=function(){var e=r(n().mark((function e(t){var r,a,o,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=4,e.next=3,i.insNode(u.ROLE_ROOT_PATH+"/role"+r);case 3:return(a=e.sent).parent=f.getSys(m).getCom(y).getParentNode(),a.setPosition(t),o=p.data.get(r),(s=new d).setData({state:"",runSpeed:o.runSpeed,findEnemyDis:o.findEnemyDis,attackDis:o.attackDis,attackRate:o.attackRate,fireSpeed:o.fireSpeed,hp:o.maxHp,maxHp:o.maxHp,damage:o.damage,soundType:o.soundType,fireType:o.fireType,charType:0}),l={runCom:o.runCom,seekCom:o.seekCom,attackCom:o.attackCom},R.initChar(s,a,l,c.GAMEOBJ_TYPE_ROLE),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}(s))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/RunCom0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts","./GameRandomUtils.ts","./BlockObjMgr.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var o,s,e,i,r,n,a,c,u,l,p;return{setters:[function(t){o=t.inheritsLoose,s=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy,i=t._decorator,r=t.Vec3},function(t){n=t.ComBase},function(t){a=t.SysMgr},function(t){c=t.GameSys},function(t){u=t.GameRandomUtils},function(t){l=t.BlockObjMgr},function(t){p=t.GameObjMgrCom}],execute:function(){var h;e._RF.push({},"11695+6FVhPGJa51/egC/05","RunCom0",void 0);var m=i.ccclass;i.property,t("RunCom0",m("RunCom0")(h=function(t){function e(){for(var o,s=arguments.length,e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];return(o=t.call.apply(t,[this].concat(e))||this).runSpeed=5,o.gameObjMgr=void 0,o.objMgr=void 0,o.charProp=void 0,o.checkCharDis=20,o.pos=new r,o}o(e,t);var i=e.prototype;return i.init=function(t){this.gameObjMgr=a.getSys(c).getCom(p),this.objMgr=a.getSys(c).getCom(l),this.runSpeed=t.runSpeed,this.pos=this.node.position,this.charProp=t},i.runToTarget=function(t,o){this.charProp.setData({state:"run"});var e=new r(o.position);e.subtract(this.pos).normalize().multiplyScalar(t*this.runSpeed),this.pos.add(e);var i=this.objMgr.getBlockRoleSet(this.pos),n=null;if(null!=i)for(var a,c=s(i);!(a=c()).done;){var l=a.value;if(r.distance(l.position,this.pos)<this.checkCharDis){n=l;break}}if(null==n||u.gameRandomBool())this.node.setPosition(this.pos);else{var p=new r(n.position);p.subtract(this.pos),p.normalize().multiplyScalar(t*this.runSpeed),this.pos.subtract(p),this.node.setPosition(this.pos)}},e}(n))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/RunCom1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(t){"use strict";var n,o,r,u;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){u=t.ComBase}],execute:function(){var e;o._RF.push({},"a7bf3y4vfJFYYNaUudVJ5al","RunCom1",void 0);var c=r.ccclass;r.property,t("RunCom1",c("RunCom1")(e=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var r=o.prototype;return r.init=function(t){},r.runToTarget=function(t,n){},o}(u))||e);o._RF.pop()}}}));

System.register("chunks:///_virtual/RunCom2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts"],(function(t){"use strict";var s,o,e,n,r,i,a;return{setters:[function(t){s=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,n=t.Vec3},function(t){r=t.ComBase},function(t){i=t.SysMgr},function(t){a=t.GameSys}],execute:function(){var u;o._RF.push({},"78e00F9adtJf7jXlvBVe1tt","RunCom2",void 0);var c=e.ccclass;e.property,t("RunCom2",c("RunCom2")(u=function(t){function o(){for(var s,o=arguments.length,e=new Array(o),r=0;r<o;r++)e[r]=arguments[r];return(s=t.call.apply(t,[this].concat(e))||this).runSpeed=5,s.gameSys=void 0,s.charProp=void 0,s.pos=new n,s}s(o,t);var e=o.prototype;return e.init=function(t){this.gameSys=i.getSys(a),this.runSpeed=t.runSpeed,this.pos=this.node.position,this.charProp=t},e.runToTarget=function(t,s){this.charProp.setData({state:"run"});var o=new n(s.position);o.subtract(this.pos).normalize().multiplyScalar(t*this.runSpeed),this.pos.add(o),this.node.setPosition(this.pos)},o}(r))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/SeekCom0.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./SysMgr.ts","./GameSys.ts","./BlockObjMgr.ts","./GameObjMgrCom.ts"],(function(t){"use strict";var e,i,s,r,n,o,a,g,l,h,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,r=t._decorator,n=t.Vec3},function(t){o=t.ComBase},function(t){a=t.Defines},function(t){g=t.SysMgr},function(t){l=t.GameSys},function(t){h=t.BlockObjMgr},function(t){c=t.GameObjMgrCom}],execute:function(){var u;s._RF.push({},"08a979czfFNOZosnaX9frnT","SeekCom0",void 0);var f=r.ccclass;r.property,t("SeekCom0",f("SeekCom0")(u=function(t){function s(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).target=null,e.findEnemyDis=5,e.charType=0,e.objMgr=void 0,e.gameObjMgr=void 0,e.lastTargetPos=null,e}e(s,t);var r=s.prototype;return r.init=function(t){this.findEnemyDis=t.findEnemyDis,this.charType=t.charType,this.gameObjMgr=g.getSys(l).getCom(c),this.objMgr=g.getSys(l).getCom(h)},r.getSeekEnemy=function(){var t;return null!=(t=this.getNowTarget())||null!=(t=this.objMgr.getBlockAIData(this.node.position,this.charType,this.findEnemyDis))&&(this.target=t,null!=(t=this.getNowTarget()))?t:(null==t&&null!=this.lastTargetPos&&(this.initNearestTargetByLastPos(),t=this.getNowTarget()),null==t&&(this.initNearestTarget(0,!0),t=this.getNowTarget()),null==t&&(this.initNearestTarget(this.findEnemyDis),t=this.getNowTarget()),null!=t?(this.lastTargetPos=t.position,this.objMgr.setBlockAIData(this.node.position,this.charType,this.findEnemyDis,t),t):this.charType==a.CHAR_ENEEMY?null:t=this.gameObjMgr.getMasterNode())},r.initNearestTargetByLastPos=function(){var t=this.node.position,e=null,s=99999;if(null!=(e=this.charType==a.CHAR_ENEEMY?this.objMgr.getBlockRoleSet(this.lastTargetPos):this.objMgr.getBlockEnemySet(this.lastTargetPos)))for(var r,o=i(e);!(r=o()).done;){var g=r.value,l=n.distance(g.position,t);this.findEnemyDis<l||l<s&&(s=l,this.target=g)}},r.initNearestTarget=function(t,e){void 0===e&&(e=!1);var s=this.node.position,r=null;r=this.charType==a.CHAR_ENEEMY?this.objMgr.getRoleArr(s,t):this.objMgr.getEnemyArr(s,t);for(var o,g=99999,l=i(r);!(o=l()).done;){var h=o.value,c=n.distance(h.position,s);if(!(this.findEnemyDis<c)&&(c<g&&(g=c,this.target=h,e)))break}},r.resetTarget=function(){this.target=null},r.getNowTarget=function(){return null==this.target?null:(this.charType!=a.CHAR_ROLE||this.gameObjMgr.getAllEnemySet().has(this.target))&&(this.charType!=a.CHAR_ENEEMY||this.gameObjMgr.getAllRoleSet().has(this.target))?this.target:null},s}(o))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/SeekCom1.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(e){"use strict";var t,n,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},function(e){r=e.ComBase}],execute:function(){var c;n._RF.push({},"95addcDBChKnIpv2b2uteLQ","SeekCom1",void 0);var u=o.ccclass;o.property,e("SeekCom1",u("SeekCom1")(c=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.init=function(e){},o.resetTarget=function(){},o.getSeekEnemy=function(){return null},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SeekCom2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Defines.ts","./SysMgr.ts","./GameSys.ts","./GameObjMgrCom.ts","./AICom.ts"],(function(t){"use strict";var e,r,o,n,s,a,i,c,l,u;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,n=t._decorator},function(t){s=t.ComBase},function(t){a=t.Defines},function(t){i=t.SysMgr},function(t){c=t.GameSys},function(t){l=t.GameObjMgrCom},function(t){u=t.AICom}],execute:function(){var g;o._RF.push({},"48e5255zaVLm6iGp2A6nL2+","SeekCom2",void 0);var h=n.ccclass;n.property,t("SeekCom2",h("SeekCom2")(g=function(t){function o(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).target=null,e.charType=0,e.objMgr=void 0,e}e(o,t);var n=o.prototype;return n.init=function(t){this.charType=t.charType,this.objMgr=i.getSys(c).getCom(l)},n.getSeekEnemy=function(){var t=this.getNowTarget();if(null!=t)return t;var e=this.objMgr.getAllRoleSet();this.charType==a.CHAR_ENEEMY&&(e=this.objMgr.getAllEnemySet());for(var o,n=1,s=r(e);!(o=s()).done;){var i=o.value,c=i.getComponent(u).charProp.hp,l=i.getComponent(u).charProp.maxHp;if(!(c>=l)){var g=c/l;n>g&&(n=g,this.target=i)}}return null!=(t=this.getNowTarget())?t:null},n.resetTarget=function(){this.target=null},n.getNowTarget=function(){return null==this.target?null:(this.charType!=a.CHAR_ROLE||this.objMgr.getAllRoleSet().has(this.target))&&(this.charType!=a.CHAR_ENEEMY||this.objMgr.getAllEnemySet().has(this.target))?this.target:null},o}(s))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./ResourceLoader.ts"],(function(t){"use strict";var e,r,n,o,s,i,a,c;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,i=t.Sprite},function(t){a=t.ComBase},function(t){c=t.ResourceLoader}],execute:function(){var u;o._RF.push({},"606a7g4Z3FKS4V5r510Pt1H","SpriteCom",void 0);var p=s.ccclass;s.property,t("SpriteCom",p("SpriteCom")(u=function(t){function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).path=void 0,e}e(o,t);var s=o.prototype;return s.setSprite=function(){var t=r(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.path=e,t.next=3,c.loadAsset(e);case 3:this.getComponent(i).spriteFrame=t.sent;case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.onDestroy=function(){c.releaseAsses(this.path)},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/StorageUtils.ts",["cc"],(function(t){"use strict";var e,i,r,a;return{setters:[function(t){e=t.cclegacy,i=t._decorator,r=t.path,a=t.native}],execute:function(){var o;e._RF.push({},"379f7kdhd1KWoyvt39fjrxL","StorageUtils",void 0);var s=i.ccclass;i.property,t("StorageUtils",s("StorageUtils")(o=function(){function t(){}return t.saveWxData=function(t,e){window.window.wx&&window.wx.setUserCloudStorage({KVDataList:[{key:t,value:e}],success:function(t){console.log("saveWxData success:res=>",t)},fail:function(t){console.log("saveWxData fail:res=>",t)}})},t.getData=function(t,e){void 0===e&&(e=void 0);var i=localStorage.getItem(t);return null==i||""==i||null==i?e:i},t.saveData=function(t,e){localStorage.setItem(t,e)},t.getFileData=function(t,e){void 0===e&&(e=void 0);var i=r.dirname(t);if(!a.fileUtils.isDirectoryExist(i))return e;var o=a.fileUtils.getStringFromFile(t);return null==o||""==o?e:o},t.saveFileData=function(t,e){var i=r.dirname(t);a.fileUtils.isDirectoryExist(i)||a.fileUtils.createDirectory(i),a.fileUtils.writeDataToFile(e,t)},t.saveFileDataTxt=function(t,e){var i=r.dirname(t);a.fileUtils.isDirectoryExist(i)||a.fileUtils.createDirectory(i),a.fileUtils.writeStringToFile(e,t)},t}())||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/SysBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(e){"use strict";var s,t,o,r;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator},function(e){r=e.ComBase}],execute:function(){var n;t._RF.push({},"9a5424uwpZDdq8FzEmhB4AE","SysBase",void 0);var c=o.ccclass;o.property,e("SysBase",c("SysBase")(n=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var o=t.prototype;return o.addSys=function(e){return this.addCom(e)},o.removeSys=function(e){this.removeCom(e)},t}(r))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/SysMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./GameDlgCom.ts","./MainDlgCom.ts","./AudioSys.ts","./CommonSys.ts","./DlgSys.ts","./EventSys.ts","./GameSys.ts","./HeroSys.ts","./PoolSys.ts","./TimeSys.ts","./PreLoad.ts"],(function(n){"use strict";var t,e,r,s,o,i,u,c,a,y,f,p,S,d,m,l,g;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){s=n.cclegacy,o=n._decorator},function(n){i=n.SysBase},function(n){u=n.GameDlgCom},function(n){c=n.MainDlgCom},function(n){a=n.AudioSys},function(n){y=n.CommonSys},function(n){f=n.DlgSys},function(n){p=n.EventSys},function(n){S=n.GameSys},function(n){d=n.HeroSys},function(n){m=n.PoolSys},function(n){l=n.TimeSys},function(n){g=n.PreLoad}],execute:function(){var v,h;s._RF.push({},"8e319/zlAlMh4cdbl1N44Rv","SysMgr",void 0);var x=o.ccclass;o.property,n("SysMgr",x("SysMgr")(((h=function(n){function s(){return n.apply(this,arguments)||this}t(s,n),s.getSys=function(n){return s.ins.getCom(n)},s.addSys=function(n){return s.ins.addCom(n)},s.removeSys=function(n){s.ins.removeCom(n)};var o=s.prototype;return o.init=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.addSys(l),s.addSys(p),s.addSys(y),s.addSys(f),s.addSys(m),s.addSys(a),n.abrupt("return",this);case 7:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o.enter=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.enterMain();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o.enterMain=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.preloadRes();case 2:return s.addSys(d),n.next=5,s.ins.getCom(f).createDlg(c);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o.enterGame=function(){var n=e(r().mark((function n(t){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.addSys(S),n.next=3,s.ins.getCom(f).createDlg(u,t);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),o.exitGame=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s.getSys(l).removeTimer(s.getSys(S),"loop"),s.getSys(f).closeDlg(u),setTimeout((function(){s.removeSys(S),s.getSys(f).createDlg(c)}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s}(i)).ins=void 0,v=h))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/TimeSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./DestroyCB.ts","./Functor.ts","./IntervalMgr.ts"],(function(e){"use strict";var t,r,n,a,i,s,o,u,c,l;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator},function(e){o=e.SysBase},function(e){u=e.DestroyCB},function(e){c=e.Functor},function(e){l=e.IntervalMgr}],execute:function(){var p,f;i._RF.push({},"69f63GsNtZMj5wML80SDDaB","TimeSys",void 0);var h=s.ccclass;s.property,e("TimeSys",h("TimeSys")(((f=function(e){function i(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).timeMap=new Map,t.nowTime=0,t.timeInterval=1,t.keyInterval=100,t.destroyObj=new Set,t}t(i,e);var s=i.prototype;return s.onLoad=function(){this.schedule(this.loop,this.timeInterval/this.keyInterval)},s.loop=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.nowTime+=this.timeInterval,e.next=3,this.runTimer();case 3:l.loop(this.timeInterval/this.keyInterval);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.addTimer=function(e,t,r,n){void 0===n&&(n=!1);var a=this.nowTime+Math.round(r*this.keyInterval),s=this.timeMap.get(a);null==s&&(s=new Map,this.timeMap.set(a,s));var o=s.get(e);null==o&&(o=new Array,s.set(e,o),u.addCb(e,this,"onObjDestroy"));for(var c=arguments.length,l=new Array(c>4?c-4:0),p=4;p<c;p++)l[p-4]=arguments[p];o.push({isLoop:n,funcName:t,dt:r,args:l});var f=e[i.OBJ_DELETE_SET_KEY];null==f&&(e[i.OBJ_DELETE_SET_KEY]=new Set),e[i.OBJ_DELETE_SET_KEY].add(a)},s.removeTimer=function(e,t){var n=e[i.OBJ_DELETE_SET_KEY];if(null!=n)for(var a,s=r(n);!(a=s()).done;){var o=a.value,u=this.timeMap.get(o);if(null!=u){var c=u.get(e);if(null!=c){var l=-1;for(var p in c)if(c[p].funcName==t){l=Number(p);break}l>-1&&c.splice(l,1)}}}},s.onObjDestroy=function(e){this.destroyObj.add(e);var t=e[i.OBJ_DELETE_SET_KEY];if(null!=t)for(var n,a=r(t);!(n=a()).done;){var s=n.value,o=this.timeMap.get(s);null!=o&&o.delete(e)}},s.runTimer=function(){var e=n(a().mark((function e(){var t,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.timeMap.get(this.nowTime))){e.next=3;break}return e.abrupt("return");case 3:t.forEach(n(a().mark((function e(t,n){var s,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:s=r(t);case 3:if((o=s()).done){e.next=9;break}return u=o.value,e.next=7,i.runFunc(n,u);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})))),this.timeMap.delete(this.nowTime);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.runFunc=function(){var e=n(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getFunc.apply(c,[t,r.funcName].concat(r.args))();case 2:if(!this.destroyObj.has(t)){e.next=4;break}return e.abrupt("return");case 4:if(null!=t[i.OBJ_DELETE_SET_KEY]){e.next=6;break}return e.abrupt("return");case 6:r.isLoop&&(t[i.OBJ_DELETE_SET_KEY].delete(this.nowTime),this.addTimer.apply(this,[t,r.funcName,r.dt,r.isLoop].concat(r.args)));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),i}(o)).OBJ_DELETE_SET_KEY="_obj_delete_set_key",p=f))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/TipDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var e,i,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){r=t.DlgBase}],execute:function(){var l,o;i._RF.push({},"046f8pHoVZPh6hlCZJeagpS","TipDlg",void 0);var c=n.ccclass;n.property,t("TipDlg",c("TipDlg")(((o=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).m_TipLabel=void 0,e}return e(i,t),i.prototype.initDlg=function(t){this.m_TipLabel=this.node.getChildByName("m_TipLabel")},i}(r)).UI_PATH="TipDlg",l=o))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/TipDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./SysMgr.ts","./DlgSys.ts","./TipDlg.ts"],(function(t){"use strict";var n,i,c,o,l,s,e,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,c=t._decorator,o=t.Label},function(t){l=t.ClickFunctor},function(t){s=t.SysMgr},function(t){e=t.DlgSys},function(t){a=t.TipDlg}],execute:function(){var r;i._RF.push({},"32959qcwOJLjLkb+EjqRfvh","TipDlgCom",void 0);var u=c.ccclass;c.property,t("TipDlgCom",u("TipDlgCom")(r=function(t){function i(){for(var n,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(n=t.call.apply(t,[this].concat(c))||this).data=void 0,n}n(i,t);var c=i.prototype;return c.initDlg=function(n){t.prototype.initDlg.call(this,n),this.m_CancelBtn.on("click",l.getFunc(this,"onCancelClick"),this),this.m_ConfirmBtn.on("click",l.getFunc(this,"onConfirmClick"),this),this.m_BgSprite.on("click",l.getFunc(this,"onCancelClick"),this),null!=n.tipMsg&&(this.m_TipLabel.getComponent(o).string=n.tipMsg),this.data=n},c.onCancelClick=function(){if(null!=this.data.cancelFunc){var t=this.data.cancelFunc;this.data.cancelFunc=void 0,t(this.m_CancelBtn)}s.ins.getCom(e).closeDlg(i)},c.onConfirmClick=function(){if(null!=this.data.confirmFunc){var t=this.data.confirmFunc;this.data.confirmFunc=void 0,t(this.m_CancelBtn)}s.ins.getCom(e).closeDlg(i)},i}(a))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/TweenAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,a,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,a=e._decorator,o=e.Vec3}],execute:function(){var r,c;n._RF.push({},"5a9b6vV5vJJYKbJg4O1vHlv","TweenAction",void 0);var i=a.ccclass;a.property,e("TweenAction",i("TweenAction")(((c=function(){function e(e){this.data=void 0,this.data=e}e.createStart=function(){var t=new e({type:0,next:null});return e.actionSet.add(t),t};var n=e.prototype;return n.moveTo=function(t,n,a,r,c){var i=new e({obj:t,type:1,delay:r,dirSpeed:new o(a).subtract(n).multiplyScalar(1/r),time:0,cb:c,next:null});return this.data.next=i,i},n.delay=function(t,n){var a=new e({type:2,delay:t,time:0,cb:n,next:null});return this.data.next=a,a},e.loop=function(n){e.delSet.clear(),e.addSet.clear();for(var a,o=t(e.actionSet);!(a=o()).done;){var r=a.value;e.runAction(n,r)}for(var c,i=t(e.addSet);!(c=i()).done;){r=c.value;e.actionSet.add(r)}for(var d,l=t(e.delSet);!(d=l()).done;){r=d.value;e.actionSet.delete(r)}},e.runAction=function(t,n){var a=n.data;0==a.type?e.runNextAction(t,n):1==a.type?e.handleMove(t,n):2==a.type&&e.handleDelay(t,n)},e.handleMove=function(t,n){var a=n.data;a.obj.activeInHierarchy?(a.time+=t,a.obj.position=a.obj.position.add(new o(a.dirSpeed).multiplyScalar(t)),a.time>=a.delay&&(e.runNextAction(t,n),null!=a.cb&&a.cb())):e.runNextAction(t,n)},e.handleDelay=function(t,n){var a=n.data;a.time+=t,a.time>=a.delay&&(e.runNextAction(t,n),null!=a.cb&&a.cb())},e.runNextAction=function(t,n){var a=n.data.next;e.delSet.add(n),null!=a&&(e.runAction(t,a),e.addSet.add(a))},e}()).actionSet=new Set,c.delSet=new Set,c.addSet=new Set,r=c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/UserWarDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var e,r,i,n;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,i=t._decorator},function(t){n=t.DlgBase}],execute:function(){var o,s;r._RF.push({},"64eb5wVce1FMpoHtntNeOPu","UserWarDlg",void 0);var l=i.ccclass;i.property,t("UserWarDlg",l("UserWarDlg")(((s=function(t){function r(){for(var e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).m_ScrollView=void 0,e.m_ExitBtn=void 0,e}return e(r,t),r.prototype.initDlg=function(t){this.m_ScrollView=this.node.getChildByName("m_ScrollView"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn")},r}(n)).UI_PATH="UserWarDlg",o=s))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/UserWarDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./GameDataNet.ts","./DlgSys.ts","./UserWarDlg.ts","./EnemySetDlgCom.ts"],(function(t){"use strict";var e,n,r,a,i,s,o,c,u,l,p,g,f,m,h,d,y,v,C;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator,s=t.ScrollView,o=t.Label,c=t.assetManager,u=t.SpriteFrame,l=t.Texture2D,p=t.Sprite},function(t){g=t.ClickFunctor},function(t){f=t.ResourceLoader},function(t){m=t.ResourcesPathDefine},function(t){h=t.SysMgr},function(t){d=t.GameDataNet},function(t){y=t.DlgSys},function(t){v=t.UserWarDlg},function(t){C=t.EnemySetDlgCom}],execute:function(){var D;a._RF.push({},"8dbddiB+T5BF7iV7lBS/BgY","UserWarDlgCom",void 0);var k=i.ccclass;i.property,t("UserWarDlgCom",k("UserWarDlgCom")(D=function(t){function a(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).data=void 0,e.dataList=void 0,e}e(a,t);var i=a.prototype;return i.initDlg=function(){var e=n(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.prototype.initDlg.call(this,n),this.m_ExitBtn.on("click",g.getFunc(this,"onExitClick"),this),e.next=4,this.refreshDlg();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),i.refreshDlg=function(){var t=n(r().mark((function t(){var e,n,a,i,h,y=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.getListData();case 2:if(e=t.sent,this.dataList=e,(n=this.m_ScrollView.getComponent(s).content).destroyAllChildren(),null==e){t.next=14;break}a=r().mark((function t(){var a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h=e[i],t.next=3,f.insNode(m.UI_ITEM_ROOT_PATH+"/UserWarItem");case 3:(a=t.sent).parent=n,a.getChildByName("m_UserNameLabel").getComponent(o).string=h[4],a.getChildByName("m_LoseLabel").getComponent(o).string=h[3],a.getChildByName("m_AttackBtn").on("click",g.getFunc(y,"onItemClick",i),y),a.getChildByName("m_RecordBtn").active=!1,null!=h[8]&&""!=h[8]&&c.loadRemote(h[8],{ext:".png"},(function(t,e){var n=new u,r=new l;r.image=e,n.texture=r,a.getChildByName("m_IconItem").getChildByName("m_IconSprite").getComponent(p).spriteFrame=n}));case 10:case"end":return t.stop()}}),t)})),i=0;case 9:if(!(i<e.length)){t.next=14;break}return t.delegateYield(a(),"t0",11);case 11:i++,t.next=9;break;case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.onExitClick=function(){this.closeDlg(a)},i.onItemClick=function(){var t=n(r().mark((function t(e){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.dataList[e],h.getSys(y).createDlg(C,{isMyWar:!1,gameData:JSON.parse(n[2]),targetUserId:n[1],level:-1});case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.onRecordClick=function(){var t=n(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a}(v))||D);a._RF.pop()}}}));

System.register("chunks:///_virtual/WXTool.ts",["cc","./SysMgr.ts","./HeroSys.ts","./TimeSys.ts"],(function(e){"use strict";var t,o,n,i,r,s;return{setters:[function(e){t=e.cclegacy,o=e._decorator,n=e.resources},function(e){i=e.SysMgr},function(e){r=e.HeroSys},function(e){s=e.TimeSys}],execute:function(){var a,c;t._RF.push({},"fd67cxFd01OgZicrAifGWR0","WXTool",void 0);var l=o.ccclass;o.property,e("WXTool",l("WXTool")(((c=function(){function e(){}return e.postMessage=function(e,t,o){void 0===t&&(t=null),void 0===o&&(o=null),window.wx.getOpenDataContext().postMessage({action:e,data:t,dataEx:o})},e.share=function(){n.load("textures/icon",(function(e,t){window.wx.shareAppMessage({title:"文字的攻防战斗，你敢来挑战吗？",imageUrl:t.url,withShareTicket:!0,success:function(e){},fail:function(e){}})}))},e.initHeroWXData=function(){var e=this,t=i.getSys(r),o=window.wx.getSystemInfoSync(),n=o.screenWidth,a=o.screenHeight;i.getSys(s).addTimer(this,"delayInit",3,!1),window.wx.login({success:function(o){var r=null;if(!o.code)return t.initHeroData(),void i.getSys(s).removeTimer(e,"delayInit");r=o.code,console.log("登陆成功,获取到code="+r);var c=window.wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:n,height:a,lineHeight:40,backgroundColor:"#00000000",color:"#ffffff",textAlign:"center"}});c.onTap((function(o){"getUserInfo:ok"==o.errMsg?(console.log("授权用户信息"),window.wx.getUserInfo({lang:"zh_CN",success:function(e){var o=e.userInfo;console.log(o),i.getSys(s).removeTimer(this,"delayInit"),t.initHeroWXData({code:r,userName:o.nickName,headUrl:o.avatarUrl})},fail:function(){return i.getSys(s).removeTimer(this,"delayInit"),t.initHeroData(),console.log("获取失败"),!1}}),c.destroy()):(i.getSys(s).removeTimer(e,"delayInit"),t.initHeroData(),console.log("授权失败"))}))},fail:function(o){t.initHeroData(),i.getSys(s).removeTimer(e,"delayInit")}})},e.prototype.delayInit=function(){i.getSys(r).initHeroData()},e}()).FetchFriendLevel="FetchFriendLevel",c.LevelKey="reachlevel",c.SaveRank="SaveRank",a=c))||a);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});