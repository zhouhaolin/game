System.register("chunks:///_virtual/AnimCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./PoolSys.ts","./SysMgr.ts"],(function(n){"use strict";var t,e,r,o,c,s,i,u;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,c=n._decorator},function(n){s=n.ComBase},function(n){i=n.PoolSys},function(n){u=n.SysMgr}],execute:function(){var a;o._RF.push({},"87778LyeutJuYPnTlJcYvfQ","AnimCom",void 0);var f=c.ccclass;c.property,n("AnimCom",f("AnimCom")(a=function(n){function o(){for(var t,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))||this).cbFunc=void 0,t}t(o,n);var c=o.prototype;return c.init=function(n){this.cbFunc=n},c.animEnd=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==this.cbFunc){n.next=3;break}return n.next=3,this.cbFunc();case 3:u.getSys(i).destroyNode(this.node);case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o}(s))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./AnimCom.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./PoolSys.ts"],(function(t){"use strict";var n,e,r,o,s,c,i,u,a,f;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator},function(t){c=t.ComBase},function(t){i=t.AnimCom},function(t){u=t.ResourcesPathDefine},function(t){a=t.SysMgr},function(t){f=t.PoolSys}],execute:function(){var p;o._RF.push({},"a76a5sTyuRJfKECOB7fBv5f","AnimFactory",void 0);var m=s.ccclass;s.property,t("AnimFactory",m("AnimFactory")(p=function(t){function o(){return t.apply(this,arguments)||this}return n(o,t),o.create=function(){var t=e(r().mark((function t(n,e,o){var s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.getSys(f).createNode(u.ANIM_ROOT_PATH+"/"+n);case 2:return(s=t.sent).parent=o,s.position=e,null==s.getComponent(i)&&s.addComponent(i),s.getComponent(i).init(),t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),o}(c))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/AnimPropBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts"],(function(r){"use strict";var e,t,n,o;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy,n=r._decorator},function(r){o=r.PropBase}],execute:function(){var s;t._RF.push({},"c50f8jWkIVAqZVcuurSdkSF","AnimPropBase",void 0);var c=n.ccclass;n.property,r("AnimPropBase",c("AnimPropBase")(s=function(r){function t(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))||this).state="idle",e}return e(t,r),t}(o))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/AudioSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./GlobalVar.ts","./ResourceLoader.ts","./SysMgr.ts","./PoolSys.ts","./SettingSys.ts"],(function(t){"use strict";var e,n,r,s,o,i,a,u,c,p,l;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator},function(t){i=t.SysBase},function(t){a=t.GlobalVar},function(t){u=t.ResourceLoader},function(t){c=t.SysMgr},function(t){p=t.PoolSys},function(t){l=t.SettingSys}],execute:function(){var d;s._RF.push({},"23c12T+IYlMVbUGV46awuX2","AudioSys",void 0);var f=o.ccclass;o.property,t("AudioSys",f("AudioSys")(d=function(t){function s(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).audioMap=new Map,e.wxAudioMap=new Map,e.poolSys=void 0,e.isOpenAudio=!0,e}e(s,t);var o=s.prototype;return o.onLoad=function(){this.poolSys=c.getSys(p);var t=c.getSys(l).settingProp;t.watch("isOpenAudio",this,"refreshOpen"),this.refreshOpen(t)},o.refreshOpen=function(t){this.isOpenAudio=t.isOpenAudio},o.playAudio=function(){var t=n(r().mark((function t(e,n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isOpenAudio){t.next=2;break}return t.abrupt("return");case 2:if(!a.isWX){t.next=7;break}return t.next=5,this.playWXAudio(e,n);case 5:t.next=9;break;case 7:return t.next=9,this.playNormalAudio(e,n);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),o.playWXAudio=function(){var t=n(r().mark((function t(e,n){var s,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.wxAudioMap.has(e)){t.next=5;break}return t.next=3,u.loadAsset(e);case 3:s=t.sent,this.wxAudioMap.set(e,s);case 5:s=this.wxAudioMap.get(e),(o=window.wx.createInnerAudioContext({useWebAudioImplement:!0})).src=s.nativeUrl,o.volume=null!=n?n:1,o.play();case 10:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),o.getWxAudio=function(t){},o.playNormalAudio=function(){var t=n(r().mark((function t(e,n){var s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.audioMap.has(e)){t.next=5;break}return t.next=3,u.loadAsset(e);case 3:s=t.sent,this.audioMap.set(e,s);case 5:this.audioMap.get(e).playOneShot(n);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s}(i))||d);s._RF.pop()}}}));

System.register("chunks:///_virtual/AutoEnemyCreateCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameData.ts","./ChangeCardDlgCom.ts","./DlgSys.ts","./GameSys.ts","./RandomUtils.ts","./EnemyMoveCom.ts","./FireMoveCom.ts","./GameTimeCom.ts","./SceneObjCom.ts"],(function(e){"use strict";var t,n,o,r,s,a,i,m,h,c,u,p,g,f,l,y,d,C,S;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime,r=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,i=e.Vec3,m=e.Vec2},function(e){h=e.ComBase},function(e){c=e.SysMgr},function(e){u=e.GameData},function(e){p=e.ChangeCardDlgCom},function(e){g=e.DlgSys},function(e){f=e.GameSys},function(e){l=e.RandomUtils},function(e){y=e.EnemyMoveCom},function(e){d=e.FireMoveCom},function(e){C=e.GameTimeCom},function(e){S=e.SceneObjCom}],execute:function(){var v;s._RF.push({},"869f6vOJhFHQbhAgsHWyGm/","AutoEnemyCreateCom",void 0);var E=a.ccclass;a.property,e("AutoEnemyCreateCom",E("AutoEnemyCreateCom")(v=function(e){function s(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).dt=.01,t.gameSys=void 0,t.gameProp=void 0,t.up=300,t.down=-300,t.left=-200,t.right=200,t.isEnemyStop=!1,t.hardGrade=0,t.socreMax=10,t.enemyChangeDirY=200,t}t(s,e);var a=s.prototype;return a.init=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.gameSys=c.getSys(f),this.gameProp=this.gameSys.gameProp,this.gameSys.getCom(C).addTimer(this,"autoEnemyCreate",1,!0),this.gameProp.watchRun("isEnemyStop",this,"refreshEnemyStop"),this.gameProp.watchRun("level",this,"refreshLevel"),this.gameProp.watchRun("score",this,"refreshScore");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.setBoundary=function(e,t,n,o,r){this.up=e,this.down=t,this.left=n,this.right=o,this.enemyChangeDirY=r},a.loop=function(){var e=n(o().mark((function e(t){var n,s,a,i,m,h,c,u,p,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.gameSys.getCom(S).getAllFireSet(),s=r(n);case 2:if((a=s()).done){e.next=8;break}return i=a.value,e.next=6,i.getComponent(d).loop(this.dt);case 6:e.next=2;break;case 8:if(!this.isEnemyStop){for(m=this.gameSys.getCom(S).getAllEnemySet(),h=r(m);!(c=h()).done;)c.value.getComponent(y).loop(this.dt);for(u=this.gameSys.getCom(S).getAllLoveSet(),p=r(u);!(g=p()).done;)g.value.getComponent(y).loop(this.dt)}case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.refreshEnemyStop=function(e){this.isEnemyStop=e.isEnemyStop},a.refreshLevel=function(){var e=n(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hardGrade=t.level/5+1,this.socreMax+=10*t.level,0==t.level||!t.isStart){e.next=6;break}return e.next=5,c.ins.getCom(g).createDlg(p);case 5:this.gameProp.setData({isStop:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.refreshScore=function(e){e.score>this.socreMax&&this.gameProp.setData({level:this.gameProp.level+1})},a.autoEnemyCreate=function(){if(this.gameSys.gameProp.isStart&&!this.isEnemyStop)for(var e=u.data.get(0),t=Math.round(this.hardGrade*e.numRatio),n=Math.round(this.hardGrade*e.speedRatio),o=0;o<t;o++){var r=new i(l.randomNum(this.left,this.right),this.up+10,0),s=new m(this.gameSys.heroNode.position.x-r.x,this.gameSys.heroNode.position.y-r.y);s.normalize(),this.gameSys.getCom(S).createEnemy(r,this.gameSys.sceneNode,s,n,this.enemyChangeDirY)}},s}(h))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/Block.ts",["cc"],(function(t){"use strict";var s,o,c;return{setters:[function(t){s=t.cclegacy,o=t._decorator,c=t.Vec3}],execute:function(){var i;s._RF.push({},"7bcffrMtGVJHJkX/vQ0CMOc","Block",void 0);var r=o.ccclass;o.property,t("Block",r("Block")(i=function(){function t(t,s,o,c){this.posX=0,this.posY=0,this.blockX=0,this.blockY=0,this.targetObj=void 0,this.trapObj=void 0,this.posX=t,this.posY=s,this.blockX=o,this.blockY=c}return t.prototype.refreshTargetPos=function(){null!=this.targetObj&&(this.targetObj.position=new c(this.posX,this.posY,0))},t}())||i);s._RF.pop()}}}));

System.register("chunks:///_virtual/BlockMap.ts",["cc","./Block.ts"],(function(t){"use strict";var o,i,s,e,c;return{setters:[function(t){o=t.cclegacy,i=t._decorator,s=t.Vec2,e=t.Vec3},function(t){c=t.Block}],execute:function(){var l;o._RF.push({},"a4e35LSmPlCMriFtYK9Fko8","BlockMap",void 0);var n=i.ccclass;i.property,t("BlockMap",n("BlockMap")(l=function(){function t(t,o,i,l){this.blockSizeX=10,this.blockSizeY=10,this.startPos=new e,this.endPos=new e,this.blockWidth=50,this.blockMap=new Map,this.blockSizeX=t,this.blockSizeY=o,this.startPos=i,this.endPos=l,this.blockWidth=(this.endPos.x-this.startPos.x)/this.blockSizeX;for(var n=0;n<this.blockSizeX*this.blockSizeY;n++){var h=this._getBlockPosByMapIndex(n),r=this._getPosByBlockPos(new s(h.x,h.y));this.blockMap.set(n,new c(r.x,r.y,h.x,h.y))}}var o=t.prototype;return o.getNullBlock=function(){for(var t=0;t<this.blockSizeX*this.blockSizeY;t++){var o=this.blockMap.get(t);if(null==o.targetObj)return o}return null},o.getBlockByPos=function(t){return this.blockMap.get(this._getMapIndexByPos(t))},o.getBlockByBlockPos=function(t){return t.y<0||t.y>=this.blockSizeY||t.x<0||t.x>=this.blockSizeX?null:this.blockMap.get(this._getMapIndexByBlockPos(t))},o.getAllBlockMap=function(){return this.blockMap},o._getMapIndexByBlockPos=function(t){return t.x+t.y*this.blockSizeX},o._getMapIndexByPos=function(t){var o=this._getBlockPosByPos(t);return o.x+o.y*this.blockSizeX},o._getBlockPosByMapIndex=function(t){return new s(t%this.blockSizeX,0|t/this.blockSizeX)},o._getBlockPosByPos=function(t){var o=0|(t.x-this.startPos.x)/this.blockWidth,i=0|(t.y-this.startPos.y)/this.blockWidth;return i<0?i=0:i>=this.blockSizeY&&(i=this.blockSizeY-1),o<0?o=0:o>=this.blockSizeX&&(o=this.blockSizeX-1),new s(o,i)},o._getPosByBlockPos=function(t){return new s(t.x*this.blockWidth+this.startPos.x+this.blockWidth/2,t.y*this.blockWidth+this.startPos.y+this.blockWidth/2)},t}())||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/BlockObjCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts","./SceneObjCom.ts"],(function(t){"use strict";var e,r,o,i,n,a,s,c;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,i=t._decorator},function(t){n=t.ComBase},function(t){a=t.SysMgr},function(t){s=t.GameSys},function(t){c=t.SceneObjCom}],execute:function(){var h;o._RF.push({},"2274fBw1MNAY607aZ2ZxajX","BlockObjCom",void 0);var u=i.ccclass;i.property,t("BlockObjCom",u("BlockObjCom")(h=function(t){function o(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).gameSys=void 0,e.enemyMap=new Map,e.fireMap=new Map,e.blockSize=20,e}e(o,t);var i=o.prototype;return i.init=function(){this.gameSys=a.getSys(s)},i.loop=function(t){this.enemyMap.clear(),this.fireMap.clear();for(var e,o=this.gameSys.getCom(c).getAllEnemySet(),i=r(o);!(e=i()).done;){var n=(u=e.value).getPosition(),a=Math.round(n.x/this.blockSize).toString()+","+Math.round(n.y/this.blockSize).toString();this.enemyMap.has(a)||this.enemyMap.set(a,new Set),this.enemyMap.get(a).add(u)}o=this.gameSys.getCom(c).getAllFireSet();for(var s,h=r(o);!(s=h()).done;){var u;n=(u=s.value).getPosition(),a=Math.round(n.x/this.blockSize).toString()+","+Math.round(n.y/this.blockSize).toString();this.fireMap.has(a)||this.fireMap.set(a,new Set),this.fireMap.get(a).add(u)}},i.getBlockRoleSet=function(t){var e=Math.round(t.x/this.blockSize)+","+Math.round(t.y/this.blockSize);return this.fireMap.get(e)},i.getBlockEnemySet=function(t){var e=Math.round(t.x/this.blockSize)+","+Math.round(t.y/this.blockSize);return this.enemyMap.get(e)},i.getEnemyArr=function(t,e){for(var r=Math.round(e/this.blockSize),o=Math.round(t.x/this.blockSize),i=Math.round(t.y/this.blockSize),n=new Array,a=o-1-r;a<=o+1+r;a++)for(var s=i-1-r;s<=i+1+r;s++){var c=a+","+s;this.enemyMap.has(c)&&(n=n.concat(Array.from(this.enemyMap.get(c))))}return n},i.getFireArr=function(t,e){for(var r=Math.round(e/this.blockSize),o=Math.round(t.x/this.blockSize),i=Math.round(t.y/this.blockSize),n=new Array,a=o-1-r;a<=o+1+r;a++)for(var s=i-1-r;s<=i+1+r;s++){var c=a+","+s;this.fireMap.has(c)&&(n=n.concat(Array.from(this.fireMap.get(c))))}return n},o}(n))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/BubbleTipDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(e){"use strict";var t,i,o,l;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,o=e._decorator},function(e){l=e.DlgBase}],execute:function(){var n,r;i._RF.push({},"eddf5epjZ5DKboaSWTpy7uU","BubbleTipDlg",void 0);var s=o.ccclass;o.property,e("BubbleTipDlg",s("BubbleTipDlg")(((r=function(e){function i(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).m_BgSprite=void 0,t.m_TipLabel=void 0,t.m_MoveNode=void 0,t}return t(i,e),i.prototype.initDlg=function(e){this.m_BgSprite=this.node.getChildByName("m_MoveNode").getChildByName("m_BgSprite"),this.m_TipLabel=this.node.getChildByName("m_MoveNode").getChildByName("m_TipLabel"),this.m_MoveNode=this.node.getChildByName("m_MoveNode")},i}(l)).UI_PATH="BubbleTipDlg",n=r))||n);i._RF.pop()}}}));

System.register("chunks:///_virtual/BubbleTipDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Functor.ts","./SysMgr.ts","./DlgSys.ts","./BubbleTipDlg.ts"],(function(t){"use strict";var o,e,i,n,s,r,c,l,a,u,p,h,m,g;return{setters:[function(t){o=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator,r=t.Label,c=t.Color,l=t.tween,a=t.Sprite,u=t.Vec3},function(t){p=t.Functor},function(t){h=t.SysMgr},function(t){m=t.DlgSys},function(t){g=t.BubbleTipDlg}],execute:function(){var v,T;n._RF.push({},"2ca38hX8Q9Hu4wuFX2ljJrN","BubbleTipDlgCom",void 0);var f=s.ccclass;s.property,t("BubbleTipDlgCom",f("BubbleTipDlgCom")(((T=function(t){function n(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).data=void 0,o.nowPos=void 0,o.moveUp=30,o.stopTime=.5,o.moveTime=.35,o.colorChangeTime=.3,o}o(n,t),n.createTip=function(){var t=e(i().mark((function t(o){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.ins.getCom(m).createMulDlg(n,o);case 2:case"end":return t.stop()}}),t)})));return function(o){return t.apply(this,arguments)}}(),n.showTip=function(){if(!(n.msgArr.length<=0)){var t=n.msgArr.shift();h.ins.getCom(m).createMulDlg(n,t)}};var s=n.prototype;return s.initDlg=function(o){t.prototype.initDlg.call(this,o),this.m_TipLabel.getComponent(r).string=o;var e=this.m_TipLabel.getComponent(r),i=new c(e.color);l(i).delay(this.moveTime+this.stopTime).to(this.colorChangeTime,{a:0},{onUpdate:function(){e.color=i}}).start();var n=this.m_BgSprite.getComponent(a);i=new c(n.color),l(i).delay(this.moveTime+this.stopTime).to(this.colorChangeTime,{a:0},{onUpdate:function(){n.color=i}}).start(),this.nowPos=this.node.getPosition();var s=new u(this.nowPos.x,this.nowPos.y+this.moveUp,this.nowPos.z),h=new u(this.nowPos.x,this.nowPos.y+2*this.moveUp,this.nowPos.z);l(this.node).to(this.moveTime,{position:s}).delay(this.stopTime).to(this.moveTime,{position:h}).call(p.getFunc(this,"removeDlg")).start()},s.removeDlg=function(){this.node.destroy(),n.showTip()},n}(g)).msgArr=new Array,v=T))||v);n._RF.pop()}}}));

System.register("chunks:///_virtual/BuffCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(s){"use strict";var i,t,e,h;return{setters:[function(s){i=s.inheritsLoose},function(s){t=s.cclegacy,e=s._decorator},function(s){h=s.ComBase}],execute:function(){var u;t._RF.push({},"b30eerz9vBFAppJhPu2AFRJ","BuffCom",void 0);var r=e.ccclass;e.property,s("BuffCom",r("BuffCom")(u=function(s){function t(){for(var i,t=arguments.length,e=new Array(t),h=0;h<t;h++)e[h]=arguments[h];return(i=s.call.apply(s,[this].concat(e))||this).isPenetrate=!1,i.isBounce=!1,i.isExplode=!1,i.isLove=!1,i.branchNum=1,i.shotNum=1,i.isBuff=!1,i.addBranchNum=0,i.addShotNum=0,i.isBuffPenetrate=!1,i.isBuffBounce=!1,i.isBuffExplode=!1,i.isBuffLove=!1,i.prefab="",i.time=4,i.speed=500,i.radius=10,i}i(t,s);var e=t.prototype;return e.init=function(){},e.refreshData=function(s){this.refreshFireData(s)},e.refreshFireData=function(s){this._refreshFire(s.isPenetrate,s.isBounce,s.isExplode,s.isLove,s.branchNum,s.shotNum),this.prefab=s.prefab,this.time=s.time,this.speed=s.speed,this.radius=s.radius},e.refreshBuffData=function(s){this._refreshBuff(s.addBranchNum,s.addShotNum,s.isPenetrate,s.isBounce,s.isExplode,s.isLove)},e._refreshBuff=function(s,i,t,e,h,u){this.isBuffPenetrate=this.isBuffPenetrate||t,this.isBuffBounce=this.isBuffBounce||e,this.isBuffExplode=this.isBuffExplode||h,this.isBuffLove=this.isBuffLove||u,s>=this.addBranchNum&&(this.addBranchNum=s),i>=this.addShotNum&&(this.addShotNum=i)},e._refreshFire=function(s,i,t,e,h,u){this.isPenetrate=this.isPenetrate||s||this.isBuffPenetrate,this.isBounce=this.isBounce||i||this.isBuffBounce,this.isExplode=this.isExplode||t||this.isBuffExplode,this.isLove=this.isLove||e||this.isBuffLove,h+this.addBranchNum>=this.branchNum&&(this.branchNum=h+this.addBranchNum),u+this.addShotNum>=this.shotNum&&(this.shotNum=u+this.addShotNum)},e.resetFire=function(){this.isPenetrate=!1,this.isBounce=!1,this.isExplode=!1,this.isLove=!1,this.branchNum=1,this.shotNum=1},e.resetBuff=function(){this.addBranchNum=0,this.addShotNum=0,this.isBuffPenetrate=!1,this.isBuffBounce=!1,this.isBuffExplode=!1,this.isBuffLove=!1},e.getData=function(){return{prefab:this.prefab,isPenetrate:this.isPenetrate,isBounce:this.isBounce,isExplode:this.isExplode,isLove:this.isLove,branchNum:this.branchNum,shotNum:this.shotNum,time:this.time,speed:this.speed,radius:this.radius}},t}(h))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/CardCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./GameSys.ts","./ResourceLoader.ts","./FireData.ts"],(function(e){"use strict";var t,r,i,a,n,o,s,c,m,u,d,h,g,l,p;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,n=e._decorator,o=e.Sprite,s=e.Label,c=e.SpriteFrame,m=e.Texture2D},function(e){u=e.ComBase},function(e){d=e.ResourcesPathDefine},function(e){h=e.SysMgr},function(e){g=e.GameSys},function(e){l=e.ResourceLoader},function(e){p=e.FireData}],execute:function(){var C;a._RF.push({},"7af59dvrmhAl6JNG6YHAWE6","CardCom",void 0);var f=n.ccclass;n.property,e("CardCom",f("CardCom")(C=function(e){function a(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).gameProp=void 0,t.cardCost=1,t.maskSpriteCom=void 0,t.cardNum=0,t}t(a,e);var n=a.prototype;return n.init=function(){this.gameProp=h.getSys(g).gameProp,this.maskSpriteCom=this.node.getChildByName("maskSprite").getComponent(o)},n.refreshCardCost=function(e){this.cardCost=e},n.refresh=function(e){var t=(this.gameProp.cost+e)/this.cardCost;t>1&&(t=1),this.maskSpriteCom.fillRange=1-t},n.refreshNum=function(){var e=r(i().mark((function e(t){var r,a,n,u,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.data.get(t),this.cardNum=t,-1==(a=r.cost)&&(a="X"),this.node.getChildByName("m_CostLabel").getComponent(s).string=a.toString(),e.next=7,l.loadAsset(d.CARD_TEXTURES_ROOT_PATH+"/"+t);case 7:null==(n=e.sent)?(this.node.getChildByName("m_NormalBgSprite").active=!0,this.node.getChildByName("m_BgSprite").active=!1,this.node.getChildByName("m_NameLabel").active=!0,this.node.getChildByName("m_NameLabel").getComponent(s).string=r.desc.toString()):(u=new c,(h=new m).image=n,u.texture=h,this.node.getChildByName("m_NormalBgSprite").active=!1,this.node.getChildByName("m_BgSprite").active=!0,this.node.getChildByName("m_NameLabel").active=!1,this.node.getChildByName("m_BgSprite").getComponent(o).spriteFrame=u);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n.setIsSelect=function(e){this.node.getChildByName("selectNode").active=e},a}(u))||C);a._RF.pop()}}}));

System.register("chunks:///_virtual/CardFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./PressCom.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./CardCom.ts"],(function(r){"use strict";var t,e,n,o,s,a,c,i,u,p;return{setters:[function(r){t=r.inheritsLoose,e=r.asyncToGenerator,n=r.regeneratorRuntime},function(r){o=r.cclegacy,s=r._decorator},function(r){a=r.ComBase},function(r){c=r.PressCom},function(r){i=r.ResourceLoader},function(r){u=r.ResourcesPathDefine},function(r){p=r.CardCom}],execute:function(){var d;o._RF.push({},"550c48QYitGMp0tRmOqZbr4","CardFactory",void 0);var f=s.ccclass;s.property,r("CardFactory",f("CardFactory")(d=function(r){function o(){return r.apply(this,arguments)||this}return t(o,r),o.create=function(){var r=e(n().mark((function r(t,e,o){var s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.insNode(u.CARD_ROOT_PATH+"/CardSprite");case 2:return(s=r.sent).parent=e,s.position=t,s.addComponent(p).init(),s.addComponent(c).init(o),r.abrupt("return",s);case 8:case"end":return r.stop()}}),r)})));return function(t,e,n){return r.apply(this,arguments)}}(),o}(a))||d);o._RF.pop()}}}));

System.register("chunks:///_virtual/CardMgrCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Functor.ts","./GlobalVar.ts","./Misc.ts","./SysMgr.ts","./FireData.ts","./GameDlgCom.ts","./GameSys.ts","./CardCom.ts","./CardFactory.ts","./GameTimeCom.ts"],(function(t){"use strict";var e,s,r,i,n,a,o,h,c,d,u,g,p,m,C,l,f,S,v,L,y,x,D,T,w,E;return{setters:[function(t){e=t.inheritsLoose,s=t.asyncToGenerator,r=t.regeneratorRuntime,i=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.Vec2,h=t.UITransform,c=t.view,d=t.tween,u=t.Vec3,g=t.KeyCode,p=t.NodeEventType,m=t.input,C=t.Input},function(t){l=t.ComBase},function(t){f=t.Functor},function(t){S=t.GlobalVar},function(t){v=t.Misc},function(t){L=t.SysMgr},function(t){y=t.FireData},function(t){x=t.GameDlgCom},function(t){D=t.GameSys},function(t){T=t.CardCom},function(t){w=t.CardFactory},function(t){E=t.GameTimeCom}],execute:function(){var P;n._RF.push({},"b2a84CTZutBtpz2SW2QI6Xh","CardMgrCom",void 0);var b=a.ccclass;a.property,t("CardMgrCom",b("CardMgrCom")(P=function(t){function n(){for(var e,s=arguments.length,r=new Array(s),i=0;i<s;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).gameSys=void 0,e.gameProp=void 0,e.cardStoreList=new Array,e.handList=new Array,e.cardInterval=0,e.cardHalfWidth=20,e.cardSpriteList=new Array,e.handSpriteList=new Array,e.centerPos=void 0,e.addPos=void 0,e.gameTimeCom=void 0,e.selectIndex=-1,e.gameDlgCom=void 0,e.isStop=!1,e.isStart=!1,e.selectCardNode=void 0,e.m_DescLabel=void 0,e.startPos=o.ZERO,e.maxMove=4,e.codeDict=new Map([[g.KEY_Q,0],[g.KEY_W,1],[g.KEY_E,2],[g.KEY_R,3]]),e}e(n,t);var a=n.prototype;return a.init=function(){this.gameSys=L.getSys(D),this.gameProp=this.gameSys.gameProp,this.cardStoreList=[1,2,1,2,1,1,1,1],this.handList=[],this.gameTimeCom=this.gameSys.getCom(E)},a.refreshStop=function(t){this.isStop=t.isStop,this.gameDlgCom.resetActive()},a.refreshStart=function(t){this.isStart=t.isStart,this.gameDlgCom.resetActive()},a.initCardView=function(){var t=s(r().mark((function t(e,s,n,a){var o,c,d,g,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.create(u.ZERO,e,f.getFunc(this,"onLongPress"));case 2:return o=t.sent,this.cardSpriteList.push(o),t.t0=this.cardSpriteList,t.next=7,w.create(u.ZERO,e,f.getFunc(this,"onLongPress"));case 7:return t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.t2=this.cardSpriteList,t.next=12,w.create(u.ZERO,e,f.getFunc(this,"onLongPress"));case 12:return t.t3=t.sent,t.t2.push.call(t.t2,t.t3),t.t4=this.cardSpriteList,t.next=17,w.create(u.ZERO,e,f.getFunc(this,"onLongPress"));case 17:for(t.t5=t.sent,t.t4.push.call(t.t4,t.t5),this.gameDlgCom=e.getComponent(x),c=i(this.cardSpriteList);!(d=c()).done;)(g=d.value).on(p.TOUCH_START,f.getFunc(this,"onTouchCardStart",g),this),g.on(p.TOUCH_MOVE,f.getFunc(this,"onTouchCardMove"),this),g.on(p.TOUCH_END,f.getFunc(this,"onTouchCardEnd"),this),g.on(p.TOUCH_CANCEL,f.getFunc(this,"onTouchCardEnd"),this);for(m.on(C.EventType.KEY_DOWN,this.onKeyDown,this),m.on(C.EventType.KEY_UP,this.onKeyUp,this),this.gameDlgCom.m_TouchBg.on(C.EventType.MOUSE_MOVE,this.onTouchCardMove,this),this.cardHalfWidth=o.getComponent(h).contentSize.x/2,this.centerPos=s,this.addPos=n,l=0;l<4;l++)this.addCard();this.gameProp.watchRun("isStop",this,"refreshStop"),this.gameProp.watchRun("isStart",this,"refreshStart"),this.m_DescLabel=a;case 31:case"end":return t.stop()}}),t,this)})));return function(e,s,r,i){return t.apply(this,arguments)}}(),a.onLongPress=function(t,e){var s=t.getComponent(T).cardNum,r=y.data.get(s);this.gameDlgCom.setDescLabel(r.desc)},a.onTouchCardMove=function(t){var e=t.getLocation();o.distance(this.startPos,e)>this.maxMove&&this.gameDlgCom.setDescLabel("");var s=S.canvas.getComponent(h).contentSize,r=c.getCanvasSize(),i=this.gameDlgCom.getHeroNode(),n=new o(s.x*e.x/r.x-s.x/2,s.y*e.y/r.y-s.y/2),a=new o(n.x-i.position.x,n.y-i.position.y);this.gameDlgCom.setHeroDir(a)},a.onTouchCardStart=function(t,e){this.selectCardNode=t;var s=this.getCardIndex(t);this.startPos=e.getLocation(),-1!=s&&this.gameDlgCom.cardClick(s)},a.onTouchCardEnd=function(t){this.gameDlgCom.setDescLabel("");var e=this.getCardIndex(this.selectCardNode);-1!=e&&this.gameDlgCom.beginFire(e)},a.getCardIndex=function(t){return 0==this.handSpriteList.length?-1:this.handSpriteList.indexOf(t)},a.onKeyDown=function(){var t=s(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isStop){t.next=2;break}return t.abrupt("return");case 2:if(this.isStart){t.next=4;break}return t.abrupt("return");case 4:this.codeDict.has(e.keyCode)&&this.gameDlgCom.cardClick(this.codeDict.get(e.keyCode));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.onKeyUp=function(){var t=s(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isStop){t.next=2;break}return t.abrupt("return");case 2:if(this.isStart){t.next=4;break}return t.abrupt("return");case 4:if(!this.codeDict.has(e.keyCode)){t.next=7;break}return t.next=7,this.gameDlgCom.beginFire(this.codeDict.get(e.keyCode));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a.refreshAllCard=function(t){var e;this.cardStoreList=t,this.handList=[],(e=this.cardSpriteList).push.apply(e,this.handSpriteList),this.handSpriteList=[];for(var s=0;s<4;s++)this.addCard()},a.getCardNum=function(t){return t>=this.handList.length||t<0?null:this.handList[t]},a.selectCard=function(t){this.selectIndex=t,this.refreshHandCard()},a.addCard=function(){if(4!=this.handList.length){var t=this.cardStoreList.shift();this.handList.push(t);var e=y.data.get(t),s=this.cardSpriteList.shift();this.handSpriteList.push(s),s.position=this.addPos,s.active=!0,s.getComponent(T).refreshNum(t),s.getComponent(T).refreshCardCost(e.cost),this.refreshHandCard()}},a.removeCard=function(t){if(!(t>=this.handList.length)){this.cardStoreList.push(v.removeListByIndex(t,this.handList));var e=v.removeListByIndex(t,this.handSpriteList);this.cardSpriteList.push(e),e.active=!1,this.selectIndex=-1,this.refreshHandCard(),this.gameTimeCom.addTimer(this,"addCard",.5,!1)}},a.refreshHandCard=function(){for(var t=this.handSpriteList.length,e=this.cardHalfWidth*(t-1)+this.cardInterval/2*(t-1),s=2*this.cardHalfWidth+this.cardInterval,r=0;r<t;r++){var i=this.handSpriteList[r];this.selectIndex==r?(i.getComponent(T).setIsSelect(!0),d(i).to(.1,{position:new u(this.centerPos.x-e+s*r,this.centerPos.y+10,0),scale:new u(1.2,1.2,1)}).start()):(i.getComponent(T).setIsSelect(!1),d(i).to(.1,{position:new u(this.centerPos.x-e+s*r,this.centerPos.y,0),scale:new u(1,1,1)}).start())}},n}(l))||P);n._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeCardDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(e){"use strict";var t,a,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator},function(e){o=e.DlgBase}],execute:function(){var i,s;a._RF.push({},"1822aBUdFZI4qlQnxOCAhBq","ChangeCardDlg",void 0);var r=n.ccclass;n.property,e("ChangeCardDlg",r("ChangeCardDlg")(((s=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).m_TouchBg=void 0,t.m_GainCardPos=void 0,t.m_LostCardPos=void 0,t.m_DescLabel=void 0,t.m_ChangeBtn=void 0,t}return t(a,e),a.prototype.initDlg=function(e){this.m_TouchBg=this.node.getChildByName("m_TouchBg"),this.m_GainCardPos=this.node.getChildByName("m_GainCardPos"),this.m_LostCardPos=this.node.getChildByName("m_LostCardPos"),this.m_DescLabel=this.node.getChildByName("m_DescLabel"),this.m_ChangeBtn=this.node.getChildByName("m_ChangeBtn")},a}(o)).UI_PATH="ChangeCardDlg",i=s))||i);a._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeCardDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./Functor.ts","./Misc.ts","./SysMgr.ts","./FireData.ts","./CardMgrCom.ts","./CardCom.ts","./CardFactory.ts","./GameSys.ts","./RandomUtils.ts","./ChangeCardDlg.ts"],(function(t){"use strict";var e,s,n,i,o,a,r,c,l,h,u,d,g,p,C,m,f,y,L,S;return{setters:[function(t){e=t.inheritsLoose,s=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,o=t._decorator,a=t.Label,r=t.tween,c=t.Vec3,l=t.NodeEventType},function(t){h=t.ClickFunctor},function(t){u=t.Functor},function(t){d=t.Misc},function(t){g=t.SysMgr},function(t){p=t.FireData},function(t){C=t.CardMgrCom},function(t){m=t.CardCom},function(t){f=t.CardFactory},function(t){y=t.GameSys},function(t){L=t.RandomUtils},function(t){S=t.ChangeCardDlg}],execute:function(){var N;i._RF.push({},"fbd1czNKaVBc5B5xxDcFLgx","ChangeCardDlgCom",void 0);var v=o.ccclass;o.property,t("ChangeCardDlgCom",v("ChangeCardDlgCom")(N=function(t){function i(){for(var e,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).gainList=new Array,e.lostList=new Array,e.selectGainNode=void 0,e.selectLostNode=void 0,e.gameSys=void 0,e.m_HeroSprite=void 0,e.allCardList=new Array,e.isEndSelect=!1,e}e(i,t);var o=i.prototype;return o.initDlg=function(){var e=s(n().mark((function e(s){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.prototype.initDlg.call(this,s),this.gameSys=g.getSys(y),this.gameSys.gameProp.watchRun("isStart",this,"onStartChange"),this.m_ChangeBtn.on("click",h.getFunc(this,"onChange"),this),e.next=6,this.initCardView();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.onStartChange=function(t){t.isStart||this.closeDlg(i)},o.initCardView=function(){var t=s(n().mark((function t(){var e,s,i,o,a,h,d,g,y;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=p.data.size,(e=this.allCardList).push.apply(e,this.gameSys.getCom(C).handList),(s=this.allCardList).push.apply(s,this.gameSys.getCom(C).cardStoreList),o=L.randomList(0,i,3),a=L.randomListByList(this.allCardList,3),h=110,d=this.m_GainCardPos.position.x-h,g=0;case 8:if(!(g<o.length)){t.next=19;break}return t.next=11,f.create(c.ZERO,this.node,u.getFunc(this,"onLongPress"));case 11:(y=t.sent).getComponent(m).refreshNum(o[g]),r(y).to(.2,{position:new c(d+h*g,this.m_GainCardPos.position.y,0)}).start(),y.on(l.TOUCH_START,u.getFunc(this,"onTouchGainStart",y),this),this.gainList.push(y);case 16:g++,t.next=8;break;case 19:d=this.m_LostCardPos.position.x-h,g=0;case 21:if(!(g<a.length)){t.next=32;break}return t.next=24,f.create(c.ZERO,this.node,u.getFunc(this,"onLongPress"));case 24:(y=t.sent).getComponent(m).refreshNum(a[g]),r(y).to(.2,{position:new c(d+h*g,this.m_LostCardPos.position.y,0)}).start(),y.on(l.TOUCH_START,u.getFunc(this,"onTouchLostStart",y),this),this.lostList.push(y);case 29:g++,t.next=21;break;case 32:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onLongPress=function(t,e){var s=t.getComponent(m).cardNum,n=p.data.get(s);this.m_DescLabel.getComponent(a).string=n.desc},o.onTouchGainStart=function(t,e){if(!this.isEndSelect){if(null!=this.selectGainNode){var s=this.selectGainNode.position;if(r(this.selectGainNode).to(.1,{position:new c(s.x,s.y-15,0)}).start(),this.selectGainNode.getComponent(m).setIsSelect(!1),this.selectGainNode==t)return void(this.selectGainNode=null)}this.selectGainNode=t;s=t.position;r(t).to(.1,{position:new c(s.x,s.y+15,0)}).start(),t.getComponent(m).setIsSelect(!0)}},o.onTouchLostStart=function(t,e){if(!this.isEndSelect){if(null!=this.selectLostNode){var s=this.selectLostNode.position;if(r(this.selectLostNode).to(.1,{position:new c(s.x,s.y-15,0)}).start(),this.selectLostNode.getComponent(m).setIsSelect(!1),this.selectLostNode==t)return void(this.selectLostNode=null)}this.selectLostNode=t;s=t.position;r(t).to(.1,{position:new c(s.x,s.y+15,0)}).start(),t.getComponent(m).setIsSelect(!0)}},o.onChange=function(){this.showChangeAnim()},o.showChangeAnim=function(){this.isEndSelect||null!=this.selectGainNode&&null!=this.selectLostNode&&(this.isEndSelect=!0,r(this.selectGainNode).delay(1).to(.5,{position:this.selectLostNode.position}).start(),r(this.selectLostNode).delay(1).to(.5,{position:this.selectGainNode.position}).start(),r(this.node).delay(2.5).call(u.getFunc(this,"refreshResult")).start())},o.refreshResult=function(){var t=s(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.selectGainNode&&null!=this.selectLostNode){t.next=2;break}return t.abrupt("return");case 2:d.removeListByObj(this.selectLostNode.getComponent(m).cardNum,this.allCardList),this.allCardList.push(this.selectGainNode.getComponent(m).cardNum),this.gameSys.getCom(C).refreshAllCard(this.allCardList),this.gameSys.gameProp.setData({isStop:!1}),this.closeDlg(i);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(S))||N);i._RF.pop()}}}));

System.register("chunks:///_virtual/ClickFunctor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioSys.ts","./Functor.ts","./SysMgr.ts"],(function(t){"use strict";var n,u,c,o,r,i;return{setters:[function(t){n=t.construct},function(t){u=t.cclegacy,c=t._decorator},function(t){o=t.AudioSys},function(t){r=t.Functor},function(t){i=t.SysMgr}],execute:function(){var s;u._RF.push({},"dfa5a4+QspO5bdD5+60ypwd","ClickFunctor",void 0);var e=c.ccclass;c.property,t("ClickFunctor",e("ClickFunctor")(s=function(){function t(t){this.functor=void 0,this.audioSys=void 0,this.functor=t,this.audioSys=i.getSys(o)}return t.prototype.runCbFunc=function(){var t;null!=this.functor&&(t=this.functor).runCbFunc.apply(t,arguments),this.audioSys.playAudio("audios/touch.wav")},t.getFunc=function(u,c){for(var o=arguments.length,i=new Array(o>2?o-2:0),s=2;s<o;s++)i[s-2]=arguments[s];var e=n(r,[u,c].concat(i)),a=new t(e);return a.runCbFunc.bind(a)},t}())||s);u._RF.pop()}}}));

System.register("chunks:///_virtual/CodeReoladTool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,o,c,n,s;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime,o=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,n=e._decorator,s=e.js}],execute:function(){var a,i;c._RF.push({},"79816BZ9EhLlJyEsLzSQley","CodeReoladTool",void 0);var l=n.ccclass,u=(n.property,"D:/Hotfix/"),p="D:/CocosProject/m1/m1/assets/script/";e("CodeReoladTool",l("CodeReoladTool")(((i=function(){function e(){}return e.init=function(){var e=this;try{require("fs").watch(p,{recursive:!0},(function(t,r){r.endsWith(".ts")&&e.fileSet.add(r)}))}catch(e){}},e.reload=function(){var e=t(r().mark((function e(){var t,c,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log("----start reload---"),t=o(this.fileSet);!(c=t()).done;)n=c.value,this.reloadOneFile(p+n.replace("\\","/"));this.fileSet.clear(),console.log("----end reload---");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.reloadOneFile=function(){var e=t(r().mark((function e(t){var c,n,a,i,l,d,f,h,v,y;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("reload:"+t),t=t.replace("\\","/"),c=(c=t.split("/").pop()).split(".")[0],n=require("child_process"),a=n.execSync,e.prev=5,e.next=8,a('tsc --outDir "D:/Hotfix/" '+t,(function(e,t,r){}));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:this.dict.has(c)?i=this.dict.get(c):(i=s.getClassByName(c),this.dict.set(c,i)),l=u+t.replace(p,"").replace(".ts","")+".js",d=require(l),f=Reflect.ownKeys(d[c].prototype),h=o(f);case 17:if((v=h()).done){e.next=24;break}if(!(y=v.value).startsWith("__")&&!y.startsWith("constructor")){e.next=21;break}return e.abrupt("continue",22);case 21:i.prototype[y]=d[c].prototype[y];case 22:e.next=17;break;case 24:delete require.cache[require.resolve(l)];case 25:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),e}()).dict=new Map,i.fileSet=new Set,a=i))||a);c._RF.pop()}}}));

System.register("chunks:///_virtual/CollideCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameDlgCom.ts","./ReviveDlgCom.ts","./DlgSys.ts","./GameSys.ts","./BlockObjCom.ts","./EnemyMoveCom.ts","./FireMoveCom.ts","./AnimFactory.ts","./SceneObjCom.ts"],(function(e){"use strict";var t,n,o,r,i,s,a,c,u,l,m,p,h,g,f,C,d,b,k;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,o=e.regeneratorRuntime,r=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,s=e._decorator,a=e.UITransform,c=e.Vec3},function(e){u=e.ComBase},function(e){l=e.SysMgr},function(e){m=e.GameDlgCom},function(e){p=e.ReviveDlgCom},function(e){h=e.DlgSys},function(e){g=e.GameSys},function(e){f=e.BlockObjCom},function(e){C=e.EnemyMoveCom},function(e){d=e.FireMoveCom},function(e){b=e.AnimFactory},function(e){k=e.SceneObjCom}],execute:function(){var y;i._RF.push({},"c5514wlEh9Lp7A2ZKcm1QFE","CollideCom",void 0);var v=s.ccclass;s.property,e("CollideCom",v("CollideCom")(y=function(e){function i(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).gameSys=void 0,t.heroNode=void 0,t.gameProp=void 0,t}t(i,e);var s=i.prototype;return s.init=function(){this.gameSys=l.getSys(g),this.gameProp=this.gameSys.gameProp,this.gameProp.watch("hp",this,"refreshHp")},s.refreshHp=function(e){e.hp<=0&&(0==this.gameProp.retryCount?this.gameProp.setData({isStart:!1}):(l.ins.getCom(h).createDlg(p),this.gameProp.setData({retryCount:this.gameProp.retryCount-1}),this.gameProp.setData({isStop:!0})))},s.initHeroNode=function(){this.heroNode=l.ins.getCom(h).getDlg(m).getComponent(m).getHeroNode()},s.loop=function(){var e=n(o().mark((function e(t){var n,i,s,u,m,p,h,y,v,x,S,N,D,E,H,P,F,A,I,L,M,j,w,B;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.gameSys.getCom(f),i=this.gameSys.getCom(k),s=i.getAllFireSet(),u=null,m=r(s);case 5:if((p=m()).done){e.next=28;break}h=p.value,y=n.getEnemyArr(h.position,2*h.getComponent(d).radius),v=9999,u=null,x=r(y);case 11:if((S=x()).done){e.next=21;break}if(N=S.value,i.checkHaveEnemy(N)){e.next=15;break}return e.abrupt("continue",19);case 15:if(D=c.distance(N.position,h.position),this.checkIsFireCollid(N,h,D)){e.next=18;break}return e.abrupt("continue",19);case 18:D<v&&(v=D,u=N);case 19:e.next=11;break;case 21:if(null==u){e.next=26;break}return e.next=24,u.getComponent(C).collision(h);case 24:return e.next=26,h.getComponent(d).collision(u);case 26:e.next=5;break;case 28:E=i.getAllLoveSet(),H=r(E);case 30:if((P=H()).done){e.next=53;break}F=P.value,y=n.getEnemyArr(F.position,2*F.getComponent(C).radius),v=9999,u=null,A=r(y);case 36:if((I=A()).done){e.next=48;break}if(N=I.value,i.checkHaveEnemy(N)){e.next=40;break}return e.abrupt("continue",46);case 40:if(N!=F){e.next=42;break}return e.abrupt("continue",46);case 42:if(D=c.distance(N.position,F.position),this.checkIsLoveCollid(N,F,D)){e.next=45;break}return e.abrupt("continue",46);case 45:D<v&&(v=D,u=N);case 46:e.next=36;break;case 48:if(null==u){e.next=51;break}return e.next=51,u.getComponent(C).collision(F);case 51:e.next=30;break;case 53:if(null!=this.heroNode){e.next=55;break}return e.abrupt("return");case 55:y=n.getEnemyArr(this.heroNode.position,this.heroNode.getComponent(a).contentSize.x),v=9999,u=null,L=r(y);case 59:if((M=L()).done){e.next=69;break}if(N=M.value,i.checkHaveEnemy(N)){e.next=63;break}return e.abrupt("continue",67);case 63:if(D=c.distance(N.position,this.heroNode.position),this.checkIsHeroCollid(N,D)){e.next=66;break}return e.abrupt("continue",67);case 66:D<v&&(v=D,u=N);case 67:e.next=59;break;case 69:if(null==u){e.next=85;break}return e.next=72,u.getComponent(C).collision(this.heroNode);case 72:y=l.getSys(g).getCom(f).getEnemyArr(this.heroNode.position,40),j=this.heroNode.position,w=r(y);case 75:if((B=w()).done){e.next=83;break}if(N=B.value,i.checkHaveEnemy(N)){e.next=79;break}return e.abrupt("continue",81);case 79:return e.next=81,N.getComponent(C).collision(this.heroNode);case 81:e.next=75;break;case 83:this.gameProp.setData({hp:this.gameProp.hp-1}),b.create("boom0",j,l.getSys(g).sceneNode);case 85:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.checkIsHeroCollid=function(e,t){return this.heroNode.getComponent(a).contentSize.x/2+e.getComponent(C).radius>t},s.checkIsFireCollid=function(e,t,n){return t.getComponent(d).radius+e.getComponent(C).radius>n},s.checkIsLoveCollid=function(e,t,n){return t.getComponent(C).radius+e.getComponent(C).radius>n},i}(u))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/ComBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,t,n,r,a;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,r=e.Node,a=e.Component}],execute:function(){var c;t._RF.push({},"e5c0fuRUEVNDLLAr+uUBBW2","ComBase",void 0);var p=n.ccclass;n.property,e("ComBase",p("ComBase")(c=function(e){function t(){for(var o,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(o=e.call.apply(e,[this].concat(n))||this).comMap=new Map,o}o(t,e);var n=t.prototype;return n.addCom=function(e){var o=new r;o.name=e.prototype.name,o.parent=this.node;var t=o.addComponent(e);return this.comMap.set(e.prototype.name,o),t},n.getCom=function(e){var o=this.comMap.get(e.prototype.name);return null!=o?o.getComponent(e):null},n.removeCom=function(e){var o=this.comMap.get(e.prototype.name);null!=o&&o.destroy(),this.comMap.delete(e.prototype.name)},n.removeAllCom=function(){this.comMap.forEach((function(e,o){e.destroy()})),this.comMap.clear()},t}(a))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/CommonSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./KeyCom.ts"],(function(o){"use strict";var t,n,s,e,c;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,s=o._decorator},function(o){e=o.SysBase},function(o){c=o.KeyCom}],execute:function(){var r;n._RF.push({},"0c849KixcBHq5O3yflpWRPS","CommonSys",void 0);var i=s.ccclass;s.property,o("CommonSys",i("CommonSys")(r=function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n.prototype.onLoad=function(){this.addCom(c)},n}(e))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConsoleTool.ts",["cc","./HttpUtils.ts"],(function(t){"use strict";var o,n,c;return{setters:[function(t){o=t.cclegacy,n=t._decorator},function(t){c=t.HttpUtils}],execute:function(){var e,s;o._RF.push({},"a321cuPRcRBDrsmwDLRNTo/","ConsoleTool",void 0);var r=n.ccclass;n.property,t("ConsoleTool",r("ConsoleTool")(((s=function(){function t(){}return t.sendMsg=function(o){var n=(new Date).getTime()+t.count;t.count++;var e={msg:o,time:n.toString()};c.httpPost("http://192.168.10.26:7777/AddData",JSON.stringify(e))},t}()).count=0,e=s))||e);o._RF.pop()}}}));

System.register("chunks:///_virtual/CostCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts","./CardMgrCom.ts","./CardCom.ts"],(function(t){"use strict";var e,r,o,s,i,a,n,c,m;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,s=t._decorator},function(t){i=t.ComBase},function(t){a=t.SysMgr},function(t){n=t.GameSys},function(t){c=t.CardMgrCom},function(t){m=t.CardCom}],execute:function(){var p;o._RF.push({},"5983cBYXWhCp6Lnt2TMVHFw","CostCom",void 0);var h=s.ccclass;s.property,t("CostCom",h("CostCom")(p=function(t){function o(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).gameSys=void 0,e.gameProp=void 0,e.addTime=0,e.perSecond=1,e.cardSpriteList=new Array,e}e(o,t);var s=o.prototype;return s.init=function(){this.gameSys=a.getSys(n),this.gameProp=this.gameSys.gameProp},s.loop=function(t){this.gameProp.cost>=this.gameProp.maxCost||(this.addTime+=t,this.refreshFill(),this.addTime>this.perSecond&&(this.addTime=0,this.gameProp.setData({cost:this.gameProp.cost+1})))},s.initCardView=function(t,e){var r;this.cardSpriteList=[],(r=this.cardSpriteList).push.apply(r,this.gameSys.getCom(c).handSpriteList)},s.refreshFill=function(){for(var t,e=r(this.cardSpriteList);!(t=e()).done;){t.value.getComponent(m).refresh(this.addTime)}},o}(i))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/Defines.ts",["cc"],(function(e){"use strict";var t,_;return{setters:[function(e){t=e.cclegacy,_=e._decorator}],execute:function(){var c,r;t._RF.push({},"f0873d9ZtVFurkEVmhBwtT6","Defines",void 0);var n=_.ccclass;_.property,e("Defines",n("Defines")(((r=function(){}).BLOCK_COM_0=0,r.BLOCK_COM_1=1,r.BLOCK_COM_2=2,r.BLOCK_COM_3=3,r.BLOCK_COM_4=4,r.BLOCK_COM_5=5,r.EVENT_HURT="event_hurt",r.LEVEL="level",c=r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/DestroyCB.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Functor.ts"],(function(e){"use strict";var t,o,n,r,s,c;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,r=e._decorator,s=e.Component},function(e){c=e.Functor}],execute:function(){var u,a;n._RF.push({},"27148QO9yxDlZ8OUDAsVPg8","DestroyCB",void 0);var l=r.ccclass;r.property,e("DestroyCB",l("DestroyCB")(((a=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.addCb=function(e,t,o){null==e[n.cbObjSet]&&(e[n.cbObjSet]=new Set),e[n.cbObjSet].has(t)||(e[n.cbObjSet].add(t),null!=e.onDestroy&&null==e._onDestroyReplace?(e._onDestroyReplace=[],e._onDestroyReplace.push(e.onDestroy.bind(t)),e[n.onDestroyName]=c.getNotWatchDestroyFunc(this,"onDestroyFunc",e,t,o)):null==e._onDestroyReplace?(e._onDestroyReplace=[],e[n.onDestroyName]=c.getNotWatchDestroyFunc(this,"onDestroyFunc",e,t,o)):e._onDestroyReplace.push(c.getNotWatchDestroyFunc(t,o,e)))},n.onDestroyFunc=function(e,t,n){if(c.getNotWatchDestroyFunc(t,n,e)(),null!=e._onDestroyReplace)for(var r,s=o(e._onDestroyReplace);!(r=s()).done;){(0,r.value)()}},n}(s)).cbObjSet="_cbObjSet",a.onDestroyName="onDestroy",a.onDestroyReplaceName="_onDestroyReplace",u=a))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/DestroySelf.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PoolSys.ts","./SysMgr.ts"],(function(t){"use strict";var o,e,s,n,r,i,c;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,n=t.Animation,r=t.Component},function(t){i=t.PoolSys},function(t){c=t.SysMgr}],execute:function(){var u;e._RF.push({},"076aaa2G0dANoxO+A7+CMUE","DestroySelf",void 0);var l=s.ccclass;s.property,t("DestroySelf",l("DestroySelf")(u=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.destroySelf=function(){this.node.getComponent(n).stop(),c.getSys(i).destroyNode(this.node)},e}(r))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/DlgBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysMgr.ts","./DlgSys.ts","./ComBase.ts"],(function(t){"use strict";var s,e,n,o,c,r;return{setters:[function(t){s=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.SysMgr},function(t){c=t.DlgSys},function(t){r=t.ComBase}],execute:function(){var i,l;e._RF.push({},"f342bZgl1lPM7vFszGNiP2S","DlgBase",void 0);var u=n.ccclass;n.property,t("DlgBase",u("DlgBase")(((l=function(t){function e(){return t.call(this)||this}s(e,t);var n=e.prototype;return n.initDlg=function(t){},n.closeDlg=function(t){o.ins.getCom(c).closeDlg(t)},e}(r)).UI_PATH="",i=l))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/DlgMgrCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./GlobalVar.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts"],(function(t){"use strict";var e,r,n,o,a,s,i,u,c;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator},function(t){s=t.ComBase},function(t){i=t.GlobalVar},function(t){u=t.ResourceLoader},function(t){c=t.ResourcesPathDefine}],execute:function(){var l;o._RF.push({},"fbaf8WutaZDRat94AEKLvSY","DlgMgrCom",void 0);var p=a.ccclass;a.property,t("DlgMgrCom",p("DlgMgrCom")(l=function(t){function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).dlgMap=new Map,e.root=void 0,e}e(o,t);var a=o.prototype;return a.onLoad=function(){this.root=i.canvas.getChildByName("uiRoot"),this.root.setSiblingIndex(99999)},a.createMulDlg=function(){var t=r(n().mark((function t(e,r){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.insNode(c.UI_ROOT_PATH+"/"+e.UI_PATH);case 2:return(o=t.sent).addComponent(e).initDlg(r),o.parent=this.root,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),a.createDlg=function(){var t=r(n().mark((function t(e,r){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dlgMap.has(e.UI_PATH)){t.next=2;break}return t.abrupt("return",this.dlgMap.get(e.UI_PATH));case 2:return t.next=4,u.insNode(c.UI_ROOT_PATH+"/"+e.UI_PATH);case 4:return o=t.sent,this.dlgMap.set(e.UI_PATH,o),o.addComponent(e).initDlg(r),o.parent=this.root,t.abrupt("return",o);case 9:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),a.getDlg=function(t){return this.dlgMap.get(t.UI_PATH)},a.closeDlg=function(t){if(this.dlgMap.has(t.UI_PATH)){var e=this.dlgMap.get(t.UI_PATH);this.dlgMap.delete(t.UI_PATH),e.destroy()}},o}(s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/DlgSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./DlgMgrCom.ts"],(function(t){"use strict";var r,e,n,o,s,c,u;return{setters:[function(t){r=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator},function(t){c=t.SysBase},function(t){u=t.DlgMgrCom}],execute:function(){var i;o._RF.push({},"7d7cd4ZKb5FT6Zn/9A8qK7l","DlgSys",void 0);var a=s.ccclass;s.property,t("DlgSys",a("DlgSys")(i=function(t){function o(){return t.apply(this,arguments)||this}r(o,t);var s=o.prototype;return s.onLoad=function(){this.addCom(u)},s.createMulDlg=function(){var t=e(n().mark((function t(r,e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCom(u).createMulDlg(r,e));case 1:case"end":return t.stop()}}),t,this)})));return function(r,e){return t.apply(this,arguments)}}(),s.createDlg=function(){var t=e(n().mark((function t(r,e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.getCom(u).createDlg(r,e));case 1:case"end":return t.stop()}}),t,this)})));return function(r,e){return t.apply(this,arguments)}}(),s.getDlg=function(t){return this.getCom(u).getDlg(t)},s.closeDlg=function(t){this.getCom(u).closeDlg(t)},o}(c))||i);o._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./PoolSys.ts","./EnemyMoveCom.ts"],(function(e){"use strict";var n,t,r,o,s,c,u,a,i,y;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator},function(e){c=e.ComBase},function(e){u=e.ResourcesPathDefine},function(e){a=e.SysMgr},function(e){i=e.PoolSys},function(e){y=e.EnemyMoveCom}],execute:function(){var p;o._RF.push({},"b6c13NZRnJApbn8+1RTVaDH","EnemyFactory",void 0);var f=s.ccclass;s.property,e("EnemyFactory",f("EnemyFactory")(p=function(e){function o(){return e.apply(this,arguments)||this}return n(o,e),o.create=function(){var e=t(r().mark((function e(n,t,o,s,c){var p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getSys(i).createNode(u.ENEMYT_ROOT_PATH+"/enemy0");case 2:return(p=e.sent).parent=t,p.position=n,null==p.getComponent(y)&&p.addComponent(y),p.getComponent(y).init(o,s,c),e.abrupt("return",p);case 8:case"end":return e.stop()}}),e)})));return function(n,t,r,o,s){return e.apply(this,arguments)}}(),o}(c))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyMoveCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Misc.ts","./SysMgr.ts","./GameData.ts","./GameDlgCom.ts","./DlgSys.ts","./GameSys.ts","./PoolSys.ts","./BlockObjCom.ts","./PlistFactory.ts","./GameTimeCom.ts","./SceneObjCom.ts","./FireMoveCom.ts"],(function(e){"use strict";var t,o,i,s,n,r,a,h,d,c,m,l,g,p,y,u,v,f,C,S,b,D;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){n=e.cclegacy,r=e._decorator,a=e.Vec3,h=e.Vec2,d=e.ParticleSystem2D},function(e){c=e.ComBase},function(e){m=e.Misc},function(e){l=e.SysMgr},function(e){g=e.GameData},function(e){p=e.GameDlgCom},function(e){y=e.DlgSys},function(e){u=e.GameSys},function(e){v=e.PoolSys},function(e){f=e.BlockObjCom},function(e){C=e.PlistFactory},function(e){S=e.GameTimeCom},function(e){b=e.SceneObjCom},function(e){D=e.FireMoveCom}],execute:function(){var x;n._RF.push({},"2bd39kSfE9DE7qpqHcYp4Ll","EnemyMoveCom",void 0);var O=r.ccclass;r.property,e("EnemyMoveCom",O("EnemyMoveCom")(x=function(e){function n(){for(var t,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).dir=void 0,t.speed=30,t.loveAddSpeed=30,t.radius=10,t.rotSpeed=2,t.isInLove=!1,t.target=void 0,t.gameSys=void 0,t.sceneObjCom=void 0,t.blockObjCom=void 0,t.gameProp=void 0,t.enemyChangeDirY=100,t.isChangeDir=!1,t}t(n,e);var r=n.prototype;return r.init=function(e,t,o){this.dir=e,this.node.angle=m.dirToAngle(e),this.isInLove=!1,this.target=null,this.gameSys=l.getSys(u),this.gameProp=this.gameSys.gameProp,this.sceneObjCom=this.gameSys.getCom(b),this.blockObjCom=this.gameSys.getCom(f),this.speed=t;var i=g.data.get(0);this.radius=i.radius,this.loveAddSpeed=i.loveAddSpeed,this.enemyChangeDirY=o,this.isChangeDir=!1},r.loop=function(e){var t=this.node.position;if(this.isInLove){if(this.refreshTarget(),null==this.target)return;(n=new h(this.target.position.x-t.x,this.target.position.y-t.y)).normalize();var o=m.dirToAngle(n),i=m.dirToAngle(this.dir),s=this.rotSpeed;Math.abs(o-i)<s&&(s=Math.abs(o-i)),o-i<0&&(s=-s),this.dir=m.addAngleDir(this.dir,s),this.node.angle=i+s,this.node.position=new a(this.dir.x*(this.speed+this.loveAddSpeed)*e+t.x,this.dir.y*(this.speed+this.loveAddSpeed)*e+t.y,0)}else if(t.y>=this.enemyChangeDirY)this.node.angle=180,this.node.position=new a(t.x,-this.speed*e+t.y,0);else{var n;if(!this.isChangeDir)(n=new h(this.gameSys.heroNode.position.x-t.x,this.gameSys.heroNode.position.y-t.y)).normalize(),this.isChangeDir=!0,this.dir=n;this.node.angle=m.dirToAngle(this.dir),this.node.position=new a(this.dir.x*this.speed*e+t.x,this.dir.y*this.speed*e+t.y,0)}},r.refreshTarget=function(){var e=this.blockObjCom.getEnemyArr(this.node.position,500),t=this.sceneObjCom.getAllDelSet();if(null==this.target||t.has(this.target))for(var i,s=9999,n=o(e);!(i=n()).done;){var r=i.value;if(this.sceneObjCom.checkHaveEnemy(r)&&r!=this.node){var h=a.distance(r.position,this.node.position);h<s&&(s=h,this.target=r)}}},r.destroySelf=function(e){(void 0===e&&(e=!0),this.isInLove)&&(this.node.getChildByName("loveNode").getComponent(d).stopSystem(),l.getSys(v).destroyNode(this.node.getChildByName("loveNode")));e&&this.gameProp.setData({score:this.gameProp.score+2}),this.sceneObjCom.destroyObj(this.node),C.create("explode",this.node.position,l.getSys(u).sceneNode)},r.collision=function(){var e=i(s().mark((function e(t){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.getComponent(D)||!t.getComponent(D).isLove){e.next=12;break}return this.isInLove=!0,o=g.data.get(0),this.gameSys.getCom(S).addTimer(this,"destroySelf",o.loveTime,!1),this.sceneObjCom.changeLove(this.node),e.next=7,C.create("love",a.ZERO,this.node);case 7:e.sent.name="loveNode",C.create("explode",this.node.position,l.getSys(u).sceneNode),e.next=13;break;case 12:t==l.ins.getCom(y).getDlg(p).getComponent(p).getHeroNode()?this.destroySelf(!1):this.destroySelf(!0);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n}(c))||x);n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyStopCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./SysMgr.ts","./GameSys.ts"],(function(t){"use strict";var o,e,s,i,n,r;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator},function(t){i=t.ComBase},function(t){n=t.SysMgr},function(t){r=t.GameSys}],execute:function(){var a;e._RF.push({},"e1767FNZIlKp4/p8/WoxM0w","EnemyStopCom",void 0);var p=s.ccclass;s.property,t("EnemyStopCom",p("EnemyStopCom")(a=function(t){function e(){for(var o,e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return(o=t.call.apply(t,[this].concat(s))||this).gameSys=void 0,o.gameProp=void 0,o.addTime=0,o.perSecond=1,o.isInStop=!1,o}o(e,t);var s=e.prototype;return s.init=function(){this.gameSys=n.getSys(r),this.gameProp=this.gameSys.gameProp},s.stopEnemy=function(){this.gameProp.setData({isEnemyStop:!0}),this.isInStop=!0,this.addTime=0},s.loop=function(t){this.isInStop&&(this.addTime+=t,this.addTime>this.perSecond&&(this.gameProp.setData({isEnemyStop:!1}),this.isInStop=!1))},e}(i))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/EventDefine.ts",["cc"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy,c=e._decorator}],execute:function(){var n,r;t._RF.push({},"76d3fMKGVtEbb2Ex44JRrfX","EventDefine",void 0);var i=c.ccclass;c.property,e("EventDefine",i("EventDefine")(((r=function(){}).CREATE_ORDER="createOrder",r.CLICK_SCREEN="clickScreen",r.SELECT_OPERATION="selectOperation",n=r))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/EventProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts","./DestroyCB.ts"],(function(e){"use strict";var t,r,n,a,s,o,u;return{setters:[function(e){t=e.createForOfIteratorHelperLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,s=e._decorator},function(e){o=e.PropBase},function(e){u=e.DestroyCB}],execute:function(){var c,i;a._RF.push({},"179ecV128lM47X8AeO8MJui","EventProp",void 0);var p=s.ccclass;s.property,e("EventProp",p("EventProp")(((i=function(){function e(){this.funcMap=new Map}var a=e.prototype;return a.watch=function(e,t,r){this.funcMap.has(e)||this.funcMap.set(e,new Map);var n=this.funcMap.get(e);n.has(t)||n.set(t,new Array),n.get(t).push(r),null==t[o.propName]&&(t[o.propName]=new Set),t[o.propName].add(this),u.addCb(t,this,"onObjDestroy")},a.onObjDestroy=function(e){for(var r,n=e[o.propName],a=t(n);!(r=a()).done;){r.value.removeWatch(e)}},a.setData=function(){var e=r(n().mark((function e(t,r){var a,s,o,u,c,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:a=new Array,e.t0=n().keys(t);case 4:if((e.t1=e.t0()).done){e.next=13;break}if(s=e.t1.value,o=t[s],this[s]!=o){e.next=9;break}return e.abrupt("continue",4);case 9:this[s]=o,a.push(s),e.next=4;break;case 13:u=0,c=a;case 15:if(!(u<c.length)){e.next=22;break}return i=c[u],e.next=19,this.runCb(i,r);case 19:u++,e.next=15;break;case 22:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),a.removeWatch=function(e){this.funcMap.forEach((function(t,r){null!=t&&t.has(e)&&t.delete(e)}))},a.runCb=function(){var e=r(n().mark((function e(r,a){var s,o,u,c,i,p,f,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.funcMap.has(r)){e.next=2;break}return e.abrupt("return");case 2:s=this.funcMap.get(r),o=t(s.keys());case 4:if((u=o()).done){e.next=16;break}c=u.value,i=s.get(c),p=t(i);case 8:if((f=p()).done){e.next=14;break}return h=f.value,e.next=12,c[h](a);case 12:e.next=8;break;case 14:e.next=4;break;case 16:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),e}()).propName="_myProp",c=i))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/EventSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./EventDefine.ts","./EventProp.ts"],(function(t){"use strict";var e,n,r,o,s,c,i,a,u;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator},function(t){i=t.SysBase},function(t){a=t.EventDefine},function(t){u=t.EventProp}],execute:function(){var v;s._RF.push({},"6e568HXgBdKlIWTb0MgGCl7","EventSys",void 0);var p=c.ccclass;c.property,t("EventSys",p("EventSys")(v=function(t){function s(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).eventProp=void 0,e.eventList=[a.CREATE_ORDER,a.CLICK_SCREEN,a.SELECT_OPERATION],e}e(s,t);var c=s.prototype;return c.onLoad=function(){this.eventProp=new u;for(var t,e=n(this.eventList);!(t=e()).done;){var r=t.value;this.eventProp[r]=0}},c.watchEvent=function(t,e,n){this.eventProp.watch(t,e,n)},c.runEvent=function(){var t=r(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new Object)[e]=this.eventProp[e]+1,t.next=4,this.eventProp.setData(r,n);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),s}(i))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/FireData.ts",["cc"],(function(e){"use strict";var s,i;return{setters:[function(e){s=e.cclegacy,i=e._decorator}],execute:function(){var u,a;s._RF.push({},"a9298uhHRxIEZ/pPfhlFp6E","FireData",void 0);var d=i.ccclass;i.property,e("FireData",d("FireData")(((a=function(){}).data=new Map([[0,{num:0,prefab:"fire0",cost:1,isPenetrate:!0,isBounce:!0,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:10,shotNum:3,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:""}],[1,{num:1,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[2,{num:2,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"3"}],[3,{num:3,prefab:"fire0",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:5,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"5"}],[4,{num:4,prefab:"fire0",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:9,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"9"}],[5,{num:5,prefab:"fire1",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!1,time:4,speed:1200,radius:25,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[6,{num:6,prefab:"fire1",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!1,time:4,speed:1200,radius:25,branchNum:2,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"2"}],[7,{num:7,prefab:"fire1",cost:3,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!1,time:4,speed:1200,radius:25,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"3"}],[8,{num:8,prefab:"fire0",cost:1,isPenetrate:!0,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[9,{num:9,prefab:"fire0",cost:1,isPenetrate:!0,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:2,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"2"}],[10,{num:10,prefab:"fire0",cost:2,isPenetrate:!0,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:4,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"4"}],[11,{num:11,prefab:"fire0",cost:-1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:4,shotNum:-1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"4X"}],[12,{num:12,prefab:"fire0",cost:0,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:2,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"12"}],[13,{num:13,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:4,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"14"}],[14,{num:14,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:2,shotNum:2,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"22"}],[15,{num:15,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!0,time:4,speed:1200,radius:10,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[16,{num:16,prefab:"fire0",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!0,time:4,speed:1200,radius:10,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"3"}],[17,{num:17,prefab:"fire1",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!0,time:4,speed:1200,radius:25,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[18,{num:18,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!0,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[19,{num:19,prefab:"fire0",cost:2,isPenetrate:!1,isBounce:!0,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"3"}],[20,{num:20,prefab:"fire0",cost:4,isPenetrate:!1,isBounce:!0,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"6"}],[21,{num:21,prefab:"",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:1,addShotNum:0,isFreeze:!1,quality:0,desc:"+1"}],[22,{num:22,prefab:"",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:1,isFreeze:!1,quality:0,desc:"+1"}],[23,{num:23,prefab:"",cost:1,isPenetrate:!0,isBounce:!1,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"buff"}],[24,{num:24,prefab:"",cost:1,isPenetrate:!1,isBounce:!0,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"buff"}],[25,{num:25,prefab:"",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"buff"}],[26,{num:26,prefab:"",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!0,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"buff"}],[27,{num:27,prefab:"",cost:0,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!0,quality:0,desc:""}]]),u=a))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/FireDataData.ts",["cc"],(function(e){"use strict";var s,i;return{setters:[function(e){s=e.cclegacy,i=e._decorator}],execute:function(){var u,a;s._RF.push({},"39e9djBHr9KW7aIlTV8PbfH","FireDataData",void 0);var d=i.ccclass;i.property,e("FireDataData",d("FireDataData")(((a=function(){}).data=new Map([[0,{num:0,prefab:"fire0",cost:1,isPenetrate:!0,isBounce:!0,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:10,shotNum:3,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:""}],[1,{num:1,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[2,{num:2,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"3"}],[3,{num:3,prefab:"fire0",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:5,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"5"}],[4,{num:4,prefab:"fire0",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:9,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"9"}],[5,{num:5,prefab:"fire1",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!1,time:4,speed:1200,radius:25,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[6,{num:6,prefab:"fire1",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!1,time:4,speed:1200,radius:25,branchNum:2,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"2"}],[7,{num:7,prefab:"fire1",cost:3,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!1,time:4,speed:1200,radius:25,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"3"}],[8,{num:8,prefab:"fire0",cost:1,isPenetrate:!0,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[9,{num:9,prefab:"fire0",cost:1,isPenetrate:!0,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:2,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"2"}],[10,{num:10,prefab:"fire0",cost:2,isPenetrate:!0,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:4,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"4"}],[11,{num:11,prefab:"fire0",cost:-1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:4,shotNum:-1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"4X"}],[12,{num:12,prefab:"fire0",cost:0,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:2,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"12"}],[13,{num:13,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:4,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"14"}],[14,{num:14,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:2,shotNum:2,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"22"}],[15,{num:15,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!0,time:4,speed:1200,radius:10,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[16,{num:16,prefab:"fire0",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!0,time:4,speed:1200,radius:10,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"3"}],[17,{num:17,prefab:"fire1",cost:2,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!0,time:4,speed:1200,radius:25,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[18,{num:18,prefab:"fire0",cost:1,isPenetrate:!1,isBounce:!0,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:1,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"1"}],[19,{num:19,prefab:"fire0",cost:2,isPenetrate:!1,isBounce:!0,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"3"}],[20,{num:20,prefab:"fire0",cost:4,isPenetrate:!1,isBounce:!0,isExplode:!1,isLove:!1,time:4,speed:1200,radius:10,branchNum:3,shotNum:1,isBuff:!1,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"6"}],[21,{num:21,prefab:"",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:1,addShotNum:0,isFreeze:!1,quality:0,desc:"+1"}],[22,{num:22,prefab:"",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:1,isFreeze:!1,quality:0,desc:"+1"}],[23,{num:23,prefab:"",cost:1,isPenetrate:!0,isBounce:!1,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"buff"}],[24,{num:24,prefab:"",cost:1,isPenetrate:!1,isBounce:!0,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"buff"}],[25,{num:25,prefab:"",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!0,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"buff"}],[26,{num:26,prefab:"",cost:1,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!0,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!1,quality:0,desc:"buff"}],[27,{num:27,prefab:"",cost:0,isPenetrate:!1,isBounce:!1,isExplode:!1,isLove:!1,time:0,speed:0,radius:0,branchNum:0,shotNum:0,isBuff:!0,addBranchNum:0,addShotNum:0,isFreeze:!0,quality:0,desc:""}]]),u=a))||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/FireFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./PoolSys.ts","./FireMoveCom.ts"],(function(e){"use strict";var t,r,n,o,s,c,i,u,a,p;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator},function(e){c=e.ComBase},function(e){i=e.ResourcesPathDefine},function(e){u=e.SysMgr},function(e){a=e.PoolSys},function(e){p=e.FireMoveCom}],execute:function(){var f;o._RF.push({},"e9cd1knWepE8pp8DZmXupGj","FireFactory",void 0);var y=s.ccclass;s.property,e("FireFactory",y("FireFactory")(f=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.create=function(){var e=r(n().mark((function e(t,r,o,s){var c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getSys(a).createNode(i.FIRE_ROOT_PATH+"/"+t.prefab);case 2:return(c=e.sent).parent=o,c.position=r,null==c.getComponent(p)&&c.addComponent(p),c.getComponent(p).init(t,s),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),o}(c))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/FireMoveCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Misc.ts","./SysMgr.ts","./GameSys.ts","./BlockObjCom.ts","./AnimFactory.ts","./AutoEnemyCreateCom.ts","./GameTimeCom.ts","./SceneObjCom.ts","./EnemyMoveCom.ts"],(function(t){"use strict";var e,i,n,s,r,o,u,a,c,h,d,f,p,l,y,m,g,x;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime,s=t.createForOfIteratorHelperLoose},function(t){r=t.cclegacy,o=t._decorator,u=t.Vec3,a=t.Vec2},function(t){c=t.ComBase},function(t){h=t.Misc},function(t){d=t.SysMgr},function(t){f=t.GameSys},function(t){p=t.BlockObjCom},function(t){l=t.AnimFactory},function(t){y=t.AutoEnemyCreateCom},function(t){m=t.GameTimeCom},function(t){g=t.SceneObjCom},function(t){x=t.EnemyMoveCom}],execute:function(){var C;r._RF.push({},"417e0gTxbVBAL5jenUimcqU","FireMoveCom",void 0);var v=o.ccclass;o.property,t("FireMoveCom",v("FireMoveCom")(C=function(t){function r(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).dir=void 0,e.speed=void 0,e.isPenetrate=!1,e.isBounce=!1,e.isExplode=!1,e.isLove=!1,e.time=4,e.radius=40,e.up=300,e.down=-300,e.left=-200,e.right=200,e.bounceCount=0,e.bounceCountMaxCount=3,e}e(r,t);var o=r.prototype;return o.init=function(t,e){this.dir=e,this.node.angle=h.dirToAngle(e),this.speed=t.speed,this.isPenetrate=t.isPenetrate,this.isBounce=t.isBounce,this.isExplode=t.isExplode,this.isLove=t.isLove,this.time=t.time,this.radius=t.radius,d.getSys(f).getCom(m).addTimer(this,"_delayDestroySelf",this.time);var i=d.getSys(f).getCom(y);this.up=i.up,this.down=i.down,this.left=i.left,this.right=i.right,this.bounceCount=0},o.loop=function(){var t=i(n().mark((function t(e){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.node.position,this.node.position=new u(this.dir.x*this.speed*e+i.x,this.dir.y*this.speed*e+i.y,0),t.next=4,this.checkBoundary();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.checkBoundary=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.node.position,!(this.isBounce&&this.bounceCount<this.bounceCountMaxCount)){t.next=8;break}e.x-this.radius<=this.left&&(this.dir=new a(-this.dir.x,this.dir.y),this.node.angle=h.dirToAngle(this.dir),this.bounceCount++),e.x+this.radius>=this.right&&(this.dir=new a(-this.dir.x,this.dir.y),this.node.angle=h.dirToAngle(this.dir),this.bounceCount++),e.y+this.radius>=this.up&&(this.dir=new a(this.dir.x,-this.dir.y),this.node.angle=h.dirToAngle(this.dir),this.bounceCount++),e.y-this.radius<=this.down&&(this.dir=new a(this.dir.x,-this.dir.y),this.node.angle=h.dirToAngle(this.dir),this.bounceCount++),t.next=11;break;case 8:if(!(e.x-this.radius<=this.left||e.x+this.radius>=this.right||e.y+this.radius>=this.up||e.y-this.radius<=this.down)){t.next=11;break}return t.next=11,this.destroySelf();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o._delayDestroySelf=function(){var t=i(n().mark((function t(){var e,i,r,o,a,c;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.getSys(f).getCom(g).destroyObj(this.node),!this.isExplode){t.next=17;break}e=d.getSys(f).getCom(p).getEnemyArr(this.node.position,40),i=d.getSys(f).getCom(g),r=this.node.position,o=s(e);case 6:if((a=o()).done){t.next=16;break}if(c=a.value,i.checkHaveEnemy(c)){t.next=10;break}return t.abrupt("continue",14);case 10:if(!(u.distance(c.position,r)<40+c.getComponent(x).radius)){t.next=14;break}return t.next=14,c.getComponent(x).collision(this.node);case 14:t.next=6;break;case 16:l.create("boom0",r,d.getSys(f).sceneNode);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.collision=function(){var t=i(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isPenetrate){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.destroySelf();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.destroySelf=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.getSys(f).getCom(m).removeTimer(this,"_delayDestroySelf"),t.next=3,this._delayDestroySelf();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r}(c))||C);r._RF.pop()}}}));

System.register("chunks:///_virtual/Functor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DestroyCB.ts"],(function(t){"use strict";var n,r,o,c;return{setters:[function(t){n=t.construct},function(t){r=t.cclegacy,o=t._decorator},function(t){c=t.DestroyCB}],execute:function(){var e;r._RF.push({},"73817TM5PxA75tPEv4ELPto","Functor",void 0);var s=o.ccclass;o.property,t("Functor",s("Functor")(e=function(){function t(t,n){this.obj=void 0,this.funcName=void 0,this.arg=void 0,this.isDestroy=!1,this.obj=t,this.funcName=n;for(var r=arguments.length,o=new Array(r>2?r-2:0),c=2;c<r;c++)o[c-2]=arguments[c];this.arg=o}var r=t.prototype;return r.onObjDestroy=function(t){this.isDestroy=!0},r.runCbFunc=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==this.obj||null==this.obj[this.funcName]||this.isDestroy||(t=this.obj)[this.funcName].apply(t,this.arg.concat(r))},t.getFunc=function(r,o){for(var e=arguments.length,s=new Array(e>2?e-2:0),u=2;u<e;u++)s[u-2]=arguments[u];var i=n(t,[r,o].concat(s));return c.addCb(r,i,"onObjDestroy"),i.runCbFunc.bind(i)},t.getNotWatchDestroyFunc=function(r,o){for(var c=arguments.length,e=new Array(c>2?c-2:0),s=2;s<c;s++)e[s-2]=arguments[s];var u=n(t,[r,o].concat(e));return u.runCbFunc.bind(u)},t}())||e);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["cc"],(function(e){"use strict";var a,t;return{setters:[function(e){a=e.cclegacy,t=e._decorator}],execute:function(){var c,r;a._RF.push({},"bddf99xfYpCdLcdeiiCn3Y9","GameData",void 0);var o=t.ccclass;t.property,e("GameData",o("GameData")(((r=function(){}).data=new Map([[0,{num:0,numRatio:2,speedRatio:15,hp:3,maxCost:4,loveTime:5,loveAddSpeed:30,rotSpeed:2,radius:10}]]),c=r))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/GameDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(e){"use strict";var i,t,o,d;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator},function(e){d=e.DlgBase}],execute:function(){var m,s;t._RF.push({},"3f5552rQ1lIyolU4N7r/u/P","GameDlg",void 0);var h=o.ccclass;o.property,e("GameDlg",h("GameDlg")(((s=function(e){function t(){for(var i,t=arguments.length,o=new Array(t),d=0;d<t;d++)o[d]=arguments[d];return(i=e.call.apply(e,[this].concat(o))||this).m_TouchBg=void 0,i.m_SceneNode=void 0,i.m_ExitBtn=void 0,i.m_FirePosNode=void 0,i.m_FireTip0=void 0,i.m_HeroSprite=void 0,i.m_LeftNode=void 0,i.m_RightNode=void 0,i.m_UpNode=void 0,i.m_DownNode=void 0,i.m_CardCenterPos=void 0,i.m_AddCardPos=void 0,i.m_HpLabel=void 0,i.m_CostLabel=void 0,i.m_LevelLabel=void 0,i.m_EnemyChangeDirNode=void 0,i.m_DescLabel=void 0,i.m_DescSprite=void 0,i}return i(t,e),t.prototype.initDlg=function(e){this.m_TouchBg=this.node.getChildByName("m_TouchBg"),this.m_SceneNode=this.node.getChildByName("m_SceneNode"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn"),this.m_FirePosNode=this.node.getChildByName("m_HeroSprite").getChildByName("m_FirePosNode"),this.m_FireTip0=this.node.getChildByName("m_HeroSprite").getChildByName("m_FireTip0"),this.m_HeroSprite=this.node.getChildByName("m_HeroSprite"),this.m_LeftNode=this.node.getChildByName("m_LeftNode"),this.m_RightNode=this.node.getChildByName("m_RightNode"),this.m_UpNode=this.node.getChildByName("m_UpNode"),this.m_DownNode=this.node.getChildByName("m_DownNode"),this.m_CardCenterPos=this.node.getChildByName("m_CardCenterPos"),this.m_AddCardPos=this.node.getChildByName("m_AddCardPos"),this.m_HpLabel=this.node.getChildByName("m_HpLabel"),this.m_CostLabel=this.node.getChildByName("m_CostLabel"),this.m_LevelLabel=this.node.getChildByName("m_LevelLabel"),this.m_EnemyChangeDirNode=this.node.getChildByName("m_EnemyChangeDirNode"),this.m_DescLabel=this.node.getChildByName("m_DescSprite").getChildByName("m_DescLabel"),this.m_DescSprite=this.node.getChildByName("m_DescSprite")},t}(d)).UI_PATH="GameDlg",m=s))||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./Misc.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./FireData.ts","./BuffCom.ts","./CardMgrCom.ts","./CostCom.ts","./EnemyStopCom.ts","./AutoEnemyCreateCom.ts","./SceneObjCom.ts","./GameSys.ts","./TimeSys.ts","./GameDlg.ts","./BubbleTipDlgCom.ts","./CollideCom.ts"],(function(e){"use strict";var t,i,s,o,r,n,a,c,m,h,u,g,p,f,C,l,d,y,S,v,_,D,P,b,N,w;return{setters:[function(e){t=e.inheritsLoose,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,r=e._decorator,n=e.Label,a=e.Animation,c=e.KeyCode,m=e.Vec2},function(e){h=e.ClickFunctor},function(e){u=e.Misc},function(e){g=e.ResourceLoader},function(e){p=e.ResourcesPathDefine},function(e){f=e.SysMgr},function(e){C=e.FireData},function(e){l=e.BuffCom},function(e){d=e.CardMgrCom},function(e){y=e.CostCom},function(e){S=e.EnemyStopCom},function(e){v=e.AutoEnemyCreateCom},function(e){_=e.SceneObjCom},function(e){D=e.GameSys},function(e){P=e.TimeSys},function(e){b=e.GameDlg},function(e){N=e.BubbleTipDlgCom},function(e){w=e.CollideCom}],execute:function(){var F;o._RF.push({},"8dc5djH/t1M6aElq2gHfKL8","GameDlgCom",void 0);var x=r.ccclass;r.property,e("GameDlgCom",x("GameDlgCom")(F=function(e){function o(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).data=void 0,t.gameSys=void 0,t.timeSys=void 0,t.audioSys=void 0,t.blockMap=void 0,t.gameProp=void 0,t.selectCard=void 0,t.codeDict=new Map([[c.KEY_Q,0],[c.KEY_W,1],[c.KEY_E,2],[c.KEY_R,3]]),t.tipNode=new Map,t}t(o,e);var r=o.prototype;return r.initDlg=function(){var t=i(s().mark((function t(i){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.initDlg.call(this,i),this.gameSys=f.getSys(D),this.timeSys=f.getSys(P),this.gameProp=this.gameSys.gameProp,this.m_ExitBtn.on("click",h.getFunc(this,"onExitClick"),this),t.next=7,this.initCreateFileTip();case 7:return this.resetActive(),this.selectCard=-1,this.gameSys.sceneNode=this.m_SceneNode,this.gameSys.heroNode=this.m_HeroSprite,this.gameSys.getCom(v).setBoundary(this.m_UpNode.position.y,this.m_DownNode.position.y,this.m_LeftNode.position.x,this.m_RightNode.position.x,this.m_EnemyChangeDirNode.position.y),t.next=14,this.gameSys.getCom(d).initCardView(this.node,this.m_CardCenterPos.position,this.m_AddCardPos.position,this.m_DescLabel);case 14:this.gameSys.getCom(y).initCardView(this.m_CardCenterPos.position,this.m_AddCardPos.position),this.gameSys.getCom(w).initHeroNode(),this.gameProp.watchRun("level",this,"refreshLevel"),this.gameProp.watchRun("hp",this,"refreshHp"),this.gameProp.watchRun("cost",this,"refreshCost"),this.gameProp.watchRun("isStop",this,"refreshStop");case 20:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.refreshStop=function(e){this.resetActive()},r.refreshLevel=function(e){this.m_LevelLabel.getComponent(n).string=""+e.level.toString()},r.refreshHp=function(e){var t=e.hp;t<0&&(t=0),this.m_HpLabel.getComponent(n).string=""+t.toString()},r.refreshCost=function(e){this.m_CostLabel.getComponent(n).string=e.cost.toString()},r.setDescLabel=function(e){""!=e?(this.m_DescSprite.active=!0,this.m_DescSprite.getComponent(a).resume(),this.m_DescSprite.getComponent(a).play(),this.m_DescLabel.getComponent(n).string=e):this.m_DescSprite.active=!1},r.setHeroDir=function(e){e.y<0&&(e.y=0,e.normalize()),this.m_HeroSprite.angle=u.dirToAngle(e)},r.initCreateFileTip=function(){var e=i(s().mark((function e(){var t,i,o,r,n,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(t=12)/2,o=this.gameProp.fireBranchAngle,r=-i*o,n=0;case 5:if(!(n<t)){e.next=17;break}return e.next=8,g.insNode(p.FIRE_TIP_ROOT_PATH+"/FireNode");case 8:(a=e.sent).parent=this.m_FirePosNode,(c=n-i)<0?c=2*(c=-c)-1:c*=2,a.angle=r+n*o,this.tipNode.set(c,a);case 14:n++,e.next=5;break;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.getHeroNode=function(){return this.m_HeroSprite},r.cardClick=function(e){var t=this.gameSys.getCom(d).getCardNum(e);if(null!=t){var i=C.data.get(t);if(this.gameSys.getCom(l).resetFire(),this.gameSys.getCom(d).selectCard(e),this.selectCard=t,i.isBuff)this.resetActive(),this.m_FireTip0.active=!0;else{this.gameSys.getCom(l).refreshData(i);var s=this.gameSys.getCom(l).branchNum;this.resetActive(),this.showBranchTip(s)}}},r.beginFire=function(){var e=i(s().mark((function e(t){var i,o,r,n,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(i=this.gameSys.getCom(d).getCardNum(t))){e.next=3;break}return e.abrupt("return");case 3:if(this.selectCard==i){e.next=5;break}return e.abrupt("return");case 5:if(o=C.data.get(i),!(this.gameProp.cost<o.cost)||o.cost<0&&this.gameProp.cost>0){e.next=11;break}return this.resetActive(),this.gameSys.getCom(l).resetFire(),N.createTip(""),e.abrupt("return");case 11:r=null,o.cost<0&&this.gameProp.cost>0?(r=this.gameProp.cost,this.gameProp.setData({cost:0})):this.gameProp.setData({cost:this.gameProp.cost-o.cost}),this.resetActive(),(o=C.data.get(i)).isBuff?(this.gameSys.getCom(l).refreshBuffData(o),this.gameSys.getCom(d).removeCard(t),o.isFreeze&&this.gameSys.getCom(S).stopEnemy()):(n=this.m_HeroSprite.worldPosition,a=this.m_FirePosNode.worldPosition,(c=new m(a.x-n.x,a.y-n.y)).normalize(),this.gameSys.getCom(d).removeCard(t),this.gameSys.getCom(_).createFire(this.m_HeroSprite.position,this.m_SceneNode,c,r),this.gameSys.getCom(l).resetFire(),this.gameSys.getCom(l).resetBuff());case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.showBranchTip=function(e){if(e%2==0)for(var t=1;t<=e;t++)this.tipNode.get(t).active=!0;else for(t=0;t<e;t++)this.tipNode.get(t).active=!0},r.resetActive=function(){this.tipNode.forEach((function(e,t){e.active=!1})),this.m_FireTip0.active=!1},r.onExitClick=function(){this.gameSys.closeGame()},o}(b))||F);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts","./GameData.ts"],(function(t){"use strict";var e,r,o,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator},function(t){s=t.PropBase},function(t){a=t.GameData}],execute:function(){var n;r._RF.push({},"fd655Zs8J9B2qpuXUsx2lLl","GameProp",void 0);var c=o.ccclass;o.property,t("GameProp",c("GameProp")(n=function(t){function r(){var e;(e=t.call(this)||this).fireBranchAngle=15,e.level=0,e.hp=3,e.cost=4,e.maxCost=4,e.score=0,e.retryCount=1,e.isStart=!1,e.isStop=!1,e.isEnemyStop=!1;var r=a.data.get(0);return e.hp=r.hp,e.maxCost=r.maxCost,e}return e(r,t),r}(s))||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/GameRandomUtils.ts",["cc"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy,n=e._decorator}],execute:function(){var i,o;t._RF.push({},"6e469nDp7JA+5AlvMHecifF","GameRandomUtils",void 0);var s=n.ccclass;n.property,e("GameRandomUtils",s("GameRandomUtils")(((o=function(){function e(){}return e.init=function(t){e.seed=t},e.gameRandomNum=function(e,t){return this.seed=(9301*this.seed+49297)%233280,e+this.seed/233280*(t-e)},e.gameRandomBool=function(){return e.gameRandomNum(0,2)>1},e}()).seed=void 0,i=o))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./SysMgr.ts","./GameProp.ts","./DlgSys.ts","./GameDlgCom.ts","./SceneObjCom.ts","./AutoEnemyCreateCom.ts","./BuffCom.ts","./BlockObjCom.ts","./GameTimeCom.ts","./CollideCom.ts","./CardMgrCom.ts","./CostCom.ts","./EnemyStopCom.ts","./ResultDlgCom.ts"],(function(t){"use strict";var o,e,i,n,s,r,m,a,c,u,l,C,h,p,f,d,g,y,v,S;return{setters:[function(t){o=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,s=t._decorator},function(t){r=t.SysBase},function(t){m=t.SysMgr},function(t){a=t.GameProp},function(t){c=t.DlgSys},function(t){u=t.GameDlgCom},function(t){l=t.SceneObjCom},function(t){C=t.AutoEnemyCreateCom},function(t){h=t.BuffCom},function(t){p=t.BlockObjCom},function(t){f=t.GameTimeCom},function(t){d=t.CollideCom},function(t){g=t.CardMgrCom},function(t){y=t.CostCom},function(t){v=t.EnemyStopCom},function(t){S=t.ResultDlgCom}],execute:function(){var G;n._RF.push({},"7bbdamNSyhFeLZ+1OVUJeT3","GameSys",void 0);var T=s.ccclass;s.property,t("GameSys",T("GameSys")(G=function(t){function n(){for(var o,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(o=t.call.apply(t,[this].concat(i))||this).gameProp=void 0,o.sceneNode=void 0,o.heroNode=void 0,o.loopTime=.01,o}o(n,t);var s=n.prototype;return s.onLoad=function(){this.gameProp=new a},s.startGame=function(){var t=e(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.gameProp=new a,this.addCom(f).init(),this.addCom(l).init(),this.addCom(C).init(),this.addCom(h).init(),this.addCom(p).init(),this.addCom(d).init(),this.addCom(g).init(),this.addCom(y).init(),this.addCom(v).init(),t.next=12,m.ins.getCom(c).createDlg(u);case 12:this.getCom(f).addTimer(this,"loop",this.loopTime,!0),this.gameProp.setData({isStart:!0}),this.gameProp.watch("isStart",this,"endGame");case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.loop=function(){var t=e(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.getCom(d).loop(this.loopTime),t.next=3,this.getCom(C).loop(this.loopTime);case 3:this.getCom(p).loop(this.loopTime),this.getCom(l).loop(),this.getCom(y).loop(this.loopTime),this.getCom(v).loop(this.loopTime);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.endGame=function(t){t.isStart||m.ins.getCom(c).createDlg(S,t.level)},s.closeGame=function(){var t=this;this.getCom(f).removeTimer(this,"loop"),setTimeout((function(){m.ins.getCom(c).closeDlg(u),t.removeAllCom()}),.1)},s.restartGame=function(){var t=this;this.getCom(f).removeTimer(this,"loop"),setTimeout((function(){m.ins.getCom(c).closeDlg(u),t.removeAllCom(),t.startGame()}),.1)},n}(r))||G);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameTimeCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./DestroyCB.ts","./Functor.ts","./SysMgr.ts","./GameSys.ts","./TimeSys.ts"],(function(t){"use strict";var e,r,n,a,i,s,o,u,c,p,f,h;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t._decorator},function(t){o=t.SysBase},function(t){u=t.DestroyCB},function(t){c=t.Functor},function(t){p=t.SysMgr},function(t){f=t.GameSys},function(t){h=t.TimeSys}],execute:function(){var l,m;i._RF.push({},"5220bK8crRENKXXyjRSfOeI","GameTimeCom",void 0);var E=s.ccclass;s.property,t("GameTimeCom",E("GameTimeCom")(((m=function(t){function i(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).timeMap=new Map,e.nowTime=0,e.timeInterval=1,e.keyInterval=100,e.destroyObj=new Set,e.isStop=!1,e.isStart=!1,e.gameProp=void 0,e}e(i,t);var s=i.prototype;return s.init=function(){p.getSys(h).addTimer(this,"loop",this.timeInterval/this.keyInterval,!0),this.gameProp=p.getSys(f).gameProp,this.gameProp.watchRun("isStop",this,"refreshStop"),this.gameProp.watchRun("isStart",this,"refreshStart")},s.refreshStop=function(t){this.isStop=t.isStop},s.refreshStart=function(t){this.isStart=t.isStart},s.loop=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isStop){t.next=2;break}return t.abrupt("return");case 2:if(this.isStart){t.next=4;break}return t.abrupt("return");case 4:return this.nowTime+=this.timeInterval,t.next=7,this.runTimer();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.addTimer=function(t,e,r,n){void 0===n&&(n=!1);var a=this.nowTime+Math.round(r*this.keyInterval),s=this.timeMap.get(a);null==s&&(s=new Map,this.timeMap.set(a,s));var o=s.get(t);null==o&&(o=new Array,s.set(t,o),u.addCb(t,this,"onObjDestroy"));for(var c=arguments.length,p=new Array(c>4?c-4:0),f=4;f<c;f++)p[f-4]=arguments[f];o.push({isLoop:n,funcName:e,dt:r,args:p});var h=t[i.OBJ_DELETE_SET_KEY];null==h&&(t[i.OBJ_DELETE_SET_KEY]=new Set),t[i.OBJ_DELETE_SET_KEY].add(a)},s.removeTimer=function(t,e){var n=t[i.OBJ_DELETE_SET_KEY];if(null!=n)for(var a,s=r(n);!(a=s()).done;){var o=a.value,u=this.timeMap.get(o);if(null!=u){var c=u.get(t);if(null!=c){var p=-1;for(var f in c)if(c[f].funcName==e){p=Number(f);break}p>-1&&c.splice(p,1)}}}},s.onObjDestroy=function(t){if(null!=this.destroyObj){this.destroyObj.add(t);var e=t[i.OBJ_DELETE_SET_KEY];if(null!=e)for(var n,a=r(e);!(n=a()).done;){var s=n.value,o=this.timeMap.get(s);null!=o&&o.delete(t)}}},s.runTimer=function(){var t=n(a().mark((function t(){var e,i=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=this.timeMap.get(this.nowTime))){t.next=3;break}return t.abrupt("return");case 3:e.forEach(n(a().mark((function t(e,n){var s,o,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}return t.abrupt("return");case 2:s=r(e);case 3:if((o=s()).done){t.next=9;break}return u=o.value,t.next=7,i.runFunc(n,u);case 7:t.next=3;break;case 9:case"end":return t.stop()}}),t)})))),this.timeMap.delete(this.nowTime);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.runFunc=function(){var t=n(a().mark((function t(e,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.getFunc.apply(c,[e,r.funcName].concat(r.args))();case 2:if(!this.destroyObj.has(e)){t.next=4;break}return t.abrupt("return");case 4:if(null!=e[i.OBJ_DELETE_SET_KEY]){t.next=6;break}return t.abrupt("return");case 6:r.isLoop&&(e[i.OBJ_DELETE_SET_KEY].delete(this.nowTime),this.addTimer.apply(this,[e,r.funcName,r.dt,r.isLoop].concat(r.args)));case 7:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),i}(o)).OBJ_DELETE_SET_KEY="_game_time_obj_delete_set_key",l=m))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalVar.ts",["cc"],(function(a){"use strict";var r,c;return{setters:[function(a){r=a.cclegacy,c=a._decorator}],execute:function(){var e,t;r._RF.push({},"ea983HVLKNDd5AaXujzCM2E","GlobalVar",void 0);var o=c.ccclass;c.property,a("GlobalVar",o("GlobalVar")(((t=function(){}).isTest=!0,t.isWX=!1,t.canvas=void 0,t.gamePanel=void 0,e=t))||e);r._RF.pop()}}}));

System.register("chunks:///_virtual/HeroProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts"],(function(r){"use strict";var e,t,o,a;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy,o=r._decorator},function(r){a=r.PropBase}],execute:function(){var c;t._RF.push({},"651acAm/OtF/7HhPiZaeGHA","HeroProp",void 0);var n=o.ccclass;o.property,r("HeroProp",n("HeroProp")(c=function(r){function t(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=r.call.apply(r,[this].concat(o))||this).id="0",e.userId="0",e.gameData="",e.userName="",e.level=0,e.isNetData=!1,e.headUrl="",e}return e(t,r),t}(a))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/HeroSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./HeroProp.ts"],(function(r){"use strict";var e,n,t,o,s,c,i;return{setters:[function(r){e=r.inheritsLoose,n=r.asyncToGenerator,t=r.regeneratorRuntime},function(r){o=r.cclegacy,s=r._decorator},function(r){c=r.SysBase},function(r){i=r.HeroProp}],execute:function(){var u;o._RF.push({},"0e761d9ocFBZJbJYSNZ2TRI","HeroSys",void 0);var a=s.ccclass;s.property,r("HeroSys",a("HeroSys")(u=function(r){function o(){for(var e,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return(e=r.call.apply(r,[this].concat(t))||this).heroProp=void 0,e.isWxInit=!1,e.isInit=!1,e}e(o,r);var s=o.prototype;return s.onLoad=function(){this.heroProp=new i},s.enterMain=function(){var r=n(t().mark((function r(){return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),o}(c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/HttpUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,n,a,u;return{setters:[function(t){e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){n=t.cclegacy,a=t._decorator,u=t.loader}],execute:function(){var s;n._RF.push({},"6f6dc/1bvNGs74CX01uwe8d","HttpUtils",void 0);var o=a.ccclass;a.property,t("HttpUtils",o("HttpUtils")(s=function(){function t(){}return t.httpPost=function(){var n=e(r().mark((function e(n,a,u){var s,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===u&&(u=3),o=0;case 2:if(!(o<u)){e.next=11;break}return e.next=5,t.post(n,a);case 5:if("error"==(s=e.sent)){e.next=8;break}return e.abrupt("return",s);case 8:o++,e.next=2;break;case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,e,r){return n.apply(this,arguments)}}(),t.httpGet=function(){var n=e(r().mark((function e(n,a){var u,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=3),s=0;case 2:if(!(s<a)){e.next=11;break}return e.next=5,t.get(n);case 5:if("error"==(u=e.sent)){e.next=8;break}return e.abrupt("return",u);case 8:s++,e.next=2;break;case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,e){return n.apply(this,arguments)}}(),t.download=function(){var n=e(r().mark((function e(n,a){var u,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===a&&(a=3),s=0;case 2:if(!(s<a)){e.next=11;break}return e.next=5,t.down(n);case 5:if("error"==(u=e.sent)){e.next=8;break}return e.abrupt("return",u);case 8:s++,e.next=2;break;case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,e){return n.apply(this,arguments)}}(),t.post=function(){var t=e(r().mark((function t(e,n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var a=u.getXMLHttpRequest(),s=!1,o=setTimeout((function(){s=!0,a.abort(),t("error")}),5e3);a.onreadystatechange=function(){if(4===a.readyState&&a.status>=200&&a.status<300){var e=a.responseText;if(s)return;clearTimeout(o),t(e)}},a.open("POST",e,!0),a.timeout=5e3,a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(n)})));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),t.get=function(){var t=e(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=u.getXMLHttpRequest(),a=!1,s=setTimeout((function(){a=!0,n.abort(),t("error")}),5e3);n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<300){var e=n.responseText;if(a)return;clearTimeout(s),t(e)}},n.open("GET",e,!0),n.timeout=5e3,n.send()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.down=function(){var t=e(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=u.getXMLHttpRequest(),a=!1,s=setTimeout((function(){a=!0,n.abort(),t("error")}),5e3);n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<300){var e=n.response;if(a)return;var r=new Uint8Array(e);clearTimeout(s),t(r)}},n.responseType="arraybuffer",n.open("GET",e,!0),n.timeout=5e3,n.send()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}())||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/IntervalMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(e){"use strict";var n,t,r,o;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator},function(e){o=e.ComBase}],execute:function(){var a,c;t._RF.push({},"120e9sCZWdBv46ax62cNhOB","IntervalMgr",void 0);var i=r.ccclass;r.property,e("IntervalMgr",i("IntervalMgr")(((c=function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t.checkInterval=function(e,n){if(!t.objMap.has(e))return t.objMap.set(e,t.nowTime),!0;var r=t.objMap.get(e);return t.nowTime-r>n&&(t.objMap.set(e,t.nowTime),!0)},t.loop=function(e){t.nowTime+=e},t}(o)).objMap=new Map,c.nowTime=0,a=c))||a);t._RF.pop()}}}));

System.register("chunks:///_virtual/KeyCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./MulBtnDlgCom.ts","./DlgSys.ts","./CodeReoladTool.ts","./GlobalVar.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts"],(function(t){"use strict";var n,e,r,c,o,u,s,i,a,p,f,l,h,y,d,v,m,k;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){c=t.cclegacy,o=t._decorator,u=t.input,s=t.Input,i=t.KeyCode,a=t.game,p=t.loader},function(t){f=t.ComBase},function(t){l=t.MulBtnDlgCom},function(t){h=t.DlgSys},function(t){y=t.CodeReoladTool},function(t){d=t.GlobalVar},function(t){v=t.ResourceLoader},function(t){m=t.ResourcesPathDefine},function(t){k=t.SysMgr}],execute:function(){var w;c._RF.push({},"25fbfj2Nq5DEoXtBRToBEhY","KeyCom",void 0);var x=o.ccclass;o.property,t("KeyCom",x("KeyCom")(w=function(t){function c(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this).ctrlDown=!1,n.funcDict=new Map([[i.KEY_D,c.prototype.reload],[i.KEY_F,c.prototype.test],[i.F1,c.prototype.testFunc],[i.KEY_P,c.prototype.printMomory],[i.NUM_0,c.prototype.click0],[i.NUM_1,c.prototype.click1],[i.NUM_2,c.prototype.click2],[i.NUM_3,c.prototype.click3],[i.NUM_4,c.prototype.click4],[i.NUM_5,c.prototype.click5],[i.NUM_6,c.prototype.click6],[i.DELETE,c.prototype.delEnemy],[i.KEY_S,c.prototype.saveScene]]),n}n(c,t);var o=c.prototype;return o.onLoad=function(){u.on(s.EventType.KEY_DOWN,this.onKeyDown,this),u.on(s.EventType.KEY_UP,this.onKeyUp,this)},o.click0=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(0);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.click1=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(1);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.click2=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(2);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.click3=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(3);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.click4=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(4);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.click5=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(5);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.click6=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addEnemy(6);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.restartGame=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.addEnemy=function(t){d.isTest},o.delEnemy=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.isTest;case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.saveScene=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o.openSelectDlg=function(){var t=e(r().mark((function t(){var n,e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.loadAsset(m.GAME_DATA_ROOT_PATH+"/max.txt");case 2:return n=t.sent,e=Number(n),t.next=6,k.ins.getCom(h).createDlg(l,{cbFunc:this.openEditDlg,maxLevel:e,greyLevel:e,isShowAdd:!0});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.openEditDlg=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o.onKeyDown=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.keyCode==i.CTRL_LEFT&&(this.ctrlDown=!0),!this.funcDict.has(n.keyCode)){t.next=4;break}return t.next=4,this.funcDict.get(n.keyCode).bind(this)(this.ctrlDown);case 4:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),o.onKeyUp=function(t){t.keyCode==i.CTRL_LEFT&&(this.ctrlDown=!1)},o.reload=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.isTest){t.next=2;break}return t.abrupt("return");case 2:if(!n){t.next=5;break}return t.next=5,y.reload();case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o.testFunc=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.isTest){t.next=2;break}return t.abrupt("return");case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o.test=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.isTest){t.next=2;break}return t.abrupt("return");case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o.restart=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.isTest){t.next=2;break}return t.abrupt("return");case 2:setTimeout((function(){a.restart()}),1e3);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),o.printMomory=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d.isTest){t.next=2;break}return t.abrupt("return");case 2:console.log("cache=",Object.keys(p._cache).length);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),c}(f))||w);c._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Main.ts","./AnimPropBase.ts","./ComBase.ts","./DlgBase.ts","./PropBase.ts","./ResourcesObjBase.ts","./SysBase.ts","./ClickFunctor.ts","./Defines.ts","./DestroyCB.ts","./DestroySelf.ts","./EventDefine.ts","./EventProp.ts","./Functor.ts","./GlobalVar.ts","./HeroProp.ts","./IntervalMgr.ts","./Misc.ts","./PreLoad.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./AnimCom.ts","./KeyCom.ts","./PressCom.ts","./SpriteCom.ts","./FireData.ts","./FireDataData.ts","./GameData.ts","./RankData.ts","./BubbleTipDlgCom.ts","./ChangeCardDlgCom.ts","./GameDlgCom.ts","./MainDlgCom.ts","./MulBtnDlgCom.ts","./PolicyDlgCom.ts","./ProtocolDlgCom.ts","./RankDlgCom.ts","./ResultDlgCom.ts","./ReviveDlgCom.ts","./SettingDlgCom.ts","./DlgMgrCom.ts","./BubbleTipDlg.ts","./ChangeCardDlg.ts","./GameDlg.ts","./MainDlg.ts","./MulBtnDlg.ts","./PolicyDlg.ts","./ProtocolDlg.ts","./RankDlg.ts","./ResultDlg.ts","./ReviveDlg.ts","./SettingDlg.ts","./AutoEnemyCreateCom.ts","./BlockObjCom.ts","./BuffCom.ts","./CardMgrCom.ts","./CollideCom.ts","./CostCom.ts","./EnemyStopCom.ts","./GameTimeCom.ts","./SceneObjCom.ts","./CardCom.ts","./EnemyMoveCom.ts","./FireMoveCom.ts","./Block.ts","./BlockMap.ts","./AnimFactory.ts","./CardFactory.ts","./EnemyFactory.ts","./FireFactory.ts","./PlistFactory.ts","./GameProp.ts","./SettingProp.ts","./AudioSys.ts","./CommonSys.ts","./DlgSys.ts","./EventSys.ts","./GameSys.ts","./HeroSys.ts","./PoolSys.ts","./SettingSys.ts","./TimeSys.ts","./CodeReoladTool.ts","./PrintTool.ts","./WXTool.ts","./ConsoleTool.ts","./GameRandomUtils.ts","./HttpUtils.ts","./RandomUtils.ts","./StorageUtils.ts","./TweenAction.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Main.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PrintTool.ts","./GlobalVar.ts","./SysMgr.ts"],(function(n){"use strict";var t,e,r,i,a,s,o,c,u,p;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){i=n.cclegacy,a=n._decorator,s=n.Node,o=n.Component},function(n){c=n.PrintTool},function(n){u=n.GlobalVar},function(n){p=n.SysMgr}],execute:function(){var l;i._RF.push({},"2e617VEnaVGepVfbv7GJLQZ","Main",void 0);var f=a.ccclass;a.property,n("Main",f("Main")(l=function(n){function i(){return n.apply(this,arguments)||this}t(i,n);var a=i.prototype;return a.start=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.initGlobalVar(),this.initSys();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),a.initGlobalVar=function(){u.isTest=!0,window.wx?(u.isTest=!1,u.isWX=!0):u.isWX=!1,u.canvas=this.node,u.gamePanel=new s,u.gamePanel.name="gamePanel",u.gamePanel.parent=this.node},a.initSys=function(){var n=e(r().mark((function n(){var t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(t=new s).name=p.name,t.parent=this.node,c.init(),p.ins=t.addComponent(p),n.next=7,p.ins.init();case 7:return n.next=9,p.ins.enter();case 9:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),i}(o))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/MainDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var e,n,i,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){a=t.DlgBase}],execute:function(){var o,d;n._RF.push({},"c076d/yWgNMKJqwqPf6hAdb","MainDlg",void 0);var s=i.ccclass;i.property,t("MainDlg",s("MainDlg")(((d=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))||this).m_StartBtn=void 0,e.m_ShareBtn=void 0,e.m_RankLabel=void 0,e.m_SettingBtn=void 0,e.m_SettingNode=void 0,e.m_RankBtn=void 0,e.m_RankNode=void 0,e}return e(n,t),n.prototype.initDlg=function(t){this.m_StartBtn=this.node.getChildByName("m_StartBtn"),this.m_ShareBtn=this.node.getChildByName("m_ShareBtn"),this.m_RankLabel=this.node.getChildByName("m_RankLabel"),this.m_SettingBtn=this.node.getChildByName("m_SettingNode").getChildByName("m_SettingBtn"),this.m_SettingNode=this.node.getChildByName("m_SettingNode"),this.m_RankBtn=this.node.getChildByName("m_RankNode").getChildByName("m_RankBtn"),this.m_RankNode=this.node.getChildByName("m_RankNode")},n}(a)).UI_PATH="MainDlg",o=d))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/MainDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./Defines.ts","./GlobalVar.ts","./SysMgr.ts","./RankData.ts","./DlgSys.ts","./GameSys.ts","./HeroSys.ts","./WXTool.ts","./StorageUtils.ts","./MainDlg.ts","./RankDlgCom.ts","./SettingDlgCom.ts"],(function(t){"use strict";var n,e,r,o,a,i,s,c,u,l,f,h,g,p,m,v,S,k,y,D;return{setters:[function(t){n=t.inheritsLoose,e=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator,s=t.RichText},function(t){c=t.ClickFunctor},function(t){u=t.Defines},function(t){l=t.GlobalVar},function(t){f=t.SysMgr},function(t){h=t.RankData},function(t){g=t.DlgSys},function(t){p=t.GameSys},function(t){m=t.HeroSys},function(t){v=t.WXTool},function(t){S=t.StorageUtils},function(t){k=t.MainDlg},function(t){y=t.RankDlgCom},function(t){D=t.SettingDlgCom}],execute:function(){var d;a._RF.push({},"b645bikM2RP8Zj+xF0rGxzH","MainDlgCom",void 0);var R=i.ccclass;i.property,t("MainDlgCom",R("MainDlgCom")(d=function(t){function a(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this).data=void 0,n.heroProp=void 0,n}n(a,t);var i=a.prototype;return i.initDlg=function(){var n=r(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.prototype.initDlg.call(this,e),n.next=3,f.getSys(m).enterMain();case 3:this.m_StartBtn.on("click",c.getFunc(this,"onStart"),this),this.m_SettingBtn.on("click",c.getFunc(this,"onSettingStart"),this),l.isWX?(this.m_ShareBtn.active=!0,this.m_ShareBtn.on("click",c.getFunc(this,"onShare"),this),this.m_RankNode.active=!0,this.m_RankBtn.on("click",c.getFunc(this,"onRank"),this)):(this.m_ShareBtn.active=!1,this.m_RankNode.active=!1),this.refreshLevel();case 7:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),i.refreshLevel=function(){for(var t,n=Number(S.getData(u.LEVEL,"0")),r=h.data.get(0),o=e(h.data.keys());!(t=o()).done;){var a=t.value,i=h.data.get(a);if(!(n>=i.level))break;r=i}this.m_RankLabel.getComponent(s).string="<color=#00ff00>"+r.desc+"</color>"},i.onStart=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.getSys(p).startGame();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i.onSettingStart=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.ins.getCom(g).createDlg(D);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i.onShare=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v.share();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i.onRank=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.ins.getCom(g).createDlg(y);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a}(k))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/Misc.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var n,t,e,i;return{setters:[function(r){n=r.createForOfIteratorHelperLoose},function(r){t=r.cclegacy,e=r._decorator,i=r.Vec2}],execute:function(){var o;t._RF.push({},"30d0crY3B1Au6ZX0fdKgjis","Misc",void 0);var c=e.ccclass;e.property,r("Misc",c("Misc")(o=function(){function r(){}return r.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var n=16*Math.random()|0;return("x"==r?n:3&n|8).toString(16)}))},r.mapToString=function(r){for(var t,e={},i=n(r.keys());!(t=i()).done;){var o=t.value;e[o]=r.get(o)}return JSON.stringify(e)},r.objToMap=function(r){var n=new Map;for(var t in r){var e=r[t];n.set(t,e)}return n},r.dirToAngle=function(r){return-r.signAngle(new i(0,1))/Math.PI*180},r.addAngleDir=function(r,n){return n=n*Math.PI/180,new i(r.x*Math.cos(n)-r.y*Math.sin(n),r.x*Math.sin(n)+r.y*Math.cos(n))},r.removeListByIndex=function(r,n){return n.splice(r,1)[0]},r.removeListByObj=function(r,n){for(var t=0;t<n.length;t++)if(n[t]==r)return this.removeListByIndex(t,n),r;return null},r}())||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/MulBtnDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var e,i,l,n;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,l=t._decorator},function(t){n=t.DlgBase}],execute:function(){var o,r;i._RF.push({},"a527d/st2JGaZxxUxZ1qDyJ","MulBtnDlg",void 0);var s=l.ccclass;l.property,t("MulBtnDlg",s("MulBtnDlg")(((r=function(t){function i(){for(var e,i=arguments.length,l=new Array(i),n=0;n<i;n++)l[n]=arguments[n];return(e=t.call.apply(t,[this].concat(l))||this).m_ScrollView=void 0,e.m_ExitBtn=void 0,e.m_TitleLabel=void 0,e.m_AddBtn=void 0,e}return e(i,t),i.prototype.initDlg=function(t){this.m_ScrollView=this.node.getChildByName("m_ScrollView"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn"),this.m_TitleLabel=this.node.getChildByName("m_TitleLabel"),this.m_AddBtn=this.node.getChildByName("m_AddBtn")},i}(n)).UI_PATH="MulBtnDlg",o=r))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/MulBtnDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./MulBtnDlg.ts"],(function(t){"use strict";var e,n,i,r,o,c,s,u,l,a,h,f,p,d;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,o=t._decorator,c=t.Label,s=t.Sprite,u=t.Color,l=t.Button,a=t.ScrollView},function(t){h=t.ClickFunctor},function(t){f=t.ResourceLoader},function(t){p=t.ResourcesPathDefine},function(t){d=t.MulBtnDlg}],execute:function(){var g;r._RF.push({},"ff054wAG3pA6J+OnaVWxWXE","MulBtnDlgCom",void 0);var v=o.ccclass;o.property,t("MulBtnDlgCom",v("MulBtnDlgCom")(g=function(t){function r(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).data=void 0,e.cbFunc=void 0,e.maxLevel=void 0,e.greyLevel=void 0,e.isShowAdd=void 0,e}e(r,t);var o=r.prototype;return o.initDlg=function(){var e=n(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.prototype.initDlg.call(this,n),this.m_ExitBtn.on("click",h.getFunc(this,"onExitClick"),this),this.m_AddBtn.on("click",h.getFunc(this,"onAddClick"),this),this.cbFunc=n.cbFunc,this.maxLevel=n.maxLevel,this.greyLevel=n.greyLevel,this.isShowAdd=n.isShowAdd,e.next=9,this.refreshDlg();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.onExitClick=function(){this.closeDlg(r)},o.onAddClick=function(){this.cbFunc(-1),this.closeDlg(r)},o.refreshDlg=function(){var t=n(i().mark((function t(){var e,n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.m_ScrollView.getComponent(a).content,n=0;case 2:if(!(n<this.maxLevel)){t.next=12;break}return t.next=5,f.insNode(p.UI_ITEM_ROOT_PATH+"/LevelItem");case 5:(r=t.sent).parent=e,r.getChildByName("Label").getComponent(c).string=(n+1).toString(),n>this.greyLevel?(r.getComponent(s).color=u.GRAY,r.getComponent(l).interactable=!1):r.on("click",h.getFunc(this,"onItemClick",n),this);case 9:n++,t.next=2;break;case 12:this.m_AddBtn.active=this.isShowAdd;case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onItemClick=function(){var t=n(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.cbFunc(e),this.closeDlg(r);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r}(d))||g);r._RF.pop()}}}));

System.register("chunks:///_virtual/PlistFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./ResourcesPathDefine.ts","./SysMgr.ts","./PoolSys.ts"],(function(t){"use strict";var e,r,n,s,o,c,i,u,a,p;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,c=t.ParticleSystem2D},function(t){i=t.ComBase},function(t){u=t.ResourcesPathDefine},function(t){a=t.SysMgr},function(t){p=t.PoolSys}],execute:function(){var f;s._RF.push({},"1b331c8v5hBI7AL+hY+tEIY","PlistFactory",void 0);var l=o.ccclass;o.property,t("PlistFactory",l("PlistFactory")(f=function(t){function s(){return t.apply(this,arguments)||this}return e(s,t),s.create=function(){var t=r(n().mark((function t(e,r,s){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.getSys(p).createNode(u.PLIST_ROOT_PATH+"/"+e);case 2:return(o=t.sent).parent=s,o.position=r,o.getComponent(c).resetSystem(),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),s}(i))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/PolicyDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var i,e,l,n;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,l=t._decorator},function(t){n=t.DlgBase}],execute:function(){var o,c;e._RF.push({},"4af116gs/1JBp2IMMl1S/t6","PolicyDlg",void 0);var r=l.ccclass;l.property,t("PolicyDlg",r("PolicyDlg")(((c=function(t){function e(){for(var i,e=arguments.length,l=new Array(e),n=0;n<e;n++)l[n]=arguments[n];return(i=t.call.apply(t,[this].concat(l))||this).m_Dlg=void 0,i.m_ExitBtn=void 0,i}return i(e,t),e.prototype.initDlg=function(t){this.m_Dlg=this.node.getChildByName("m_Dlg"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn")},e}(n)).UI_PATH="PolicyDlg",o=c))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/PolicyDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./PolicyDlg.ts"],(function(t){"use strict";var n,o,i,c,r,e,l;return{setters:[function(t){n=t.inheritsLoose,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){c=t.cclegacy,r=t._decorator},function(t){e=t.ClickFunctor},function(t){l=t.PolicyDlg}],execute:function(){var s;c._RF.push({},"b72aeAi5l1PjZhtsoZO4qZr","PolicyDlgCom",void 0);var u=r.ccclass;r.property,t("PolicyDlgCom",u("PolicyDlgCom")(s=function(t){function c(){for(var n,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(n=t.call.apply(t,[this].concat(i))||this).data=void 0,n}n(c,t);var r=c.prototype;return r.initDlg=function(){var n=o(i().mark((function n(o){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.prototype.initDlg.call(this,o),this.m_ExitBtn.on("click",e.getFunc(this,"onExitClick"),this);case 2:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),r.onExitClick=function(){this.closeDlg(c)},c}(l))||s);c._RF.pop()}}}));

System.register("chunks:///_virtual/PoolSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesObjBase.ts","./SysBase.ts","./DestroyCB.ts","./ResourceLoader.ts"],(function(e){"use strict";var o,t,r,s,n,a,i,c,u,l,d;return{setters:[function(e){o=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime,s=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,a=e._decorator,i=e.Node},function(e){c=e.ResourcesObjBase},function(e){u=e.SysBase},function(e){l=e.DestroyCB},function(e){d=e.ResourceLoader}],execute:function(){var h,p;n._RF.push({},"165ae4y7dZM9JaLmmy+47tb","PoolSys",void 0);var b=a.ccclass;a.property,e("PoolSys",b("PoolSys")(((p=function(e){function n(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(o=e.call.apply(e,[this].concat(r))||this).objPool=new Map,o.poolNode=void 0,o}o(n,e);var a=n.prototype;return a.onLoad=function(){this.poolNode=new i,this.poolNode.name="poolNode",this.poolNode.active=!1},a.createNode=function(){var e=t(r().mark((function e(o){var t,a,i,u,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.objPool.has(o)||this.objPool.set(o,new Set),!((t=this.objPool.get(o)).size>0)){e.next=11;break}a=s(t);case 4:if((i=a()).done){e.next=11;break}return(u=i.value).active=!0,t.delete(u),e.abrupt("return",u);case 9:e.next=4;break;case 11:return e.next=13,d.insNode(o);case 13:return(u=e.sent)[n.objPath]=o,h=u.getComponent(c),l.addCb(h,this,"_destroyNode"),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,this)})));return function(o){return e.apply(this,arguments)}}(),a.destroyNode=function(e){e.active=!1,e.parent=this.poolNode;var o=e[n.objPath];this.objPool.has(o)||this.objPool.set(o,new Set),this.objPool.get(o).add(e)},a._destroyNode=function(e){var o=e.node,t=o[n.objPath];this.objPool.has(t)&&this.objPool.get(t).delete(o)},n}(u)).objPath="_obj_path",h=p))||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/PreLoad.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BubbleTipDlgCom.ts","./PoolSys.ts","./ResourceLoader.ts","./ResourcesPathDefine.ts","./SysMgr.ts"],(function(e){"use strict";var r,t,n,a,s,o,c,u,i,f;return{setters:[function(e){r=e.asyncToGenerator,t=e.regeneratorRuntime,n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator},function(e){o=e.BubbleTipDlgCom},function(e){c=e.PoolSys},function(e){u=e.ResourceLoader},function(e){i=e.ResourcesPathDefine},function(e){f=e.SysMgr}],execute:function(){var d,l;a._RF.push({},"a5c4b63k+5Mm7FS+11Z2g9v","PreLoad",void 0);var p=s.ccclass;s.property,e("PreLoad",p("PreLoad")(((l=function(){function e(){}return e.preloadRes=function(){var a=r(t().mark((function r(){var a,s,o,c,f,d,l;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=n(e.resArr);case 1:if((s=a()).done){r.next=7;break}return o=s.value,r.next=5,u.loadAsset(o);case 5:r.next=1;break;case 7:c=1;case 8:if(!(c<=27)){r.next=14;break}return r.next=11,u.loadAsset(i.CARD_TEXTURES_ROOT_PATH+"/"+c);case 11:c++,r.next=8;break;case 14:f=n(i.SOUND_MAP.values());case 15:if((d=f()).done){r.next=21;break}return l=d.value,r.next=19,u.loadAsset(l[0]);case 19:r.next=15;break;case 21:case"end":return r.stop()}}),r)})));return function(){return a.apply(this,arguments)}}(),e.preloadNode=function(){var a=r(t().mark((function r(){var a,s,o,u,i,d,l,p,x,b;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a=f.getSys(c),s=new Array,o=n(e.nodeMap.keys());case 3:if((u=o()).done){r.next=17;break}i=u.value,d=e.nodeMap.get(i),l=0;case 7:if(!(l<d)){r.next=15;break}return r.next=10,a.createNode(i);case 10:p=r.sent,s.push(p);case 12:l++,r.next=7;break;case 15:r.next=3;break;case 17:x=0,b=s;case 18:if(!(x<b.length)){r.next=25;break}return p=b[x],r.next=22,a.destroyNode(p);case 22:x++,r.next=18;break;case 25:case"end":return r.stop()}}),r)})));return function(){return a.apply(this,arguments)}}(),e}()).resArr=[i.UI_ROOT_PATH+"/"+o.UI_PATH,"audios/touch.wav"],l.nodeMap=new Map([]),d=l))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/PressCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./TimeSys.ts","./Functor.ts","./SysMgr.ts"],(function(t){"use strict";var s,i,n,o,e,c,r,u,h;return{setters:[function(t){s=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.NodeEventType,e=t.Vec2},function(t){c=t.ComBase},function(t){r=t.TimeSys},function(t){u=t.Functor},function(t){h=t.SysMgr}],execute:function(){var a;i._RF.push({},"f1e68ubH29PDbb/j91fpMxg","PressCom",void 0);var l=n.ccclass;n.property,t("PressCom",l("PressCom")(a=function(t){function i(){for(var s,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(s=t.call.apply(t,[this].concat(n))||this).cbFunc=void 0,s.isStart=!1,s.timeSys=void 0,s.startPos=null,s.pressTime=.6,s.maxMove=4,s}s(i,t);var n=i.prototype;return n.init=function(t,s){this.cbFunc=t,this.node.on(o.TOUCH_START,u.getFunc(this,"onTouchStart"),this),this.node.on(o.TOUCH_MOVE,u.getFunc(this,"onTouchMove"),this),this.node.on(o.TOUCH_END,u.getFunc(this,"onTouchEnd"),this),this.node.on(o.TOUCH_CANCEL,u.getFunc(this,"onTouchEnd"),this),this.timeSys=h.getSys(r),null!=s&&(this.pressTime=s)},n.onTouchStart=function(t){this.timeSys.addTimer(this,"callFunc",this.pressTime,!1),this.isStart=!0,this.startPos=t.getLocation()},n.onTouchMove=function(t){var s=t.getLocation();e.distance(this.startPos,s)>this.maxMove&&(this.isStart=!1,this.timeSys.removeTimer(this,"callFunc"))},n.callFunc=function(){this.isStart&&(this.isStart=!1,this.cbFunc(this.node,event))},n.onTouchEnd=function(t){this.isStart&&(this.isStart=!1,this.timeSys.removeTimer(this,"callFunc"))},i}(c))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/PrintTool.ts",["cc","./ConsoleTool.ts"],(function(o){"use strict";var n,t,c;return{setters:[function(o){n=o.cclegacy,t=o._decorator},function(o){c=o.ConsoleTool}],execute:function(){var r,l;n._RF.push({},"454e3odF7lAJ5jr2cmX7a22","PrintTool",void 0);var e=t.ccclass;t.property,o("PrintTool",e("PrintTool")(((l=function(){function o(){}return o.init=function(){o.logFunc=console.log,console.log=o.log},o.log=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];o.logFunc.apply(o,t),c.sendMsg(t.toString())},o}()).logFunc=void 0,r=l))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/PropBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DestroyCB.ts"],(function(t){"use strict";var r,e,n,a,o,s;return{setters:[function(t){r=t.inheritsLoose,e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,a=t._decorator,o=t.Component},function(t){s=t.DestroyCB}],execute:function(){var c,u;n._RF.push({},"ebb9a+807NH/7mKaG24+TbN","PropBase",void 0);var i=a.ccclass;a.property,t("PropBase",i("PropBase")(((u=function(t){function n(){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(r=t.call.apply(t,[this].concat(n))||this).funcMap=new Map,r}r(n,t);var a=n.prototype;return a.watch=function(t,r,e){this.funcMap.has(t)||this.funcMap.set(t,new Map);var a=this.funcMap.get(t);a.has(r)||a.set(r,new Array),a.get(r).push(e),null==r[n.propName]&&(r[n.propName]=new Set),r[n.propName].add(this),s.addCb(r,this,"onObjDestroy")},a.watchRun=function(t,r,e){this.watch(t,r,e),r[e](this)},a.onObjDestroy=function(t){for(var r,a=t[n.propName],o=e(a);!(r=o()).done;){r.value.removeWatch(t)}},a.setData=function(t){if(null!=t){var r=new Array;for(var e in t){var n=t[e];this[e]!=n&&(this[e]=n,r.push(e))}for(var a=0,o=r;a<o.length;a++){var s=o[a];this.runCb(s)}}},a.removeWatch=function(t){this.funcMap.forEach((function(r,e){null!=r&&r.has(t)&&r.delete(t)}))},a.runCb=function(t){var r=this;this.funcMap.has(t)&&this.funcMap.get(t).forEach((function(t,n){if(null!=t)for(var a,o=e(t);!(a=o()).done;){n[a.value](r)}}))},n}(o)).propName="_myProp",c=u))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ProtocolDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var o,e,r,n;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,r=t._decorator},function(t){n=t.DlgBase}],execute:function(){var i,l;e._RF.push({},"bb5eeZg/OJHMryXsLraV2j+","ProtocolDlg",void 0);var c=r.ccclass;r.property,t("ProtocolDlg",c("ProtocolDlg")(((l=function(t){function e(){for(var o,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(o=t.call.apply(t,[this].concat(r))||this).m_Dlg=void 0,o.m_ExitBtn=void 0,o}return o(e,t),e.prototype.initDlg=function(t){this.m_Dlg=this.node.getChildByName("m_Dlg"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn")},e}(n)).UI_PATH="ProtocolDlg",i=l))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/ProtocolDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./ProtocolDlg.ts"],(function(t){"use strict";var o,n,r,c,i,e,l;return{setters:[function(t){o=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){c=t.cclegacy,i=t._decorator},function(t){e=t.ClickFunctor},function(t){l=t.ProtocolDlg}],execute:function(){var s;c._RF.push({},"14ab6e4061LR7cUkHuXKtby","ProtocolDlgCom",void 0);var u=i.ccclass;i.property,t("ProtocolDlgCom",u("ProtocolDlgCom")(s=function(t){function c(){for(var o,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(o=t.call.apply(t,[this].concat(r))||this).data=void 0,o}o(c,t);var i=c.prototype;return i.initDlg=function(){var o=n(r().mark((function o(n){return r().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t.prototype.initDlg.call(this,n),this.m_ExitBtn.on("click",e.getFunc(this,"onExitClick"),this);case 2:case"end":return o.stop()}}),o,this)})));return function(t){return o.apply(this,arguments)}}(),i.onExitClick=function(){this.closeDlg(c)},c}(l))||s);c._RF.pop()}}}));

System.register("chunks:///_virtual/RandomUtils.ts",["cc","./Misc.ts"],(function(r){"use strict";var n,t,o;return{setters:[function(r){n=r.cclegacy,t=r._decorator},function(r){o=r.Misc}],execute:function(){var a;n._RF.push({},"5067cxmhG5Dx5l+MDSClIvf","RandomUtils",void 0);var u=t.ccclass;t.property,r("RandomUtils",u("RandomUtils")(a=function(){function r(){}return r.randomNum=function(r,n){return Math.floor(Math.random()*(n-r)+r)},r.randomBoundary=function(n,t,o,a){return r.randomBool()?r.randomNum(n,t):r.randomNum(o,a)},r.randomString=function(r){return Math.random().toString(36).replace(/[^a-zA-Z0-9]+/g,"").substr(0,r)},r.randomBool=function(){return 1==r.randomNum(0,2)},r.randomList=function(n,t,a){for(var u=[],e=n;e<t;e++)u.push(e);var i=[];for(e=0;e<a;e++){var s=r.randomNum(0,t-e);i.push(o.removeListByIndex(s,u))}return i},r.randomListByList=function(n,t){var a=[],u=[];u.push.apply(u,n);for(var e=n.length,i=0;i<t;i++){var s=r.randomNum(0,e-i);a.push(o.removeListByIndex(s,u))}return a},r}())||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/RankData.ts",["cc"],(function(e){"use strict";var c,a;return{setters:[function(e){c=e.cclegacy,a=e._decorator}],execute:function(){var n,t;c._RF.push({},"01eebqQYWlMOYcST+WDVNmG","RankData",void 0);var l=a.ccclass;a.property,e("RankData",l("RankData")(((t=function(){}).data=new Map([[0,{num:0,level:0,desc:"0.00%"}],[1,{num:1,level:5,desc:"15.00%"}],[2,{num:2,level:10,desc:"30.00%"}],[3,{num:3,level:15,desc:"40.00%"}],[4,{num:4,level:20,desc:"50.00%"}],[5,{num:5,level:30,desc:"80.00%"}],[6,{num:6,level:50,desc:"99.99%"}]]),n=t))||n);c._RF.pop()}}}));

System.register("chunks:///_virtual/RankDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator},function(t){o=t.DlgBase}],execute:function(){var r,s;e._RF.push({},"759b8VvoFtPcraDWJwy6ZYq","RankDlg",void 0);var a=i.ccclass;i.property,t("RankDlg",a("RankDlg")(((s=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).m_RankListNode=void 0,n.m_ExitBtn=void 0,n}return n(e,t),e.prototype.initDlg=function(t){this.m_RankListNode=this.node.getChildByName("m_RankListNode"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn")},e}(o)).UI_PATH="RankDlg",r=s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/RankDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./WXTool.ts","./RankDlg.ts"],(function(t){"use strict";var n,o,r,e,i,c,a,s;return{setters:[function(t){n=t.inheritsLoose,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){e=t.cclegacy,i=t._decorator},function(t){c=t.ClickFunctor},function(t){a=t.WXTool},function(t){s=t.RankDlg}],execute:function(){var l;e._RF.push({},"6e92fqvk29Ld4v/XYTgFZRK","RankDlgCom",void 0);var u=i.ccclass;i.property,t("RankDlgCom",u("RankDlgCom")(l=function(t){function e(){for(var n,o=arguments.length,r=new Array(o),e=0;e<o;e++)r[e]=arguments[e];return(n=t.call.apply(t,[this].concat(r))||this).data=void 0,n.heroProp=void 0,n.rankTexture=null,n.rankSpriteFrame=void 0,n}n(e,t);var i=e.prototype;return i.initDlg=function(){var n=o(r().mark((function n(o){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.prototype.initDlg.call(this,o),this.m_ExitBtn.on("click",c.getFunc(this,"onExitClick"),this),a.showRank();case 3:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),i.onExitClick=function(){a.closeRank(),this.closeDlg(e)},e}(s))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesObjBase.ts","./DestroyCB.ts"],(function(e){"use strict";var t,s,r,a,n,o,u,c;return{setters:[function(e){t=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,n=e.loader,o=e.instantiate},function(e){u=e.ResourcesObjBase},function(e){c=e.DestroyCB}],execute:function(){var p,i;r._RF.push({},"e7c37+kiUBHgp+Bc9/Y2SWi","ResourceLoader",void 0);var f=a.ccclass;a.property,e("ResourceLoader",f("ResourceLoader")(((i=function(){function e(){}return e.loadAsset=function(){var r=t(s().mark((function t(r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,s){var a=e.pathAssetMap.get(r);if(null!=a)return e.assetRefMap.set(r,e.assetRefMap.get(r)+1),t(a);n.loadRes(r,(function(s,a){return null==a||(a.addRef(),e.pathAssetMap.set(r,a),e.assetRefMap.set(r,1)),t(a)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}(),e.releaseAsses=function(t){if(e.assetRefMap.has(t)){var s=e.assetRefMap.get(t);if(s-=1,e.assetRefMap.set(t,s),0==s){var r=e.pathAssetMap.get(t);r.decRef(),e.pathAssetMap.delete(t),e.assetRefMap.delete(t),n.release(r)}}},e.insNode=function(){var r=t(s().mark((function t(r){var a,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadAsset(r);case 2:return a=t.sent,t.next=5,new Promise((function(t,s){var p=o(a);e.objPathMap.set(p,r);var i=p.addComponent(u);return c.addCb(i,n,"_destroyNode"),t(p)}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return r.apply(this,arguments)}}(),e._destroyNode=function(t){var s=t.node;if(e.objPathMap.has(s)){var r=e.objPathMap.get(s);e.objPathMap.delete(s),e.releaseAsses(r)}},e}()).pathAssetMap=new Map,i.objPathMap=new Map,i.assetRefMap=new Map,p=i))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesObjBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(e){"use strict";var s,r,t,c;return{setters:[function(e){s=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator},function(e){c=e.ComBase}],execute:function(){var o;r._RF.push({},"840f9AWNDlCiKGWXbp5peX0","ResourcesObjBase",void 0);var u=t.ccclass;t.property,e("ResourcesObjBase",u("ResourcesObjBase")(o=function(e){function r(){return e.apply(this,arguments)||this}return s(r,e),r}(c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesPathDefine.ts",["cc"],(function(a){"use strict";var e,t;return{setters:[function(a){e=a.cclegacy,t=a._decorator}],execute:function(){var s,c;e._RF.push({},"822c3O7TYRCXbpjuNSwbwLs","ResourcesPathDefine",void 0);var r=t.ccclass;t.property,a("ResourcesPathDefine",r("ResourcesPathDefine")(((c=function(){}).UI_ROOT_PATH="prefabs/ui",c.UI_ITEM_ROOT_PATH="prefabs/ui/item",c.FIRE_ROOT_PATH="prefabs/fire",c.FIRE_TIP_ROOT_PATH="prefabs/firetip",c.ENEMYT_ROOT_PATH="prefabs/enemy",c.ANIM_ROOT_PATH="prefabs/anim",c.CARD_ROOT_PATH="prefabs/card",c.PLIST_ROOT_PATH="prefabs/plist",c.CARD_TEXTURES_ROOT_PATH="textures/card",c.SOUND_MAP=new Map([[0,["audios/attack0.wav",.4]],[1,["audios/attack1.wav",.4]],[2,["audios/attack2.wav",.2]],[3,["audios/attack3.mp3",.7]],[4,["audios/attack4.wav",.6]],[5,["audios/attack5.wav",.15]],[6,["audios/attack6.wav",.1]],[7,["audios/attack7.wav",.2]],[8,["audios/attack8.wav",1.1]]]),s=c))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/ResultDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(t){"use strict";var e,i,n,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator},function(t){l=t.DlgBase}],execute:function(){var s,a;i._RF.push({},"3be8cd3MKtOipPk975aMuGm","ResultDlg",void 0);var o=n.ccclass;n.property,t("ResultDlg",o("ResultDlg")(((a=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))||this).m_RestartBtn=void 0,e.m_ExitGameBtn=void 0,e.m_ResultLabel=void 0,e.m_CongratulateLabel=void 0,e.m_WxBtn=void 0,e.m_FriendBtn=void 0,e}return e(i,t),i.prototype.initDlg=function(t){this.m_RestartBtn=this.node.getChildByName("m_RestartBtn"),this.m_ExitGameBtn=this.node.getChildByName("m_ExitGameBtn"),this.m_ResultLabel=this.node.getChildByName("m_ResultLabel"),this.m_CongratulateLabel=this.node.getChildByName("m_CongratulateLabel"),this.m_WxBtn=this.node.getChildByName("m_WxBtn"),this.m_FriendBtn=this.node.getChildByName("m_FriendBtn")},i}(l)).UI_PATH="ResultDlg",s=a))||s);i._RF.pop()}}}));

System.register("chunks:///_virtual/ResultDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./Defines.ts","./SysMgr.ts","./DlgSys.ts","./GameSys.ts","./WXTool.ts","./StorageUtils.ts","./ResultDlg.ts","./MainDlgCom.ts"],(function(t){"use strict";var n,e,r,i,s,o,c,a,u,l,g,f,h,m,p;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t._decorator,o=t.RichText},function(t){c=t.ClickFunctor},function(t){a=t.Defines},function(t){u=t.SysMgr},function(t){l=t.DlgSys},function(t){g=t.GameSys},function(t){f=t.WXTool},function(t){h=t.StorageUtils},function(t){m=t.ResultDlg},function(t){p=t.MainDlgCom}],execute:function(){var y;i._RF.push({},"051dbHH1lFHPKGsuuxhjmj6","ResultDlgCom",void 0);var v=s.ccclass;s.property,t("ResultDlgCom",v("ResultDlgCom")(y=function(t){function i(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this).data=void 0,n.gameProp=void 0,n.gameSys=void 0,n}n(i,t);var s=i.prototype;return s.initDlg=function(n){t.prototype.initDlg.call(this,n),this.gameSys=u.getSys(g),this.gameProp=this.gameSys.gameProp,this.m_RestartBtn.on("click",c.getFunc(this,"onRestartClick"),this),this.m_ExitGameBtn.on("click",c.getFunc(this,"onExitGameClick"),this),this.m_WxBtn.on("click",c.getFunc(this,"onWxClick"),this),this.m_FriendBtn.on("click",c.getFunc(this,"onFriendClick"),this);var e=Number(h.getData(a.LEVEL,"0")),r=n;this.m_ResultLabel.getComponent(o).string="<color=#00ff00>"+r.toString()+"</color>",r>e?(h.saveData(a.LEVEL,r.toString()),this.m_CongratulateLabel.active=!0):this.m_CongratulateLabel.active=!1,u.getSys(l).getDlg(p).getComponent(p).refreshLevel(),f.uploadScore(Number(n))},s.onWxClick=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.onFriendClick=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.onExitGameClick=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gameSys.closeGame();case 2:this.closeDlg(i);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onRestartClick=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gameSys.restartGame();case 2:this.closeDlg(i);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(m))||y);i._RF.pop()}}}));

System.register("chunks:///_virtual/ReviveDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(e){"use strict";var t,i,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e._decorator},function(e){o=e.DlgBase}],execute:function(){var r,v;i._RF.push({},"4988eHKv4dEv6yJ/Ka644pz","ReviveDlg",void 0);var s=n.ccclass;n.property,e("ReviveDlg",s("ReviveDlg")(((v=function(e){function i(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).m_ReviveBtn=void 0,t.m_ExitGameBtn=void 0,t}return t(i,e),i.prototype.initDlg=function(e){this.m_ReviveBtn=this.node.getChildByName("m_ReviveBtn"),this.m_ExitGameBtn=this.node.getChildByName("m_ExitGameBtn")},i}(o)).UI_PATH="ReviveDlg",r=v))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/ReviveDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./SysMgr.ts","./GameData.ts","./GameSys.ts","./ReviveDlg.ts"],(function(t){"use strict";var e,i,n,r,s,a,o,c,u,l;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,s=t._decorator},function(t){a=t.ClickFunctor},function(t){o=t.SysMgr},function(t){c=t.GameData},function(t){u=t.GameSys},function(t){l=t.ReviveDlg}],execute:function(){var p;r._RF.push({},"6d129IeeqJEOqW0awDdRJNw","ReviveDlgCom",void 0);var v=s.ccclass;s.property,t("ReviveDlgCom",v("ReviveDlgCom")(p=function(t){function r(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).data=void 0,e.gameProp=void 0,e.gameSys=void 0,e}e(r,t);var s=r.prototype;return s.initDlg=function(e){t.prototype.initDlg.call(this,e),this.gameSys=o.getSys(u),this.gameProp=this.gameSys.gameProp,this.m_ExitGameBtn.on("click",a.getFunc(this,"onExitGameClick"),this),this.m_ReviveBtn.on("click",a.getFunc(this,"onReviveClick"),this)},s.onExitGameClick=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.closeDlg(r),this.gameProp.setData({isStart:!1});case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onReviveClick=function(){var t=i(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=c.data.get(0),this.gameProp.setData({hp:e.hp}),this.gameProp.setData({maxCost:e.maxCost}),this.gameProp.setData({isStop:!1}),this.closeDlg(r);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r}(l))||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/SceneObjCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./Misc.ts","./SysMgr.ts","./GameSys.ts","./PoolSys.ts","./BuffCom.ts","./EnemyFactory.ts","./FireFactory.ts","./GameTimeCom.ts"],(function(e){"use strict";var t,n,r,s,a,i,o,c,u,h,S,m,f,l,d;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose,r=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator},function(e){o=e.ComBase},function(e){c=e.Misc},function(e){u=e.SysMgr},function(e){h=e.GameSys},function(e){S=e.PoolSys},function(e){m=e.BuffCom},function(e){f=e.EnemyFactory},function(e){l=e.FireFactory},function(e){d=e.GameTimeCom}],execute:function(){var y;a._RF.push({},"026d8xSMk1Ih6sVyGH4aKAg","SceneObjCom",void 0);var g=i.ccclass;i.property,e("SceneObjCom",g("SceneObjCom")(y=function(e){function a(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).poolSys=void 0,t.gameSys=void 0,t.gameTimeCom=void 0,t.enemySet=new Set,t.fireSet=new Set,t.delSet=new Set,t.changeLoveSet=new Set,t.loveSet=new Set,t}t(a,e);var i=a.prototype;return i.init=function(){this.poolSys=u.getSys(S),this.gameSys=u.getSys(h),this.gameTimeCom=this.gameSys.getCom(d)},i.createFire=function(e,t,n,r){var s=this.gameSys.getCom(m).shotNum;null!=r&&(s=r+this.gameSys.getCom(m).addShotNum),this._createFire(this.gameSys.getCom(m).getData(),e,t,n);for(var a=1;a<s;a++)this.gameTimeCom.addTimer(this,"_createFire",.1*a,!1,this.gameSys.getCom(m).getData(),e,t,n)},i.createEnemy=function(){var e=r(s().mark((function e(t,n,r,a,i){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.create(t,n,r,a,i);case 2:o=e.sent,this.enemySet.add(o);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,s,a){return e.apply(this,arguments)}}(),i._createFire=function(){var e=r(s().mark((function e(t,n,r,a){var i,o,u,h,S,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.branchNum){e.next=2;break}return e.abrupt("return");case 2:if(i=t.branchNum,1!=(o=i%2)){e.next=9;break}return e.next=7,l.create(t,n,r,a);case 7:u=e.sent,this.fireSet.add(u);case 9:h=this.gameSys.gameProp.fireBranchAngle,S=0;case 11:if(!(S<i-o)){e.next=28;break}if(S%2!=0){e.next=20;break}return m=c.addAngleDir(a,h*S/2+h),e.next=16,l.create(t,n,r,m);case 16:u=e.sent,this.fireSet.add(u),e.next=25;break;case 20:return m=c.addAngleDir(a,-h*(S+1)/2),e.next=23,l.create(t,n,r,m);case 23:u=e.sent,this.fireSet.add(u);case 25:S++,e.next=11;break;case 28:case"end":return e.stop()}}),e,this)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),i.destroyObj=function(e){this.fireSet.has(e)&&this.delSet.add(e),this.enemySet.has(e)&&this.delSet.add(e),this.loveSet.has(e)&&this.delSet.add(e)},i.changeLove=function(e){this.changeLoveSet.add(e)},i.loop=function(){for(var e,t=n(this.delSet);!(e=t()).done;){var r=e.value;this.poolSys.destroyNode(r),this.fireSet.delete(r),this.enemySet.delete(r),this.loveSet.delete(r)}this.delSet.clear();for(var s,a=n(this.changeLoveSet);!(s=a()).done;){r=s.value;this.loveSet.add(r),this.fireSet.delete(r),this.enemySet.delete(r)}this.changeLoveSet.clear()},i.getAllFireSet=function(){return this.fireSet},i.getAllEnemySet=function(){return this.enemySet},i.getAllLoveSet=function(){return this.loveSet},i.getAllDelSet=function(){return this.delSet},i.checkHaveEnemy=function(e){return this.enemySet.has(e)&&!this.delSet.has(e)&&!this.changeLoveSet.has(e)},a}(o))||y);a._RF.pop()}}}));

System.register("chunks:///_virtual/SettingDlg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DlgBase.ts"],(function(e){"use strict";var i,t,l,d;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,l=e._decorator},function(e){d=e.DlgBase}],execute:function(){var o,m;t._RF.push({},"dcafc1UDuBBNJVbzJ2vLdDF","SettingDlg",void 0);var a=l.ccclass;l.property,e("SettingDlg",a("SettingDlg")(((m=function(e){function t(){for(var i,t=arguments.length,l=new Array(t),d=0;d<t;d++)l[d]=arguments[d];return(i=e.call.apply(e,[this].concat(l))||this).m_AudioLabel=void 0,i.m_ShakeLabel=void 0,i.m_AudioHandle=void 0,i.m_AudioSlider=void 0,i.m_ShakeHandle=void 0,i.m_ShakeSlider=void 0,i.m_ProtocolBtn=void 0,i.m_PolicyBtn=void 0,i.m_Dlg=void 0,i.m_ExitBtn=void 0,i}return i(t,e),t.prototype.initDlg=function(e){this.m_AudioLabel=this.node.getChildByName("m_Dlg").getChildByName("m_AudioLabel"),this.m_ShakeLabel=this.node.getChildByName("m_Dlg").getChildByName("m_ShakeLabel"),this.m_AudioHandle=this.node.getChildByName("m_Dlg").getChildByName("m_AudioSlider").getChildByName("m_AudioHandle"),this.m_AudioSlider=this.node.getChildByName("m_Dlg").getChildByName("m_AudioSlider"),this.m_ShakeHandle=this.node.getChildByName("m_Dlg").getChildByName("m_ShakeSlider").getChildByName("m_ShakeHandle"),this.m_ShakeSlider=this.node.getChildByName("m_Dlg").getChildByName("m_ShakeSlider"),this.m_ProtocolBtn=this.node.getChildByName("m_Dlg").getChildByName("m_ProtocolBtn"),this.m_PolicyBtn=this.node.getChildByName("m_Dlg").getChildByName("m_PolicyBtn"),this.m_Dlg=this.node.getChildByName("m_Dlg"),this.m_ExitBtn=this.node.getChildByName("m_ExitBtn")},t}(d)).UI_PATH="SettingDlg",o=m))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/SettingDlgCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ClickFunctor.ts","./SysMgr.ts","./DlgSys.ts","./SettingSys.ts","./SettingDlg.ts","./PolicyDlgCom.ts","./ProtocolDlgCom.ts"],(function(t){"use strict";var i,o,n,e,s,r,c,h,l,g,u,a,p;return{setters:[function(t){i=t.inheritsLoose,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){e=t.cclegacy,s=t._decorator,r=t.Slider},function(t){c=t.ClickFunctor},function(t){h=t.SysMgr},function(t){l=t.DlgSys},function(t){g=t.SettingSys},function(t){u=t.SettingDlg},function(t){a=t.PolicyDlgCom},function(t){p=t.ProtocolDlgCom}],execute:function(){var S;e._RF.push({},"bd99bg7osdNi6xv+ksFJ3WN","SettingDlgCom",void 0);var f=s.ccclass;s.property,t("SettingDlgCom",f("SettingDlgCom")(S=function(t){function e(){for(var i,o=arguments.length,n=new Array(o),e=0;e<o;e++)n[e]=arguments[e];return(i=t.call.apply(t,[this].concat(n))||this).data=void 0,i.heroProp=void 0,i.settingProp=void 0,i}i(e,t);var s=e.prototype;return s.initDlg=function(){var i=o(n().mark((function i(o){return n().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t.prototype.initDlg.call(this,o),this.settingProp=h.getSys(g).settingProp,this.m_ExitBtn.on("click",c.getFunc(this,"onExitClick"),this),this.m_AudioSlider.on("click",c.getFunc(this,"onAudioStart"),this),this.m_ShakeSlider.on("click",c.getFunc(this,"onShakeStart"),this),this.m_ProtocolBtn.on("click",c.getFunc(this,"onProtocol"),this),this.m_PolicyBtn.on("click",c.getFunc(this,"onPolicy"),this),this.initRefresh();case 8:case"end":return i.stop()}}),i,this)})));return function(t){return i.apply(this,arguments)}}(),s.initRefresh=function(){this.refreshAudio(),this.refreshShake()},s.onAudioStart=function(){this.settingProp.setData({isOpenAudio:!this.settingProp.isOpenAudio}),this.refreshAudio()},s.onShakeStart=function(){this.settingProp.setData({isOpenShake:!this.settingProp.isOpenShake}),this.refreshShake()},s.onProtocol=function(){h.getSys(l).createDlg(p)},s.onPolicy=function(){h.getSys(l).createDlg(a)},s.refreshAudio=function(){this.settingProp.isOpenAudio?this.m_AudioSlider.getComponent(r).progress=.85:this.m_AudioSlider.getComponent(r).progress=.15},s.refreshShake=function(){this.settingProp.isOpenShake?this.m_ShakeSlider.getComponent(r).progress=.85:this.m_ShakeSlider.getComponent(r).progress=.15},s.onExitClick=function(){this.closeDlg(e)},e}(u))||S);e._RF.pop()}}}));

System.register("chunks:///_virtual/SettingProp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PropBase.ts"],(function(t){"use strict";var e,r,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,n=t._decorator},function(t){o=t.PropBase}],execute:function(){var i;r._RF.push({},"fa73dQFkRVPFoOCxoMyhSia","SettingProp",void 0);var c=n.ccclass;n.property,t("SettingProp",c("SettingProp")(i=function(t){function r(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).isOpenAudio=!0,e.isOpenShake=!0,e}return e(r,t),r}(o))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./SettingProp.ts"],(function(t){"use strict";var n,e,o,r,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){r=t.SysBase},function(t){s=t.SettingProp}],execute:function(){var i;e._RF.push({},"2e1aaJtb45Lj7bjJuplfnaR","SettingSys",void 0);var c=o.ccclass;o.property,t("SettingSys",c("SettingSys")(i=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).settingProp=void 0,n}return n(e,t),e.prototype.onLoad=function(){this.settingProp=new s},e}(r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteCom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts","./ResourceLoader.ts"],(function(t){"use strict";var e,r,n,o,s,i,a,c;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,i=t.Sprite},function(t){a=t.ComBase},function(t){c=t.ResourceLoader}],execute:function(){var u;o._RF.push({},"606a7g4Z3FKS4V5r510Pt1H","SpriteCom",void 0);var p=s.ccclass;s.property,t("SpriteCom",p("SpriteCom")(u=function(t){function o(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).path=void 0,e}e(o,t);var s=o.prototype;return s.setSprite=function(){var t=r(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.path=e,t.next=3,c.loadAsset(e);case 3:this.getComponent(i).spriteFrame=t.sent;case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.onDestroy=function(){c.releaseAsses(this.path)},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/StorageUtils.ts",["cc"],(function(t){"use strict";var e,i,r,a;return{setters:[function(t){e=t.cclegacy,i=t._decorator,r=t.path,a=t.native}],execute:function(){var o;e._RF.push({},"379f7kdhd1KWoyvt39fjrxL","StorageUtils",void 0);var s=i.ccclass;i.property,t("StorageUtils",s("StorageUtils")(o=function(){function t(){}return t.saveWxData=function(t,e){window.window.wx&&window.wx.setUserCloudStorage({KVDataList:[{key:t,value:e}],success:function(t){console.log("saveWxData success:res=>",t)},fail:function(t){console.log("saveWxData fail:res=>",t)}})},t.getData=function(t,e){void 0===e&&(e=void 0);var i=localStorage.getItem(t);return null==i||""==i||null==i?e:i},t.saveData=function(t,e){localStorage.setItem(t,e)},t.getFileData=function(t,e){void 0===e&&(e=void 0);var i=r.dirname(t);if(!a.fileUtils.isDirectoryExist(i))return e;var o=a.fileUtils.getStringFromFile(t);return null==o||""==o?e:o},t.saveFileData=function(t,e){var i=r.dirname(t);a.fileUtils.isDirectoryExist(i)||a.fileUtils.createDirectory(i),a.fileUtils.writeDataToFile(e,t)},t.saveFileDataTxt=function(t,e){var i=r.dirname(t);a.fileUtils.isDirectoryExist(i)||a.fileUtils.createDirectory(i),a.fileUtils.writeStringToFile(e,t)},t}())||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/SysBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComBase.ts"],(function(e){"use strict";var s,t,o,r;return{setters:[function(e){s=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator},function(e){r=e.ComBase}],execute:function(){var n;t._RF.push({},"9a5424uwpZDdq8FzEmhB4AE","SysBase",void 0);var c=o.ccclass;o.property,e("SysBase",c("SysBase")(n=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var o=t.prototype;return o.addSys=function(e){return this.addCom(e)},o.removeSys=function(e){this.removeCom(e)},t}(r))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/SysMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./MainDlgCom.ts","./AudioSys.ts","./CommonSys.ts","./DlgSys.ts","./EventSys.ts","./GameSys.ts","./HeroSys.ts","./PoolSys.ts","./SettingSys.ts","./TimeSys.ts","./PreLoad.ts"],(function(n){"use strict";var t,e,r,s,o,i,u,c,a,y,S,f,d,p,l,m,g;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){s=n.cclegacy,o=n._decorator},function(n){i=n.SysBase},function(n){u=n.MainDlgCom},function(n){c=n.AudioSys},function(n){a=n.CommonSys},function(n){y=n.DlgSys},function(n){S=n.EventSys},function(n){f=n.GameSys},function(n){d=n.HeroSys},function(n){p=n.PoolSys},function(n){l=n.SettingSys},function(n){m=n.TimeSys},function(n){g=n.PreLoad}],execute:function(){var v,h;s._RF.push({},"8e319/zlAlMh4cdbl1N44Rv","SysMgr",void 0);var M=o.ccclass;o.property,n("SysMgr",M("SysMgr")(((h=function(n){function s(){return n.apply(this,arguments)||this}t(s,n),s.getSys=function(n){return s.ins.getCom(n)},s.addSys=function(n){return s.ins.addCom(n)},s.removeSys=function(n){s.ins.removeCom(n)};var o=s.prototype;return o.init=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.addSys(l),s.addSys(m),s.addSys(S),s.addSys(a),s.addSys(y),s.addSys(p),s.addSys(c),s.addSys(f),n.abrupt("return",this);case 9:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o.enter=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.enterMain();case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),o.enterMain=function(){var n=e(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.preloadRes();case 2:return s.addSys(d),n.next=5,s.ins.getCom(y).createDlg(u);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s}(i)).ins=void 0,v=h))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/TimeSys.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SysBase.ts","./DestroyCB.ts","./Functor.ts","./IntervalMgr.ts"],(function(e){"use strict";var t,r,n,a,i,s,o,u,c,l;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator},function(e){o=e.SysBase},function(e){u=e.DestroyCB},function(e){c=e.Functor},function(e){l=e.IntervalMgr}],execute:function(){var f,p;i._RF.push({},"69f63GsNtZMj5wML80SDDaB","TimeSys",void 0);var h=s.ccclass;s.property,e("TimeSys",h("TimeSys")(((p=function(e){function i(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).timeMap=new Map,t.nowTime=0,t.timeInterval=1,t.keyInterval=100,t.destroyObj=new Set,t}t(i,e);var s=i.prototype;return s.onLoad=function(){this.schedule(this.loop,this.timeInterval/this.keyInterval)},s.loop=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.nowTime+=this.timeInterval,e.next=3,this.runTimer();case 3:l.loop(this.timeInterval/this.keyInterval);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.getNowTime=function(){return this.nowTime},s.addTimer=function(e,t,r,n){void 0===n&&(n=!1);var a=this.nowTime+Math.round(r*this.keyInterval),s=this.timeMap.get(a);null==s&&(s=new Map,this.timeMap.set(a,s));var o=s.get(e);null==o&&(o=new Array,s.set(e,o),u.addCb(e,this,"onObjDestroy"));for(var c=arguments.length,l=new Array(c>4?c-4:0),f=4;f<c;f++)l[f-4]=arguments[f];o.push({isLoop:n,funcName:t,dt:r,args:l});var p=e[i.OBJ_DELETE_SET_KEY];null==p&&(e[i.OBJ_DELETE_SET_KEY]=new Set),e[i.OBJ_DELETE_SET_KEY].add(a)},s.removeTimer=function(e,t){var n=e[i.OBJ_DELETE_SET_KEY];if(null!=n)for(var a,s=r(n);!(a=s()).done;){var o=a.value,u=this.timeMap.get(o);if(null!=u){var c=u.get(e);if(null!=c){var l=-1;for(var f in c)if(c[f].funcName==t){l=Number(f);break}l>-1&&c.splice(l,1)}}}},s.onObjDestroy=function(e){this.destroyObj.add(e);var t=e[i.OBJ_DELETE_SET_KEY];if(null!=t)for(var n,a=r(t);!(n=a()).done;){var s=n.value,o=this.timeMap.get(s);null!=o&&o.delete(e)}},s.runTimer=function(){var e=n(a().mark((function e(){var t,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=this.timeMap.get(this.nowTime))){e.next=3;break}return e.abrupt("return");case 3:t.forEach(n(a().mark((function e(t,n){var s,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:s=r(t);case 3:if((o=s()).done){e.next=9;break}return u=o.value,e.next=7,i.runFunc(n,u);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})))),this.timeMap.delete(this.nowTime);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.runFunc=function(){var e=n(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getFunc.apply(c,[t,r.funcName].concat(r.args))();case 2:if(!this.destroyObj.has(t)){e.next=4;break}return e.abrupt("return");case 4:if(null!=t[i.OBJ_DELETE_SET_KEY]){e.next=6;break}return e.abrupt("return");case 6:r.isLoop&&(t[i.OBJ_DELETE_SET_KEY].delete(this.nowTime),this.addTimer.apply(this,[t,r.funcName,r.dt,r.isLoop].concat(r.args)));case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),i}(o)).OBJ_DELETE_SET_KEY="_obj_delete_set_key",f=p))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/TweenAction.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,a,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,a=e._decorator,o=e.Vec3}],execute:function(){var r,c;n._RF.push({},"5a9b6vV5vJJYKbJg4O1vHlv","TweenAction",void 0);var i=a.ccclass;a.property,e("TweenAction",i("TweenAction")(((c=function(){function e(e){this.data=void 0,this.data=e}e.createStart=function(){var t=new e({type:0,next:null});return e.actionSet.add(t),t};var n=e.prototype;return n.moveTo=function(t,n,a,r,c){var i=new e({obj:t,type:1,delay:r,dirSpeed:new o(a).subtract(n).multiplyScalar(1/r),time:0,cb:c,next:null});return this.data.next=i,i},n.delay=function(t,n){var a=new e({type:2,delay:t,time:0,cb:n,next:null});return this.data.next=a,a},e.loop=function(n){e.delSet.clear(),e.addSet.clear();for(var a,o=t(e.actionSet);!(a=o()).done;){var r=a.value;e.runAction(n,r)}for(var c,i=t(e.addSet);!(c=i()).done;){r=c.value;e.actionSet.add(r)}for(var d,l=t(e.delSet);!(d=l()).done;){r=d.value;e.actionSet.delete(r)}},e.runAction=function(t,n){var a=n.data;0==a.type?e.runNextAction(t,n):1==a.type?e.handleMove(t,n):2==a.type&&e.handleDelay(t,n)},e.handleMove=function(t,n){var a=n.data;a.obj.activeInHierarchy?(a.time+=t,a.obj.position=a.obj.position.add(new o(a.dirSpeed).multiplyScalar(t)),a.time>=a.delay&&(e.runNextAction(t,n),null!=a.cb&&a.cb())):e.runNextAction(t,n)},e.handleDelay=function(t,n){var a=n.data;a.time+=t,a.time>=a.delay&&(e.runNextAction(t,n),null!=a.cb&&a.cb())},e.runNextAction=function(t,n){var a=n.data.next;e.delSet.add(n),null!=a&&(e.runAction(t,a),e.addSet.add(a))},e}()).actionSet=new Set,c.delSet=new Set,c.addSet=new Set,r=c))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/WXTool.ts",["cc","./GlobalVar.ts"],(function(o){"use strict";var e,s,c,n;return{setters:[function(o){e=o.cclegacy,s=o._decorator,c=o.resources},function(o){n=o.GlobalVar}],execute:function(){var t;e._RF.push({},"fd67cxFd01OgZicrAifGWR0","WXTool",void 0);var i=s.ccclass;s.property,o("WXTool",i("WXTool")(t=function(){function o(){}return o.share=function(){n.isWX&&c.load("textures/",(function(o,e){window.wx.shareAppMessage({title:"666",imageUrl:e.url,withShareTicket:!0,success:function(o){},fail:function(o){}})}))},o.uploadScore=function(o){n.isWX&&window.wx.postMessage({command:"uploadScore",score:o})},o.setScore=function(o){n.isWX&&window.wx.postMessage({command:"setScore",score:o})},o.showRank=function(){n.isWX&&window.wx.postMessage({command:"render"})},o.closeRank=function(){n.isWX&&window.wx.postMessage({command:"close"})},o}())||t);e._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});